(function(sa){define("d3",[],function(){return function(){d3=function(){function sa(c){return null!=c&&!isNaN(c)}function n(c){return c.length}function a(c,q){try{for(var a in q)Object.defineProperty(c.prototype,a,{value:q[a],enumerable:!1})}catch(g){c.prototype=q}}function b(){}function p(){}function r(c,q,a){return function(){var g=a.apply(q,arguments);return g===q?c:g}}function v(c,q){if(q in c)return q;q=q.charAt(0).toUpperCase()+q.substring(1);for(var a=0,g=Xd.length;a<g;++a){var h=Xd[a]+q;if(h in
c)return h}}function f(){}function k(){}function y(c){function q(){for(var q=a,g=-1,I=q.length,B;++g<I;)(B=q[g].on)&&B.apply(this,arguments);return c}var a=[],g=new b;q.on=function(q,m){var I=g.get(q),B;if(2>arguments.length)return I&&I.on;I&&(I.on=null,a=a.slice(0,B=a.indexOf(I)).concat(a.slice(B+1)),g.remove(q));m&&a.push(g.set(q,{on:m}));return c};return q}function t(){x.event.preventDefault()}function N(){for(var c=x.event,q;q=c.sourceEvent;)c=q;return c}function H(c){for(var q=new k,a=0,g=arguments.length;++a<
g;)q[arguments[a]]=y(q);q.of=function(a,e){return function(g){try{var B=g.sourceEvent=x.event;g.target=c;x.event=g;q[g.type].apply(a,e)}finally{x.event=B}}};return q}function F(c){Sb(c,oa);return c}function K(c){return"function"===typeof c?c:function(){return Sc(c,this)}}function E(c){return"function"===typeof c?c:function(){return Tc(c,this)}}function M(c,q){function a(){this.removeAttribute(c)}function g(){this.removeAttributeNS(c.space,c.local)}function h(){this.setAttribute(c,q)}function m(){this.setAttributeNS(c.space,
c.local,q)}function I(){var a=q.apply(this,arguments);null==a?this.removeAttribute(c):this.setAttribute(c,a)}function B(){var a=q.apply(this,arguments);null==a?this.removeAttributeNS(c.space,c.local):this.setAttributeNS(c.space,c.local,a)}c=x.ns.qualify(c);return null==q?c.local?g:a:"function"===typeof q?c.local?B:I:c.local?m:h}function U(c){return c.trim().replace(/\s+/g," ")}function A(c){return new RegExp("(?:^|\\s+)"+x.requote(c)+"(?:\\s+|$)","g")}function T(c,q){function a(){for(var e=-1;++e<
h;)c[e](this,q)}function g(){for(var a=-1,e=q.apply(this,arguments);++a<h;)c[a](this,e)}c=c.trim().split(/^|\s+/).map(R);var h=c.length;return"function"===typeof q?g:a}function R(c){var q=A(c);return function(a,g){if(h=a.classList)return g?h.add(c):h.remove(c);var h=a.getAttribute("class")||"";g?(q.lastIndex=0,q.test(h)||a.setAttribute("class",U(h+" "+c))):a.setAttribute("class",U(h.replace(q," ")))}}function J(c,q,a){function g(){this.style.removeProperty(c)}function h(){this.style.setProperty(c,
q,a)}function m(){var g=q.apply(this,arguments);null==g?this.style.removeProperty(c):this.style.setProperty(c,g,a)}return null==q?g:"function"===typeof q?m:h}function O(c,q){function a(){delete this[c]}function g(){this[c]=q}function h(){var a=q.apply(this,arguments);null==a?delete this[c]:this[c]=a}return null==q?a:"function"===typeof q?h:g}function Q(c){return"function"===typeof c?c:(c=x.ns.qualify(c)).local?function(){return this.ownerDocument.createElementNS(c.space,c.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,
c)}}function P(c){return function(){return Yd(this,c)}}function w(c){arguments.length||(c=x.ascending);return function(q,a){return q&&a?c(q.__data__,a.__data__):!q-!a}}function C(c,q){for(var a=0,g=c.length;a<g;a++)for(var h=c[a],m=0,I=h.length,B;m<I;m++)(B=h[m])&&q(B,m,a);return c}function D(c){Sb(c,Qa);return c}function z(c){var q,a;return function(g,h,m){g=c[m].update;var I=g.length;m!=a&&(a=m,q=0);for(h>=q&&(q=h+1);!(h=g[q])&&++q<I;);return h}}function S(){var c=this.__transition__;c&&++c.active}
function V(c,q,a){function g(){var q=this[I];q&&(this.removeEventListener(c,q,q.$),delete this[I])}function h(){var h=L(q,Za(arguments));g.call(this);this.addEventListener(c,this[I]=h,h.$=a);h._=q}function m(){var q=new RegExp("^__on([^.]+)"+x.requote(c)+"$"),a,e;for(e in this)if(a=e.match(q)){var g=this[e];this.removeEventListener(a[1],g,g.$);delete this[e]}}var I="__on"+c,B=c.indexOf("."),L=W;0<B&&(c=c.substring(0,B));var b=Uc.get(c);b&&(c=b,L=G);return B?q?h:g:q?f:m}function W(c,q){return function(a){var g=
x.event;x.event=a;q[0]=this.__data__;try{c.apply(this,q)}finally{x.event=g}}}function G(c,q){var a=W(c,q);return function(c){var q=c.relatedTarget;q&&(q===this||q.compareDocumentPosition(this)&8)||a.call(this,c)}}function ba(){var c=".dragsuppress-"+ ++rg,q="click"+c,a=x.select(wa).on("touchmove"+c,t).on("dragstart"+c,t).on("selectstart"+c,t);if(Gb){var g=$a.style,h=g[Gb];g[Gb]="none"}return function(m){a.on(c,null);Gb&&(g[Gb]=h);if(m){var I=function(){a.on(q,null)};a.on(q,function(){t();I()},!0);
setTimeout(I,0)}}}function X(c,q){q.changedTouches&&(q=q.changedTouches[0]);var a=c.ownerSVGElement||c;if(a.createSVGPoint){var g=a.createSVGPoint();if(0>Vc&&(wa.scrollX||wa.scrollY)){var a=x.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),h=a[0][0].getScreenCTM();Vc=!(h.f||h.e);a.remove()}Vc?(g.x=q.pageX,g.y=q.pageY):(g.x=q.clientX,g.y=q.clientY);g=g.matrixTransform(c.getScreenCTM().inverse());return[g.x,g.y]}a=c.getBoundingClientRect();
return[q.clientX-a.left-c.clientLeft,q.clientY-a.top-c.clientTop]}function l(c){return 1<c?0:-1>c?ka:Math.acos(c)}function u(c){return 1<c?ya:-1>c?-ya:Math.asin(c)}function da(c){return((c=Math.exp(c))+1/c)/2}function ia(c){return(c=Math.sin(c/2))*c}function ga(){}function Y(c,q,a){return new ea(c,q,a)}function ea(c,q,a){this.h=c;this.s=q;this.l=a}function ha(c,q,a){function g(c){360<c?c-=360:0>c&&(c+=360);return 60>c?h+(m-h)*c/60:180>c?m:240>c?h+(m-h)*(240-c)/60:h}var h,m;c=isNaN(c)?0:0>(c%=360)?
c+360:c;q=isNaN(q)?0:0>q?0:1<q?1:q;a=0>a?0:1<a?1:a;m=.5>=a?a*(1+q):a+q-a*q;h=2*a-m;return Ma(Math.round(255*g(c+120)),Math.round(255*g(c)),Math.round(255*g(c-120)))}function ca(c,q,a){return new Z(c,q,a)}function Z(c,q,a){this.h=c;this.c=q;this.l=a}function ma(c,q,a){isNaN(c)&&(c=0);isNaN(q)&&(q=0);return fa(a,Math.cos(c*=ja)*q,Math.sin(c)*q)}function fa(c,q,a){return new na(c,q,a)}function na(c,q,a){this.l=c;this.a=q;this.b=a}function pa(c,q,a){c=(c+16)/116;a=c-a/200;q=tb(c+q/500)*$d;c=tb(c)*ae;
a=tb(a)*be;return Ma(Wc(3.2404542*q-1.5371385*c-.4985314*a),Wc(-.969266*q+1.8760108*c+.041556*a),Wc(.0556434*q-.2040259*c+1.0572252*a))}function ab(c,q,a){return 0<c?ca(Math.atan2(a,q)*ra,Math.sqrt(q*q+a*a),c):ca(NaN,NaN,c)}function tb(c){return.206893034<c?c*c*c:(c-4/29)/7.787037}function Xc(c){return.008856<c?Math.pow(c,1/3):7.787037*c+4/29}function Wc(c){return Math.round(255*(.00304>=c?12.92*c:1.055*Math.pow(c,1/2.4)-.055))}function Vb(c){return Ma(c>>16,c>>8&255,c&255)+""}function Ma(c,q,a){return new Yc(c,
q,a)}function Yc(c,q,a){this.r=c;this.g=q;this.b=a}function ub(c){return 16>c?"0"+Math.max(0,c).toString(16):Math.min(255,c).toString(16)}function ce(c,q,a){var g=0,h=0,m=0,I,B;if(I=/([a-z]+)\((.*)\)/i.exec(c))switch(B=I[2].split(","),I[1]){case "hsl":return a(parseFloat(B[0]),parseFloat(B[1])/100,parseFloat(B[2])/100);case "rgb":return q(Zc(B[0]),Zc(B[1]),Zc(B[2]))}if(a=Wb.get(c))return q(a.r,a.g,a.b);null!=c&&"#"===c.charAt(0)&&(4===c.length?(g=c.charAt(1),g+=g,h=c.charAt(2),h+=h,m=c.charAt(3),
m+=m):7===c.length&&(g=c.substring(1,3),h=c.substring(3,5),m=c.substring(5,7)),g=parseInt(g,16),h=parseInt(h,16),m=parseInt(m,16));return q(g,h,m)}function de(c,q,a){var g=Math.min(c/=255,q/=255,a/=255),h=Math.max(c,q,a),m=h-g,I=(h+g)/2;m?(g=.5>I?m/(h+g):m/(2-h-g),c=60*(c==h?(q-a)/m+(q<a?6:0):q==h?(a-c)/m+2:(c-q)/m+4)):(c=NaN,g=0<I&&1>I?0:c);return Y(c,g,I)}function ee(c,q,a){c=$c(c);q=$c(q);a=$c(a);var g=Xc((.4124564*c+.3575761*q+.1804375*a)/$d),h=Xc((.2126729*c+.7151522*q+.072175*a)/ae);c=Xc((.0193339*
c+.119192*q+.9503041*a)/be);return fa(116*h-16,500*(g-h),200*(h-c))}function $c(c){return.04045>=(c/=255)?c/12.92:Math.pow((c+.055)/1.055,2.4)}function Zc(c){var q=parseFloat(c);return"%"===c.charAt(c.length-1)?Math.round(2.55*q):q}function qa(c){return"function"===typeof c?c:function(){return c}}function va(c){return c}function ad(c){return function(q,a,g){2===arguments.length&&"function"===typeof a&&(g=a,a=null);return Xb(q,a,c,g)}}function Xb(c,q,a,g){function h(){var c=L.status,q;if(!c&&L.responseText||
200<=c&&300>c||304===c){try{q=a.call(m,L)}catch(g){I.error.call(m,g);return}I.load.call(m,q)}else I.error.call(m,L)}var m={},I=x.dispatch("beforesend","progress","load","error"),B={},L=new XMLHttpRequest,b=null;!wa.XDomainRequest||"withCredentials"in L||!/^(http(s)?:)?\/\//.test(c)||(L=new XDomainRequest);"onload"in L?L.onload=L.onerror=h:L.onreadystatechange=function(){3<L.readyState&&h()};L.onprogress=function(c){var q=x.event;x.event=c;try{I.progress.call(m,L)}finally{x.event=q}};m.header=function(c,
q){c=(c+"").toLowerCase();if(2>arguments.length)return B[c];null==q?delete B[c]:B[c]=q+"";return m};m.mimeType=function(c){if(!arguments.length)return q;q=null==c?null:c+"";return m};m.responseType=function(c){if(!arguments.length)return b;b=c;return m};m.response=function(c){a=c;return m};["get","post"].forEach(function(c){m[c]=function(){return m.send.apply(m,[c].concat(Za(arguments)))}});m.send=function(a,e,g){2===arguments.length&&"function"===typeof e&&(g=e,e=null);L.open(a,c,!0);null==q||"accept"in
B||(B.accept=q+",*/*");if(L.setRequestHeader)for(var h in B)L.setRequestHeader(h,B[h]);null!=q&&L.overrideMimeType&&L.overrideMimeType(q);null!=b&&(L.responseType=b);if(null!=g)m.on("error",g).on("load",function(c){g(null,c)});I.beforesend.call(m,L);L.send(null==e?null:e);return m};m.abort=function(){L.abort();return m};x.rebind(m,I,"on");return null==g?m:m.get(sg(g))}function sg(c){return 1===c.length?function(q,a){c(null==q?a:null)}:c}function bd(){var c=fe(),c=ge()-c;24<c?(isFinite(c)&&(clearTimeout(Yb),
Yb=setTimeout(bd,c)),Zb=0):(Zb=1,he(bd))}function fe(){var c=Date.now();for(Sa=$b;Sa;)c>=Sa.t&&(Sa.f=Sa.c(c-Sa.t)),Sa=Sa.n;return c}function ge(){for(var c,q=$b,a=Infinity;q;)q.f?q=c?c.n=q.n:$b=q.n:(q.t<a&&(a=q.t),q=(c=q).n);ac=c;return a}function cd(c,q){return q-(c?Math.ceil(Math.log(c)/Math.LN10):1)}function tg(c){return c+""}function dd(){}function ie(c,q,a){var g=a.s=c+q,h=g-c;a.t=c-(g-h)+(q-h)}function bc(c,q){if(c&&je.hasOwnProperty(c.type))je[c.type](c,q)}function ed(c,q,a){var g=-1;a=c.length-
a;var h;for(q.lineStart();++g<a;)h=c[g],q.point(h[0],h[1],h[2]);q.lineEnd()}function ke(c,q){var a=-1,g=c.length;for(q.polygonStart();++a<g;)ed(c[a],q,1);q.polygonEnd()}function ug(){function c(c,q){c*=ja;q=q*ja/2+ka/4;var a=c-g,e=Math.cos(q),b=Math.sin(q),l=m*b,f=h*e+l*Math.cos(a),a=l*Math.sin(a);jb.add(Math.atan2(a,f));g=c;h=e;m=b}var q,a,g,h,m;Da.point=function(I,B){Da.point=c;g=(q=I)*ja;h=Math.cos(B=(a=B)*ja/2+ka/4);m=Math.sin(B)};Da.lineEnd=function(){c(q,a)}}function kb(c){var q=c[0];c=c[1];
var a=Math.cos(c);return[a*Math.cos(q),a*Math.sin(q),Math.sin(c)]}function cc(c,q){return c[0]*q[0]+c[1]*q[1]+c[2]*q[2]}function vb(c,q){return[c[1]*q[2]-c[2]*q[1],c[2]*q[0]-c[0]*q[2],c[0]*q[1]-c[1]*q[0]]}function fd(c,q){c[0]+=q[0];c[1]+=q[1];c[2]+=q[2]}function dc(c,q){return[c[0]*q,c[1]*q,c[2]*q]}function ec(c){var q=Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]);c[0]/=q;c[1]/=q;c[2]/=q}function fc(c){return[Math.atan2(c[1],c[0]),u(c[2])]}function gc(c,q){return 1E-6>la(c[0]-q[0])&&1E-6>la(c[1]-q[1])}
function gd(c,q){c*=ja;var a=Math.cos(q*=ja);Hb(a*Math.cos(c),a*Math.sin(c),Math.sin(q))}function Hb(c,q,a){++Ib;Ta+=(c-Ta)/Ib;Ua+=(q-Ua)/Ib;Na+=(a-Na)/Ib}function le(){function c(c,m){c*=ja;var I=Math.cos(m*=ja),B=I*Math.cos(c),I=I*Math.sin(c),L=Math.sin(m),b=Math.atan2(Math.sqrt((b=a*L-g*I)*b+(b=g*B-q*L)*b+(b=q*I-a*B)*b),q*B+a*I+g*L);wb+=b;Ga+=b*(q+(q=B));Ha+=b*(a+(a=I));Ba+=b*(g+(g=L));Hb(q,a,g)}var q,a,g;Ja.point=function(h,m){h*=ja;var I=Math.cos(m*=ja);q=I*Math.cos(h);a=I*Math.sin(h);g=Math.sin(m);
Ja.point=c;Hb(q,a,g)}}function me(){Ja.point=gd}function vg(){function c(c,q){c*=ja;var a=Math.cos(q*=ja),e=a*Math.cos(c),a=a*Math.sin(c),b=Math.sin(q),Ra=h*b-m*a,f=m*e-g*b,k=g*a-h*e,z=Math.sqrt(Ra*Ra+f*f+k*k),u=g*e+h*a+m*b,p=z&&-l(u)/z,z=Math.atan2(z,u);bb+=p*Ra;cb+=p*f;Oa+=p*k;wb+=z;Ga+=z*(g+(g=e));Ha+=z*(h+(h=a));Ba+=z*(m+(m=b));Hb(g,h,m)}var q,a,g,h,m;Ja.point=function(I,B){q=I;a=B;Ja.point=c;I*=ja;var L=Math.cos(B*=ja);g=L*Math.cos(I);h=L*Math.sin(I);m=Math.sin(B);Hb(g,h,m)};Ja.lineEnd=function(){c(q,
a);Ja.lineEnd=me;Ja.point=gd}}function xb(){return!0}function ne(c,q,a,g,h){var m=[],I=[];c.forEach(function(c){if(!(0>=(q=c.length-1))){var q,a=c[0],e=c[q];if(gc(a,e)){h.lineStart();for(e=0;e<q;++e)h.point((a=c[e])[0],a[1]);h.lineEnd()}else q=new hc(a,c,null,!0),a=new hc(a,null,q,!1),q.o=a,m.push(q),I.push(a),q=new hc(e,c,null,!1),a=new hc(e,null,q,!0),q.o=a,m.push(q),I.push(a)}});I.sort(q);oe(m);oe(I);if(m.length){c=0;q=a;for(a=I.length;c<a;++c)I[c].e=q=!q;q=m[0];for(var B,L;;){for(var b=q,l=!0;b.v;)if((b=
b.n)===q)return;B=b.z;h.lineStart();do{b.v=b.o.v=!0;if(b.e){if(l)for(c=0,a=B.length;c<a;++c)h.point((L=B[c])[0],L[1]);else g(b.x,b.n.x,1,h);b=b.n}else{if(l)for(B=b.p.z,c=B.length-1;0<=c;--c)h.point((L=B[c])[0],L[1]);else g(b.x,b.p.x,-1,h);b=b.p}b=b.o;B=b.z;l=!l}while(!b.v);h.lineEnd()}}}function oe(c){if(q=c.length){for(var q,a=0,g=c[0],h;++a<q;)g.n=h=c[a],h.p=g,g=h;g.n=h=c[0];h.p=g}}function hc(c,q,a,g){this.x=c;this.z=q;this.o=a;this.e=g;this.v=!1;this.n=this.p=null}function pe(c,q,a,g){return function(h,
m){function I(q,a){var e=h(q,a);c(q=e[0],a=e[1])&&m.point(q,a)}function B(c,q){var a=h(c,q);k.point(a[0],a[1])}function L(){p.point=B;k.lineStart()}function b(){p.point=I;k.lineEnd()}function l(c,q){A.push([c,q]);var a=h(c,q);r.point(a[0],a[1])}function Ra(){r.lineStart();A=[]}function f(){l(A[0][0],A[0][1]);r.lineEnd();var c=r.clean(),q=w.buffer(),a=q.length;A.pop();C.push(A);A=null;if(a)if(c&1){var c=q[0],a=c.length-1,q=-1,e;for(m.lineStart();++q<a;)m.point((e=c[q])[0],e[1]);m.lineEnd()}else 1<
a&&c&2&&q.push(q.pop().concat(q.shift())),n.push(q.filter(wg))}var k=q(m),z=h.invert(g[0],g[1]),p={point:I,lineStart:L,lineEnd:b,polygonStart:function(){p.point=l;p.lineStart=Ra;p.lineEnd=f;n=[];C=[];m.polygonStart()},polygonEnd:function(){p.point=I;p.lineStart=L;p.lineEnd=b;n=x.merge(n);var c,q=z;c=C;var g=q[0],h=q[1],B=[Math.sin(g),-Math.cos(g),0],l=0,Fa=0;jb.reset();for(var Ra=0,f=c.length;Ra<f;++Ra){var k=c[Ra],Zd=k.length;if(Zd)for(var w=k[0],r=w[0],q=w[1]/2+ka/4,A=Math.sin(q),t=Math.cos(q),
D=1;;){D===Zd&&(D=0);var q=k[D],G=q[0],v=q[1]/2+ka/4,y=Math.sin(v),v=Math.cos(v),S=G-r,Tb=la(S)>ka,A=A*y;jb.add(Math.atan2(A*Math.sin(S),t*v+A*Math.cos(S)));l+=Tb?S+(0<=S?Ca:-Ca):S;Tb^r>=g^G>=g&&(w=vb(kb(w),kb(q)),ec(w),r=vb(B,w),ec(r),r=(Tb^0<=S?-1:1)*u(r[2]),h>r||h===r&&(w[0]||w[1]))&&(Fa+=Tb^0<=S?1:-1);if(!D++)break;r=G;A=y;t=v;w=q}}c=(-1E-6>l||1E-6>l&&0>jb)^Fa&1;n.length?ne(n,xg,c,a,m):c&&(m.lineStart(),a(null,null,1,m),m.lineEnd());m.polygonEnd();n=C=null},sphere:function(){m.polygonStart();
m.lineStart();a(null,null,1,m);m.lineEnd();m.polygonEnd()}},n,w=qe(),r=q(w),C,A;return p}}function wg(c){return 1<c.length}function qe(){var c=[],q;return{lineStart:function(){c.push(q=[])},point:function(c,a){q.push([c,a])},lineEnd:f,buffer:function(){var a=c;c=[];q=null;return a},rejoin:function(){1<c.length&&c.push(c.pop().concat(c.shift()))}}}function xg(c,q){return(0>(c=c.x)[0]?c[1]-ya-1E-6:ya-c[1])-(0>(q=q.x)[0]?q[1]-ya-1E-6:ya-q[1])}function yg(c){function q(c,q){return Math.cos(c)*Math.cos(q)>
h}function a(c,q,e){var g=kb(c),m=kb(q),B=[1,0,0],m=vb(g,m),I=cc(m,m),g=m[0],b=I-g*g;if(!b)return!e&&c;I=h*I/b;b=-h*g/b;g=vb(B,m);B=dc(B,I);m=dc(m,b);fd(B,m);m=cc(B,g);I=cc(g,g);b=m*m-I*(cc(B,B)-1);if(!(0>b)){var l=Math.sqrt(b),b=dc(g,(-m-l)/I);fd(b,B);b=fc(b);if(!e)return b;e=c[0];var f=q[0];c=c[1];q=q[1];var k;f<e&&(k=e,e=f,f=k);var z=f-e,p=1E-6>la(z-ka);!p&&q<c&&(k=c,c=q,q=k);if(p||1E-6>z?p?0<c+q^b[1]<(1E-6>la(b[0]-e)?c:q):c<=b[1]&&b[1]<=q:z>ka^(e<=b[0]&&b[0]<=f))return q=dc(g,(-m+l)/I),fd(q,B),
[b,fc(q)]}}function g(q,a){var e=m?c:ka-c,g=0;q<-e?g|=1:q>e&&(g|=2);a<-e?g|=4:a>e&&(g|=8);return g}var h=Math.cos(c),m=0<h,I=1E-6<la(h),B=hd(c,6*ja);return pe(q,function(c){var h,B,b,l,f;return{lineStart:function(){l=b=!1;f=1},point:function(k,z){var p=[k,z],u,w=q(k,z),r=m?w?0:g(k,z):w?g(k+(0>k?ka:-ka),z):0;!h&&(l=b=w)&&c.lineStart();w!==b&&(u=a(h,p),gc(h,u)||gc(p,u))&&(p[0]+=1E-6,p[1]+=1E-6,w=q(p[0],p[1]));if(w!==b)f=0,w?(c.lineStart(),u=a(p,h),c.point(u[0],u[1])):(u=a(h,p),c.point(u[0],u[1]),c.lineEnd()),
h=u;else if(I&&h&&m^w){var n;r&B||!(n=a(p,h,!0))||(f=0,m?(c.lineStart(),c.point(n[0][0],n[0][1]),c.point(n[1][0],n[1][1]),c.lineEnd()):(c.point(n[1][0],n[1][1]),c.lineEnd(),c.lineStart(),c.point(n[0][0],n[0][1])))}!w||h&&gc(h,p)||c.point(p[0],p[1]);h=p;b=w;B=r},lineEnd:function(){b&&c.lineEnd();h=null},clean:function(){return f|(l&&b)<<1}}},B,m?[0,-c]:[-ka,c-ka])}function re(c,q,a,g){return function(h){var m=h.a,I=h.b,B=m.x,m=m.y,L=0,b=1,l=I.x-B,I=I.y-m,f;f=c-B;if(l||!(0<f)){f/=l;if(0>l){if(f<L)return;
f<b&&(b=f)}else if(0<l){if(f>b)return;f>L&&(L=f)}f=a-B;if(l||!(0>f)){f/=l;if(0>l){if(f>b)return;f>L&&(L=f)}else if(0<l){if(f<L)return;f<b&&(b=f)}f=q-m;if(I||!(0<f)){f/=I;if(0>I){if(f<L)return;f<b&&(b=f)}else if(0<I){if(f>b)return;f>L&&(L=f)}f=g-m;if(I||!(0>f)){f/=I;if(0>I){if(f>b)return;f>L&&(L=f)}else if(0<I){if(f<L)return;f<b&&(b=f)}0<L&&(h.a={x:B+L*l,y:m+L*I});1>b&&(h.b={x:B+b*l,y:m+b*I});return h}}}}}}function se(c,q,a,g){function h(g,h){return 1E-6>la(g[0]-c)?0<h?0:3:1E-6>la(g[0]-a)?0<h?2:1:
1E-6>la(g[1]-q)?0<h?1:0:0<h?3:2}function m(c,q){return I(c.x,q.x)}function I(c,q){var a=h(c,1),e=h(q,1);return a!==e?a-e:0===a?q[1]-c[1]:1===a?c[0]-q[0]:2===a?c[1]-q[1]:q[0]-c[0]}return function(B){function L(m,B,L,b){var l=0,Ub=0;if(null==m||(l=h(m,L))!==(Ub=h(B,L))||0>I(m,B)^0<L){do b.point(0===l||3===l?c:a,1<l?g:q);while((l=(l+L+4)%4)!==Ub)}else b.point(B[0],B[1])}function b(h,m){c<=h&&h<=a&&q<=m&&m<=g&&B.point(h,m)}function l(h,m){h=Math.max(-1E9,Math.min(1E9,h));m=Math.max(-1E9,Math.min(1E9,
m));var I=c<=h&&h<=a&&q<=m&&m<=g;u&&w.push([h,m]);if(v)r=h,A=m,C=I,v=!1,I&&(B.lineStart(),B.point(h,m));else if(I&&G)B.point(h,m);else{var L={a:{x:D,y:t},b:{x:h,y:m}};p(L)?(G||(B.lineStart(),B.point(L.a.x,L.a.y)),B.point(L.b.x,L.b.y),I||B.lineEnd(),y=!1):I&&(B.lineStart(),B.point(h,m),y=!1)}D=h;t=m;G=I}var f=B,k=qe(),p=re(c,q,a,g),z,u,w,n={point:b,lineStart:function(){n.point=l;u&&u.push(w=[]);v=!0;G=!1;D=t=NaN},lineEnd:function(){z&&(l(r,A),C&&G&&k.rejoin(),z.push(k.buffer()));n.point=b;G&&B.lineEnd()},
polygonStart:function(){B=k;z=[];u=[];y=!0},polygonEnd:function(){B=f;z=x.merge(z);var q;q=[c,g];for(var a=0,e=u.length,h=q[1],I=0;I<e;++I)for(var b=1,l=u[I],Ub=l.length,k=l[0],Fa;b<Ub;++b)Fa=l[b],k[1]<=h?Fa[1]>h&&0<(Fa[0]-k[0])*(q[1]-k[1])-(q[0]-k[0])*(Fa[1]-k[1])&&++a:Fa[1]<=h&&0>(Fa[0]-k[0])*(q[1]-k[1])-(q[0]-k[0])*(Fa[1]-k[1])&&--a,k=Fa;q=0!==a;a=y&&q;e=z.length;if(a||e)B.polygonStart(),a&&(B.lineStart(),L(null,null,1,B),B.lineEnd()),e&&ne(z,m,q,L,B),B.polygonEnd();z=u=w=null}},r,A,C,D,t,G,v,
y;return n}}function te(c,q){function a(e,h){return e=c(e,h),q(e[0],e[1])}c.invert&&q.invert&&(a.invert=function(a,e){return a=q.invert(a,e),a&&c.invert(a[0],a[1])});return a}function id(c){var q=0,a=ka/3,g=jd(c);c=g(q,a);c.parallels=function(c){return arguments.length?g(q=c[0]*ka/180,a=c[1]*ka/180):[q/ka*180,a/ka*180]};return c}function ue(c,q){function a(c,q){var e=Math.sqrt(m-2*h*Math.sin(q))/h;return[e*Math.sin(c*=h),I-e*Math.cos(c)]}var g=Math.sin(c),h=(g+Math.sin(q))/2,m=1+g*(2*h-g),I=Math.sqrt(m)/
h;a.invert=function(c,q){var a=I-q;return[Math.atan2(c,a)/h,u((m-(c*c+a*a)*h*h)/(2*h))]};return a}function zg(){function c(c,q){ic+=h*c-g*q;g=c;h=q}var q,a,g,h;db.point=function(m,I){db.point=c;q=g=m;a=h=I};db.lineEnd=function(){c(q,a)}}function Ag(){function c(c,q){I.push("M",c,",",q,m)}function q(c,q){I.push("M",c,",",q);B.point=a}function a(c,q){I.push("L",c,",",q)}function g(){B.point=c}function h(){I.push("Z")}var m=ve(4.5),I=[],B={point:c,lineStart:function(){B.point=q},lineEnd:g,polygonStart:function(){B.lineEnd=
h},polygonEnd:function(){B.lineEnd=g;B.point=c},pointRadius:function(c){m=ve(c);return B},result:function(){if(I.length){var c=I.join("");I=[];return c}}};return B}function ve(c){return"m0,"+c+"a"+c+","+c+" 0 1,1 0,"+-2*c+"a"+c+","+c+" 0 1,1 0,"+2*c+"z"}function lb(c,q){Ta+=c;Ua+=q;++Na}function we(){function c(c,h){var m=c-q,I=h-a,m=Math.sqrt(m*m+I*I);Ga+=m*(q+c)/2;Ha+=m*(a+h)/2;Ba+=m;lb(q=c,a=h)}var q,a;Ka.point=function(g,h){Ka.point=c;lb(q=g,a=h)}}function xe(){Ka.point=lb}function Bg(){function c(c,
q){var a=c-g,e=q-h,a=Math.sqrt(a*a+e*e);Ga+=a*(g+c)/2;Ha+=a*(h+q)/2;Ba+=a;a=h*c-g*q;bb+=a*(g+c);cb+=a*(h+q);Oa+=3*a;lb(g=c,h=q)}var q,a,g,h;Ka.point=function(m,I){Ka.point=c;lb(q=g=m,a=h=I)};Ka.lineEnd=function(){c(q,a)}}function Cg(c){function a(q,e){c.moveTo(q,e);c.arc(q,e,I,0,Ca)}function e(a,q){c.moveTo(a,q);B.point=g}function g(a,q){c.lineTo(a,q)}function h(){B.point=a}function m(){c.closePath()}var I=4.5,B={point:a,lineStart:function(){B.point=e},lineEnd:h,polygonStart:function(){B.lineEnd=
m},polygonEnd:function(){B.lineEnd=h;B.point=a},pointRadius:function(c){I=c;return B},result:f};return B}function ye(c){function a(c){return(B?g:e)(c)}function e(a){return ze(a,function(q,e){q=c(q,e);a.point(q[0],q[1])})}function g(a){function q(e,g){e=c(e,g);a.point(e[0],e[1])}function e(){r=NaN;G.point=g;a.lineStart()}function g(q,e){var m=kb([q,e]),I=c(q,e);h(r,A,n,C,x,D,r=I[0],A=I[1],n=q,C=m[0],x=m[1],D=m[2],B,a);a.point(r,A)}function m(){G.point=q;a.lineEnd()}function I(){e();G.point=b;G.lineEnd=
l}function b(c,a){g(f=c,a);k=r;p=A;z=C;u=x;w=D;G.point=g}function l(){h(r,A,n,C,x,D,k,p,f,z,u,w,B,a);G.lineEnd=m;m()}var f,k,p,z,u,w,n,r,A,C,x,D,G={point:q,lineStart:e,lineEnd:m,polygonStart:function(){a.polygonStart();G.lineStart=I},polygonEnd:function(){a.polygonEnd();G.lineStart=e}};return G}function h(a,q,e,g,B,b,l,f,k,p,z,u,w,n){var r=l-a,A=f-q,C=r*r+A*A;if(C>4*m&&w--){var x=g+p,G=B+z,D=b+u,t=Math.sqrt(x*x+G*G+D*D),v=Math.asin(D/=t),y=1E-6>la(la(D)-1)||1E-6>la(e-k)?(e+k)/2:Math.atan2(G,x),S=
c(y,v),v=S[0],S=S[1],J=v-a,V=S-q,O=A*J-r*V;if(O*O/C>m||.3<la((r*J+A*V)/C-.5)||g*p+B*z+b*u<I)h(a,q,e,g,B,b,v,S,y,x/=t,G/=t,D,w,n),n.point(v,S),h(v,S,y,x,G,D,l,f,k,p,z,u,w,n)}}var m=.5,I=Math.cos(30*ja),B=16;a.precision=function(c){if(!arguments.length)return Math.sqrt(m);B=0<(m=c*c)&&16;return a};return a}function Dg(c){var a=ye(function(a,q){return c([a*ra,q*ra])});return function(c){return Ae(a(c))}}function Be(c){this.stream=c}function ze(c,a){return{point:a,sphere:function(){c.sphere()},lineStart:function(){c.lineStart()},
lineEnd:function(){c.lineEnd()},polygonStart:function(){c.polygonStart()},polygonEnd:function(){c.polygonEnd()}}}function eb(c){return jd(function(){return c})()}function jd(c){function a(c){c=B(c[0]*ja,c[1]*ja);return[c[0]*b+n,r-c[1]*b]}function e(c){return(c=B.invert((c[0]-n)/b,(r-c[1])/b))&&[c[0]*ra,c[1]*ra]}function g(){B=te(I=kd(z,u,w),m);var c=m(k,p);n=l-c[0]*b;r=f+c[1]*b;return h()}function h(){t&&(t.valid=!1,t=null);return a}var m,I,B,L=ye(function(c,a){c=m(c,a);return[c[0]*b+n,r-c[1]*b]}),
b=150,l=480,f=250,k=0,p=0,z=0,u=0,w=0,n,r,A=Ce,C=va,G=null,D=null,t;a.stream=function(c){t&&(t.valid=!1);t=Ae(A(I,L(C(c))));t.valid=!0;return t};a.clipAngle=function(c){if(!arguments.length)return G;A=null==c?(G=c,Ce):yg((G=+c)*ja);return h()};a.clipExtent=function(c){if(!arguments.length)return D;C=(D=c)?se(c[0][0],c[0][1],c[1][0],c[1][1]):va;return h()};a.scale=function(c){if(!arguments.length)return b;b=+c;return g()};a.translate=function(c){if(!arguments.length)return[l,f];l=+c[0];f=+c[1];return g()};
a.center=function(c){if(!arguments.length)return[k*ra,p*ra];k=c[0]%360*ja;p=c[1]%360*ja;return g()};a.rotate=function(c){if(!arguments.length)return[z*ra,u*ra,w*ra];z=c[0]%360*ja;u=c[1]%360*ja;w=2<c.length?c[2]%360*ja:0;return g()};x.rebind(a,L,"precision");return function(){m=c.apply(this,arguments);a.invert=m.invert&&e;return g()}}function Ae(c){return ze(c,function(a,e){c.point(a*ja,e*ja)})}function Jb(c,a){return[c,a]}function De(c,a){return[c>ka?c-Ca:c<-ka?c+Ca:c,a]}function kd(c,a,e){return c?
a||e?te(Ee(c),Fe(a,e)):Ee(c):a||e?Fe(a,e):De}function Ge(c){return function(a,e){return a+=c,[a>ka?a-Ca:a<-ka?a+Ca:a,e]}}function Ee(c){var a=Ge(c);a.invert=Ge(-c);return a}function Fe(c,a){function e(c,a){var q=Math.cos(a),e=Math.cos(c)*q,q=Math.sin(c)*q,b=Math.sin(a),l=b*g+e*h;return[Math.atan2(q*m-l*I,e*g-b*h),u(l*m+q*I)]}var g=Math.cos(c),h=Math.sin(c),m=Math.cos(a),I=Math.sin(a);e.invert=function(c,a){var q=Math.cos(a),e=Math.cos(c)*q,q=Math.sin(c)*q,b=Math.sin(a),l=b*m-q*I;return[Math.atan2(q*
m+b*I,e*g+l*h),u(l*g-e*h)]};return e}function hd(c,a){var e=Math.cos(c),g=Math.sin(c);return function(h,m,I,B){var b=I*a;if(null!=h){if(h=He(e,h),m=He(e,m),0<I?h<m:h>m)h+=I*Ca}else h=c+I*Ca,m=c-.5*b;for(var l;0<I?h>m:h<m;h-=b)B.point((l=fc([e,-g*Math.cos(h),-g*Math.sin(h)]))[0],l[1])}}function He(c,a){var e=kb(a);e[0]-=c;ec(e);var g=l(-e[1]);return((0>-e[2]?-g:g)+2*Math.PI-1E-6)%(2*Math.PI)}function Ie(c,a,e){var g=x.range(c,a-1E-6,e).concat(a);return function(c){return g.map(function(a){return[c,
a]})}}function Je(c,a,e){var g=x.range(c,a-1E-6,e).concat(a);return function(c){return g.map(function(a){return[a,c]})}}function ld(c){return c.source}function md(c){return c.target}function Eg(c,a,e,g){var h=Math.cos(a),m=Math.sin(a),I=Math.cos(g),B=Math.sin(g),b=h*Math.cos(c),l=h*Math.sin(c),f=I*Math.cos(e),k=I*Math.sin(e),p=2*Math.asin(Math.sqrt(ia(g-a)+h*I*ia(e-c))),z=1/Math.sin(p);e=p?function(c){var a=Math.sin(c*=p)*z,q=Math.sin(p-c)*z;c=q*b+a*f;var e=q*l+a*k,a=q*m+a*B;return[Math.atan2(e,c)*
ra,Math.atan2(a,Math.sqrt(c*c+e*e))*ra]}:function(){return[c*ra,a*ra]};e.distance=p;return e}function Kb(c,a){function e(a,q){var e=Math.cos(a),I=Math.cos(q),e=c(e*I);return[e*I*Math.sin(a),e*Math.sin(q)]}e.invert=function(c,e){var m=Math.sqrt(c*c+e*e),I=a(m),B=Math.sin(I),I=Math.cos(I);return[Math.atan2(c*B,m*I),Math.asin(m&&e*B/m)]};return e}function Ke(c,a){function e(c,a){var q=1E-6>la(la(a)-ya)?0:m/Math.pow(Math.tan(ka/4+a/2),h);return[q*Math.sin(h*c),m-q*Math.cos(h*c)]}var g=Math.cos(c),h=c===
a?Math.sin(c):Math.log(g/Math.cos(a))/Math.log(Math.tan(ka/4+a/2)/Math.tan(ka/4+c/2)),m=g*Math.pow(Math.tan(ka/4+c/2),h)/h;if(!h)return jc;e.invert=function(c,a){var q=m-a,e=(0<h?1:0>h?-1:0)*Math.sqrt(c*c+q*q);return[Math.atan2(c,q)/h,2*Math.atan(Math.pow(m/e,1/h))-ya]};return e}function Le(c,a){function e(c,a){var q=m-a;return[q*Math.sin(h*c),m-q*Math.cos(h*c)]}var g=Math.cos(c),h=c===a?Math.sin(c):(g-Math.cos(a))/(a-c),m=g/h+c;if(1E-6>la(h))return Jb;e.invert=function(c,a){var q=m-a;return[Math.atan2(c,
q)/h,m-(0<h?1:0>h?-1:0)*Math.sqrt(c*c+q*q)]};return e}function jc(c,a){return[c,Math.log(Math.tan(ka/4+a/2))]}function Me(c){var a=eb(c),e=a.scale,g=a.translate,h=a.clipExtent,m;a.scale=function(){var c=e.apply(a,arguments);return c===a?m?a.clipExtent(null):a:c};a.translate=function(){var c=g.apply(a,arguments);return c===a?m?a.clipExtent(null):a:c};a.clipExtent=function(c){var B=h.apply(a,arguments);if(B===a){if(m=null==c){var b=ka*e(),l=g();h([[l[0]-b,l[1]-b],[l[0]+b,l[1]+b]])}}else m&&(B=null);
return B};return a.clipExtent(null)}function nd(c,a){return[Math.log(Math.tan(ka/4+a/2)),-c]}function mb(c){return c[0]}function yb(c){return c[1]}function Fg(c,a,e,g){var h,m,I;c=g[c];h=c[0];m=c[1];c=g[a];a=c[0];I=c[1];c=g[e];return 0<(c[1]-m)*(a-h)-(I-m)*(c[0]-h)}function od(c,a,e){return(e[0]-a[0])*(c[1]-a[1])<(e[1]-a[1])*(c[0]-a[0])}function Ne(c,a,e,g){var h=c[0],m=e[0],I=a[0]-h,B=g[0]-m;c=c[1];e=e[1];a=a[1]-c;g=g[1]-e;m=(B*(c-e)-g*(h-m))/(g*I-B*a);return[h+m*I,c+m*a]}function Oe(c){var a=c[0];
c=c[c.length-1];return!(a[0]-c[0]||a[1]-c[1])}function Gg(){kc(this);this.edge=this.site=this.circle=null}function Pe(c){var a=Qe.pop()||new Gg;a.site=c;return a}function pd(c){zb(c);Ab.remove(c);Qe.push(c);kc(c)}function Re(c,a){var e=c.site,g=e.x,h=e.y,m=h-a;if(!m)return g;var I=c.P;if(!I)return-Infinity;var e=I.site,I=e.x,e=e.y,B=e-a;if(!B)return I;var b=I-g,l=1/m-1/B,f=b/B;return l?(-f+Math.sqrt(f*f-2*l*(b*b/(-2*B)-e+B/2+h-m/2)))/l+g:(g+I)/2}function Se(c){this.site=c;this.edges=[]}function Te(c,
a){return a.angle-c.angle}function Hg(){kc(this);this.x=this.y=this.arc=this.site=this.cy=null}function Bb(c){var a=c.P,e=c.N;if(a&&e){var g=a.site,a=c.site,h=e.site;if(g!==h){var e=a.x,m=a.y,I=g.x-e,B=g.y-m,g=h.x-e,h=h.y-m,b=2*(I*h-B*g);if(!(-1E-12<=b)){var l=I*I+B*B,f=g*g+h*h,B=(h*l-B*f)/b,I=(I*f-g*l)/b,h=I+m,m=Ue.pop()||new Hg;m.arc=c;m.site=a;m.x=B+e;m.y=h+Math.sqrt(B*B+I*I);m.cy=h;c.circle=m;c=null;for(a=Lb._;a;)if(m.y<a.y||m.y===a.y&&m.x<=a.x)if(a.L)a=a.L;else{c=a.P;break}else if(a.R)a=a.R;
else{c=a;break}Lb.insert(c,m);c||(qd=m)}}}}function zb(c){var a=c.circle;a&&(a.P||(qd=a.N),Lb.remove(a),Ue.push(a),kc(a),c.circle=null)}function Ig(c,a){var e=c.b;if(e)return!0;var g=c.a,e=a[0][0],h=a[1][0],m=a[0][1],I=a[1][1],b=c.l,L=c.r,l=b.x,b=b.y,f=L.x,L=L.y,k=(l+f)/2,p;if(L===b){if(k<e||k>=h)return;if(l>f){if(!g)g={x:k,y:m};else if(g.y>=I)return;e={x:k,y:I}}else{if(!g)g={x:k,y:I};else if(g.y<m)return;e={x:k,y:m}}}else if(p=(l-f)/(L-b),k=(b+L)/2-p*k,-1>p||1<p)if(l>f){if(!g)g={x:(m-k)/p,y:m};else if(g.y>=
I)return;e={x:(I-k)/p,y:I}}else{if(!g)g={x:(I-k)/p,y:I};else if(g.y<m)return;e={x:(m-k)/p,y:m}}else if(b<L){if(!g)g={x:e,y:p*e+k};else if(g.x>=h)return;e={x:h,y:p*h+k}}else{if(!g)g={x:h,y:p*h+k};else if(g.x<e)return;e={x:e,y:p*e+k}}c.a=g;c.b=e;return!0}function Ve(c,a){this.l=c;this.r=a;this.a=this.b=null}function Mb(c,a,e,g){var h=new Ve(c,a);Cb.push(h);e&&lc(h,c,a,e);g&&lc(h,a,c,g);nb[c.i].edges.push(new mc(h,c,a));nb[a.i].edges.push(new mc(h,a,c));return h}function Jg(c,a,e){c=new Ve(c,null);c.a=
a;c.b=e;Cb.push(c);return c}function lc(c,a,e,g){c.a||c.b?c.l===e?c.b=g:c.a=g:(c.a=g,c.l=a,c.r=e)}function mc(c,a,e){var g=c.a,h=c.b;this.edge=c;this.site=a;this.angle=e?Math.atan2(e.y-a.y,e.x-a.x):c.l===a?Math.atan2(h.x-g.x,g.y-h.y):Math.atan2(g.x-h.x,h.y-g.y)}function rd(){this._=null}function kc(c){c.U=c.C=c.L=c.R=c.P=c.N=null}function Nb(c,a){var e=a.R,g=a.U;g?g.L===a?g.L=e:g.R=e:c._=e;e.U=g;a.U=e;a.R=e.L;a.R&&(a.R.U=a);e.L=a}function Ob(c,a){var e=a.L,g=a.U;g?g.L===a?g.L=e:g.R=e:c._=e;e.U=g;
a.U=e;a.L=e.R;a.L&&(a.L.U=a);e.R=a}function We(c){for(;c.L;)c=c.L;return c}function sd(c,a){var e=c.sort(Kg).pop(),g,h,m;Cb=[];nb=Array(c.length);Ab=new rd;for(Lb=new rd;;)if(m=qd,e&&(!m||e.y<m.y||e.y===m.y&&e.x<m.x)){if(e.x!==g||e.y!==h){nb[e.i]=new Se(e);g=e;for(var b=g.x,B=g.y,L=m=h=void 0,l=void 0,f=Ab._;f;)if(L=Re(f,B)-b,1E-6<L)f=f.L;else{var k=f,l=B,p=k.N;p?l=Re(p,l):(k=k.site,l=k.y===l?k.x:Infinity);l=b-l;if(1E-6<l){if(!f.R){h=f;break}f=f.R}else{-1E-6<L?(h=f.P,m=f):-1E-6<l?(h=f,m=f.N):h=m=
f;break}}b=Pe(g);Ab.insert(h,b);if(h||m)if(h===m)zb(h),m=Pe(h.site),Ab.insert(b,m),b.edge=m.edge=Mb(h.site,b.site),Bb(h),Bb(m);else if(m){zb(h);zb(m);var B=h.site,f=B.x,l=B.y,k=g.x-f,p=g.y-l,L=m.site,z=L.x-f,u=L.y-l,w=2*(k*u-p*z),n=k*k+p*p,r=z*z+u*u,f={x:(u*n-p*r)/w+f,y:(k*r-z*n)/w+l};lc(m.edge,B,L,f);b.edge=Mb(B,g,null,f);m.edge=Mb(g,L,null,f);Bb(h);Bb(m)}else b.edge=Mb(h.site,b.site);g=e.x;h=e.y}e=c.pop()}else if(m){L=m.arc;m=L.circle;B=m.x;f=m.cy;m={x:B,y:f};k=L.P;l=L.N;b=[L];pd(L);for(L=k;L.circle&&
1E-6>la(B-L.circle.x)&&1E-6>la(f-L.circle.cy);)k=L.P,b.unshift(L),pd(L),L=k;b.unshift(L);zb(L);for(k=l;k.circle&&1E-6>la(B-k.circle.x)&&1E-6>la(f-k.circle.cy);)l=k.N,b.push(k),pd(k),k=l;b.push(k);zb(k);B=b.length;f=void 0;for(f=1;f<B;++f)k=b[f],L=b[f-1],lc(k.edge,L.site,k.site,m);L=b[0];k=b[B-1];k.edge=Mb(L.site,k.site,null,m);Bb(L);Bb(k)}else break;if(a){e=Cb;g=re(a[0][0],a[0][1],a[1][0],a[1][1]);for(h=e.length;h--;)if(m=e[h],!Ig(m,a)||!g(m)||1E-6>la(m.a.x-m.b.x)&&1E-6>la(m.a.y-m.b.y))m.a=m.b=null,
e.splice(h,1);e=a[0][0];g=a[1][0];h=a[0][1];m=a[1][1];f=nb;for(l=f.length;l--;)if((k=f[l])&&k.prepare())for(z=k.edges,u=z.length,p=0;p<u;)if(w=z[p].end(),B=w.x,L=w.y,n=z[++p%u].start(),b=n.x,n=n.y,1E-6<la(B-b)||1E-6<la(L-n))z.splice(p,0,new mc(Jg(k.site,w,1E-6>la(B-e)&&1E-6<m-L?{x:e,y:1E-6>la(b-e)?n:m}:1E-6>la(L-m)&&1E-6<g-B?{x:1E-6>la(n-m)?b:g,y:m}:1E-6>la(B-g)&&1E-6<L-h?{x:g,y:1E-6>la(b-g)?n:h}:1E-6>la(L-h)&&1E-6<B-e?{x:1E-6>la(n-h)?b:e,y:h}:null),k.site,null)),++u}e={cells:nb,edges:Cb};Ab=Lb=Cb=
nb=null;return e}function Kg(c,a){return a.y-c.y||a.x-c.x}function Lg(c){return c.x}function Mg(c){return c.y}function Xe(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Pb(c,a,e,g,h,m){if(!c(a,e,g,h,m)){var b=.5*(e+h),B=.5*(g+m);a=a.nodes;a[0]&&Pb(c,a[0],e,g,b,B);a[1]&&Pb(c,a[1],b,g,h,B);a[2]&&Pb(c,a[2],e,B,b,m);a[3]&&Pb(c,a[3],b,B,h,m)}}function td(c,a){c=x.rgb(c);a=x.rgb(a);var e=c.r,g=c.g,h=c.b,m=a.r-e,b=a.g-g,B=a.b-h;return function(c){return"#"+ub(Math.round(e+m*c))+ub(Math.round(g+
b*c))+ub(Math.round(h+B*c))}}function Ye(c,a){var e={},g={},h;for(h in c)h in a?e[h]=ob(c[h],a[h]):g[h]=c[h];for(h in a)h in c||(g[h]=a[h]);return function(c){for(h in e)g[h]=e[h](c);return g}}function Va(c,a){a-=c=+c;return function(e){return c+a*e}}function Ze(c,a){var e,g,h=0,m=[],b=[],B,L;c+="";a+="";for(g=nc.lastIndex=0;e=nc.exec(a);++g)e.index&&m.push(a.substring(h,e.index)),b.push({i:m.length,x:e[0]}),m.push(null),h=nc.lastIndex;h<a.length&&m.push(a.substring(h));g=0;for(B=b.length;(e=nc.exec(c))&&
g<B;++g)if(L=b[g],L.x==e[0]){if(L.i)if(null==m[L.i+1])for(m[L.i-1]+=L.x,m.splice(L.i,1),e=g+1;e<B;++e)b[e].i--;else for(m[L.i-1]+=L.x+m[L.i+1],m.splice(L.i,2),e=g+1;e<B;++e)b[e].i-=2;else if(null==m[L.i+1])m[L.i]=L.x;else for(m[L.i]=L.x+m[L.i+1],m.splice(L.i+1,1),e=g+1;e<B;++e)b[e].i--;b.splice(g,1);B--;g--}else L.x=Va(parseFloat(e[0]),parseFloat(L.x));for(;g<B;)L=b.pop(),null==m[L.i+1]?m[L.i]=L.x:(m[L.i]=L.x+m[L.i+1],m.splice(L.i+1,1)),B--;return 1===m.length?null==m[0]?(L=b[0].x,function(c){return L(c)+
""}):function(){return a}:function(c){for(g=0;g<B;++g)m[(L=b[g]).i]=L.x(c);return m.join("")}}function ob(c,a){for(var e=x.interpolators.length,g;0<=--e&&!(g=x.interpolators[e](c,a)););return g}function oc(c,a){var e=[],g=[],h=c.length,m=a.length,b=Math.min(c.length,a.length),B;for(B=0;B<b;++B)e.push(ob(c[B],a[B]));for(;B<h;++B)g[B]=c[B];for(;B<m;++B)g[B]=a[B];return function(c){for(B=0;B<b;++B)g[B]=e[B](c);return g}}function Ng(c){return function(a){return 0>=a?0:1<=a?1:c(a)}}function $e(c){return function(a){return 1-
c(1-a)}}function af(c){return function(a){return.5*(.5>a?c(2*a):2-c(2-2*a))}}function Og(c){return c*c}function Pg(c){return c*c*c}function Qg(c){if(0>=c)return 0;if(1<=c)return 1;var a=c*c,e=a*c;return 4*(.5>c?e:3*(c-a)+e-.75)}function Rg(c){return 1-Math.cos(c*ya)}function Sg(c){return Math.pow(2,10*(c-1))}function Tg(c){return 1-Math.sqrt(1-c*c)}function Ug(c){return c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+.9375:7.5625*(c-=2.625/2.75)*c+.984375}
function bf(c,a){a-=c;return function(e){return Math.round(c+a*e)}}function cf(c){var a=[c.a,c.b],e=[c.c,c.d],g=df(a),h=a[0]*e[0]+a[1]*e[1],m=-h;e[0]+=m*a[0];e[1]+=m*a[1];m=df(e)||0;a[0]*e[1]<e[0]*a[1]&&(a[0]*=-1,a[1]*=-1,g*=-1,h*=-1);this.rotate=(g?Math.atan2(a[1],a[0]):Math.atan2(-e[0],e[1]))*ra;this.translate=[c.e,c.f];this.scale=[g,m];this.skew=m?Math.atan2(h,m)*ra:0}function df(c){var a=Math.sqrt(c[0]*c[0]+c[1]*c[1]);a&&(c[0]/=a,c[1]/=a);return a}function ef(c,a){var e=[],g=[],h,m=x.transform(c),
b=x.transform(a),B=m.translate,L=b.translate,l=m.rotate,f=b.rotate,k=m.skew,p=b.skew,m=m.scale,b=b.scale;B[0]!=L[0]||B[1]!=L[1]?(e.push("translate(",null,",",null,")"),g.push({i:1,x:Va(B[0],L[0])},{i:3,x:Va(B[1],L[1])})):L[0]||L[1]?e.push("translate("+L+")"):e.push("");l!=f?(180<l-f?f+=360:180<f-l&&(l+=360),g.push({i:e.push(e.pop()+"rotate(",null,")")-2,x:Va(l,f)})):f&&e.push(e.pop()+"rotate("+f+")");k!=p?g.push({i:e.push(e.pop()+"skewX(",null,")")-2,x:Va(k,p)}):p&&e.push(e.pop()+"skewX("+p+")");
m[0]!=b[0]||m[1]!=b[1]?(h=e.push(e.pop()+"scale(",null,",",null,")"),g.push({i:h-4,x:Va(m[0],b[0])},{i:h-2,x:Va(m[1],b[1])})):1==b[0]&&1==b[1]||e.push(e.pop()+"scale("+b+")");h=g.length;return function(c){for(var a=-1,q;++a<h;)e[(q=g[a]).i]=q.x(c);return e.join("")}}function Vg(c,a){a=a-(c=+c)?1/(a-c):0;return function(e){return(e-c)*a}}function Wg(c,a){a=a-(c=+c)?1/(a-c):0;return function(e){return Math.max(0,Math.min(1,(e-c)*a))}}function Xg(c){var a=c.source;c=c.target;var e;var g=c;if(a===g)e=
a;else{e=ff(a);for(var g=ff(g),h=e.pop(),m=g.pop(),b=null;h===m;)b=h,h=e.pop(),m=g.pop();e=b}for(g=[a];a!==e;)a=a.parent,g.push(a);for(a=g.length;c!==e;)g.splice(a,0,c),c=c.parent;return g}function ff(c){for(var a=[],e=c.parent;null!=e;)a.push(c),c=e,e=e.parent;a.push(c);return a}function Yg(c){c.fixed|=2}function Zg(c){c.fixed&=-7}function $g(c){c.fixed|=4;c.px=c.x;c.py=c.y}function ah(c){c.fixed&=-5}function gf(c,a,e){var g=0,h=0;c.charge=0;if(!c.leaf)for(var m=c.nodes,b=m.length,B=-1,L;++B<b;)L=
m[B],null!=L&&(gf(L,a,e),c.charge+=L.charge,g+=L.charge*L.cx,h+=L.charge*L.cy);c.point&&(c.leaf||(c.point.x+=Math.random()-.5,c.point.y+=Math.random()-.5),a*=e[c.point.index],c.charge+=c.pointCharge=a,g+=a*c.point.x,h+=a*c.point.y);c.cx=g/c.charge;c.cy=h/c.charge}function Qb(c,a){x.rebind(c,a,"sort","children","value");c.nodes=c;c.links=bh;return c}function ch(c){return c.children}function dh(c){return c.value}function eh(c,a){return a.value-c.value}function bh(c){return x.merge(c.map(function(c){return(c.children||
[]).map(function(a){return{source:c,target:a}})}))}function fh(c){return c.x}function gh(c){return c.y}function hh(c,a,e){c.y0=a;c.y=e}function ud(c){return x.range(c.length)}function vd(c){var a=-1;c=c[0].length;for(var e=[];++a<c;)e[a]=0;return e}function ih(c){for(var a=1,e=0,g=c[0][1],h,m=c.length;a<m;++a)(h=c[a][1])>g&&(e=a,g=h);return e}function jh(c){return c.reduce(kh,0)}function kh(c,a){return c+a[1]}function lh(c,a){return hf(c,Math.ceil(Math.log(a.length)/Math.LN2+1))}function hf(c,a){for(var e=
-1,g=+c[0],h=(c[1]-g)/a,m=[];++e<=a;)m[e]=h*e+g;return m}function mh(c){return[x.min(c),x.max(c)]}function jf(c,a){return c.parent==a.parent?1:2}function wd(c){var a=c.children;return a&&a.length?a[0]:c._tree.thread}function xd(c){var a=c.children,e;return a&&(e=a.length)?a[e-1]:c._tree.thread}function pc(c,a){var e=c.children;if(e&&(h=e.length))for(var g,h,m=-1;++m<h;)0<a(g=pc(e[m],a),c)&&(c=g);return c}function nh(c,a){return c.x-a.x}function oh(c,a){return a.x-c.x}function ph(c,a){return c.depth-
a.depth}function Wa(c,a){function e(c,h){var m=c.children;if(m&&(l=m.length))for(var b,B=null,L=-1,l;++L<l;)b=m[L],e(b,B),B=b;a(c,h)}e(c,null)}function qh(c,a){return c.value-a.value}function yd(c,a){var e=c._pack_next;c._pack_next=a;a._pack_prev=c;a._pack_next=e;e._pack_prev=a}function kf(c,a){c._pack_next=a;a._pack_prev=c}function lf(c,a){var e=a.x-c.x,g=a.y-c.y,h=c.r+a.r;return.999*h*h>e*e+g*g}function mf(c){function a(c){g=Math.min(c.x-c.r,g);h=Math.max(c.x+c.r,h);m=Math.min(c.y-c.r,m);b=Math.max(c.y+
c.r,b)}if((e=c.children)&&(z=e.length)){var e,g=Infinity,h=-Infinity,m=Infinity,b=-Infinity,B,L,l,f,k,p,z;e.forEach(rh);B=e[0];B.x=-B.r;B.y=0;a(B);if(1<z&&(L=e[1],L.x=L.r,L.y=0,a(L),2<z))for(l=e[2],nf(B,L,l),a(l),yd(B,l),B._pack_prev=l,yd(l,L),L=B._pack_next,f=3;f<z;f++){nf(B,L,l=e[f]);var u=0,n=1,w=1;for(k=L._pack_next;k!==L;k=k._pack_next,n++)if(lf(k,l)){u=1;break}if(1==u)for(p=B._pack_prev;p!==k._pack_prev&&!lf(p,l);p=p._pack_prev,w++);u?(n<w||n==w&&L.r<B.r?kf(B,L=k):kf(B=p,L),f--):(yd(B,l),L=
l,a(l))}B=(g+h)/2;L=(m+b)/2;for(f=k=0;f<z;f++)l=e[f],l.x-=B,l.y-=L,k=Math.max(k,l.r+Math.sqrt(l.x*l.x+l.y*l.y));c.r=k;e.forEach(sh)}}function rh(c){c._pack_next=c._pack_prev=c}function sh(c){delete c._pack_next;delete c._pack_prev}function of(c,a,e,g){var h=c.children;c.x=a+=g*c.x;c.y=e+=g*c.y;c.r*=g;if(h){c=-1;for(var m=h.length;++c<m;)of(h[c],a,e,g)}}function nf(c,a,e){var g=c.r+e.r,h=a.x-c.x,m=a.y-c.y;if(g&&(h||m)){var b=a.r+e.r,B=h*h+m*m,b=b*b,g=g*g;a=.5+(g-b)/(2*B);b=Math.sqrt(Math.max(0,2*b*
(g+B)-(g-=B)*g-b*b))/(2*B);e.x=c.x+a*h+b*m;e.y=c.y+a*m-b*h}else e.x=c.x+g,e.y=c.y}function th(c){return 1+x.max(c,function(c){return c.y})}function uh(c){return c.reduce(function(c,a){return c+a.x},0)/c.length}function pf(c){var a=c.children;return a&&a.length?pf(a[0]):c}function qf(c){var a=c.children,e;return a&&(e=a.length)?qf(a[e-1]):c}function zd(c){return{x:c.x,y:c.y,dx:c.dx,dy:c.dy}}function rf(c,a){var e=c.x+a[3],g=c.y+a[0],h=c.dx-a[1]-a[3],m=c.dy-a[0]-a[2];0>h&&(e+=h/2,h=0);0>m&&(g+=m/2,
m=0);return{x:e,y:g,dx:h,dy:m}}function Db(c){var a=c[0];c=c[c.length-1];return a<c?[a,c]:[c,a]}function qc(c){return c.rangeExtent?c.rangeExtent():Db(c.range())}function vh(c,a,e,g){var h=e(c[0],c[1]),m=g(a[0],a[1]);return function(c){return m(h(c))}}function rc(c,a){var e=0,g=c.length-1,h=c[e],m=c[g],b;m<h&&(b=e,e=g,g=b,b=h,h=m,m=b);c[e]=a.floor(h);c[g]=a.ceil(m);return c}function sf(c){return c?{floor:function(a){return Math.floor(a/c)*c},ceil:function(a){return Math.ceil(a/c)*c}}:wh}function xh(c,
a,e,g){var h=[],m=[],b=0,B=Math.min(c.length,a.length)-1;c[B]<c[0]&&(c=c.slice().reverse(),a=a.slice().reverse());for(;++b<=B;)h.push(e(c[b-1],c[b])),m.push(g(a[b-1],a[b]));return function(a){var q=x.bisect(c,a,1,B)-1;return m[q](h[q](a))}}function tf(c,a,e,g){function h(){var h=2<Math.min(c.length,a.length)?xh:vh,l=g?Wg:Vg;b=h(c,a,l,e);B=h(a,c,l,ob);return m}function m(c){return b(c)}var b,B;m.invert=function(c){return B(c)};m.domain=function(a){if(!arguments.length)return c;c=a.map(Number);return h()};
m.range=function(c){if(!arguments.length)return a;a=c;return h()};m.rangeRound=function(c){return m.range(c).interpolate(bf)};m.clamp=function(c){if(!arguments.length)return g;g=c;return h()};m.interpolate=function(c){if(!arguments.length)return e;e=c;return h()};m.ticks=function(a){return x.range.apply(x,fb(c,a))};m.tickFormat=function(a,q){return Ad(c,a,q)};m.nice=function(a){rc(c,sf(fb(c,a)[2]));return h()};m.copy=function(){return tf(c,a,e,g)};return h()}function Bd(c,a){return x.rebind(c,a,"range",
"rangeRound","interpolate","clamp")}function fb(c,a){null==a&&(a=10);var e=Db(c),g=e[1]-e[0],h=Math.pow(10,Math.floor(Math.log(g/a)/Math.LN10)),g=a/g*h;.15>=g?h*=10:.35>=g?h*=5:.75>=g&&(h*=2);e[0]=Math.ceil(e[0]/h)*h;e[1]=Math.floor(e[1]/h)*h+.5*h;e[2]=h;return e}function Ad(c,a,e){var g=fb(c,a);return x.format(e?e.replace(uf,function(c,a,q,e,b,l,f,k,p,z){return[a,q,e,b,l,f,k,p||"."+yh(z,g),z].join("")}):",."+Cd(g[2])+"f")}function Cd(c){return-Math.floor(Math.log(c)/Math.LN10+.01)}function yh(c,
a){var e=Cd(a[2]);return c in zh?Math.abs(e-Cd(Math.max(Math.abs(a[0]),Math.abs(a[1]))))+ +("e"!==c):e-2*("%"===c)}function vf(c,a,e,g){function h(c){return(e?Math.log(0>c?0:c):-Math.log(0<c?0:-c))/Math.log(a)}function m(c){return e?Math.pow(a,c):-Math.pow(a,-c)}function b(a){return c(h(a))}b.invert=function(a){return m(c.invert(a))};b.domain=function(a){if(!arguments.length)return g;e=0<=a[0];c.domain((g=a.map(Number)).map(h));return b};b.base=function(e){if(!arguments.length)return a;a=+e;c.domain(g.map(h));
return b};b.nice=function(){var a=rc(g.map(h),e?Math:Ah);c.domain(a);g=a.map(m);return b};b.ticks=function(){var c=Db(g),b=[],I=c[0],c=c[1],l=Math.floor(h(I)),f=Math.ceil(h(c)),k=a%1?2:a;if(isFinite(f-l)){if(e){for(;l<f;l++)for(var p=1;p<k;p++)b.push(m(l)*p);b.push(m(l))}else for(b.push(m(l));l++<f;)for(p=k-1;0<p;p--)b.push(m(l)*p);for(l=0;b[l]<I;l++);for(f=b.length;b[f-1]>c;f--);b=b.slice(l,f)}return b};b.tickFormat=function(c,a){if(!arguments.length)return wf;2>arguments.length?a=wf:"function"!==
typeof a&&(a=x.format(a));var q=Math.max(.1,c/b.ticks().length),g=e?(l=1E-12,Math.ceil):(l=-1E-12,Math.floor),l;return function(c){return c/m(g(h(c)+l))<=q?a(c):""}};b.copy=function(){return vf(c.copy(),a,e,g)};return Bd(b,c)}function xf(c,a,e){function g(a){return c(h(a))}var h=sc(a),m=sc(1/a);g.invert=function(a){return m(c.invert(a))};g.domain=function(a){if(!arguments.length)return e;c.domain((e=a.map(Number)).map(h));return g};g.ticks=function(c){return x.range.apply(x,fb(e,c))};g.tickFormat=
function(c,a){return Ad(e,c,a)};g.nice=function(c){return g.domain(rc(e,sf(fb(e,c)[2])))};g.exponent=function(b){if(!arguments.length)return a;h=sc(a=b);m=sc(1/a);c.domain(e.map(h));return g};g.copy=function(){return xf(c.copy(),a,e)};return Bd(g,c)}function sc(c){return function(a){return 0>a?-Math.pow(-a,c):Math.pow(a,c)}}function yf(c,a){function e(e){return m[((h.get(e)||"range"===a.t&&h.set(e,c.push(e)))-1)%m.length]}function g(a,q){return x.range(c.length).map(function(c){return a+q*c})}var h,
m,l;e.domain=function(g){if(!arguments.length)return c;c=[];h=new b;for(var m=-1,l=g.length,I;++m<l;)h.has(I=g[m])||h.set(I,c.push(I));return e[a.t].apply(e,a.a)};e.range=function(c){if(!arguments.length)return m;m=c;l=0;a={t:"range",a:arguments};return e};e.rangePoints=function(h,b){2>arguments.length&&(b=0);var f=h[0],k=h[1],p=(k-f)/(Math.max(1,c.length-1)+b);m=g(2>c.length?(f+k)/2:f+p*b/2,p);l=0;a={t:"rangePoints",a:arguments};return e};e.rangeBands=function(h,b,f){2>arguments.length&&(b=0);3>
arguments.length&&(f=b);var k=h[1]<h[0],p=h[k-0],z=(h[1-k]-p)/(c.length-b+2*f);m=g(p+z*f,z);k&&m.reverse();l=z*(1-b);a={t:"rangeBands",a:arguments};return e};e.rangeRoundBands=function(h,b,f){2>arguments.length&&(b=0);3>arguments.length&&(f=b);var k=h[1]<h[0],p=h[k-0],z=h[1-k],u=Math.floor((z-p)/(c.length-b+2*f));m=g(p+Math.round((z-p-(c.length-b)*u)/2),u);k&&m.reverse();l=Math.round(u*(1-b));a={t:"rangeRoundBands",a:arguments};return e};e.rangeBand=function(){return l};e.rangeExtent=function(){return Db(a.a[0])};
e.copy=function(){return yf(c,a)};return e.domain(c)}function zf(c,a){function e(){var e=0,b=a.length;for(h=[];++e<b;)h[e-1]=x.quantile(c,e/b);return g}function g(c){if(!isNaN(c=+c))return a[x.bisect(h,c)]}var h;g.domain=function(a){if(!arguments.length)return c;c=a.filter(function(c){return!isNaN(c)}).sort(x.ascending);return e()};g.range=function(c){if(!arguments.length)return a;a=c;return e()};g.quantiles=function(){return h};g.invertExtent=function(e){e=a.indexOf(e);return 0>e?[NaN,NaN]:[0<e?
h[e-1]:c[0],e<h.length?h[e]:c[c.length-1]]};g.copy=function(){return zf(c,a)};return e()}function Af(c,a,e){function g(a){return e[Math.max(0,Math.min(b,Math.floor(m*(a-c))))]}function h(){m=e.length/(a-c);b=e.length-1;return g}var m,b;g.domain=function(e){if(!arguments.length)return[c,a];c=+e[0];a=+e[e.length-1];return h()};g.range=function(c){if(!arguments.length)return e;e=c;return h()};g.invertExtent=function(a){a=e.indexOf(a);a=0>a?NaN:a/m+c;return[a,a+1/m]};g.copy=function(){return Af(c,a,e)};
return h()}function Bf(c,a){function e(e){if(e<=e)return a[x.bisect(c,e)]}e.domain=function(a){if(!arguments.length)return c;c=a;return e};e.range=function(c){if(!arguments.length)return a;a=c;return e};e.invertExtent=function(e){e=a.indexOf(e);return[c[e-1],c[e]]};e.copy=function(){return Bf(c,a)};return e}function Cf(c){function a(c){return+c}a.invert=a;a.domain=a.range=function(e){if(!arguments.length)return c;c=e.map(a);return a};a.ticks=function(a){return x.range.apply(x,fb(c,a))};a.tickFormat=
function(a,q){return Ad(c,a,q)};a.copy=function(){return Cf(c)};return a}function Bh(c){return c.innerRadius}function Ch(c){return c.outerRadius}function Df(c){return c.startAngle}function Ef(c){return c.endAngle}function Ff(c){function a(q){function b(){l.push("M",m(c(I),B))}for(var l=[],I=[],f=-1,k=q.length,p,z=qa(e),u=qa(g);++f<k;)h.call(this,p=q[f],f)?I.push([+z.call(this,p,f),+u.call(this,p,f)]):I.length&&(b(),I=[]);I.length&&b();return l.length?l.join(""):null}var e=mb,g=yb,h=xb,m=Ea,b=m.key,
B=.7;a.x=function(c){if(!arguments.length)return e;e=c;return a};a.y=function(c){if(!arguments.length)return g;g=c;return a};a.defined=function(c){if(!arguments.length)return h;h=c;return a};a.interpolate=function(c){if(!arguments.length)return b;b="function"===typeof c?m=c:(m=Dd.get(c)||Ea).key;return a};a.tension=function(c){if(!arguments.length)return B;B=c;return a};return a}function Ea(c){return c.join("L")}function Ed(c){for(var a=0,e=c.length,g=c[0],h=[g[0],",",g[1]];++a<e;)h.push("V",(g=c[a])[1],
"H",g[0]);return h.join("")}function Fd(c){for(var a=0,e=c.length,g=c[0],h=[g[0],",",g[1]];++a<e;)h.push("H",(g=c[a])[0],"V",g[1]);return h.join("")}function tc(c,a){if(1>a.length||c.length!=a.length&&c.length!=a.length+2)return Ea(c);var e=c.length!=a.length,g="",h=c[0],m=c[1],b=a[0],B=b,l=1;e&&(g+="Q"+(m[0]-2*b[0]/3)+","+(m[1]-2*b[1]/3)+","+m[0]+","+m[1],h=c[1],l=2);if(1<a.length)for(B=a[1],m=c[l],l++,g+="C"+(h[0]+b[0])+","+(h[1]+b[1])+","+(m[0]-B[0])+","+(m[1]-B[1])+","+m[0]+","+m[1],h=2;h<a.length;h++,
l++)m=c[l],B=a[h],g+="S"+(m[0]-B[0])+","+(m[1]-B[1])+","+m[0]+","+m[1];e&&(e=c[l],g+="Q"+(m[0]+2*B[0]/3)+","+(m[1]+2*B[1]/3)+","+e[0]+","+e[1]);return g}function Gd(c,a){for(var e=[],g=(1-a)/2,h,m=c[0],b=c[1],B=1,l=c.length;++B<l;)h=m,m=b,b=c[B],e.push([g*(b[0]-h[0]),g*(b[1]-h[1])]);return e}function Gf(c){if(3>c.length)return Ea(c);var a=1,e=c.length,g=c[0],h=g[0],m=g[1],b=[h,h,h,(g=c[1])[0]],B=[m,m,m,g[1]],h=[h,",",m,"L",Ia(gb,b),",",Ia(gb,B)];for(c.push(c[e-1]);++a<=e;)g=c[a],b.shift(),b.push(g[0]),
B.shift(),B.push(g[1]),Hd(h,b,B);c.pop();h.push("L",g);return h.join("")}function Ia(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]+c[3]*a[3]}function Hd(c,a,e){c.push("C",Ia(Hf,a),",",Ia(Hf,e),",",Ia(If,a),",",Ia(If,e),",",Ia(gb,a),",",Ia(gb,e))}function Id(c,a){return(a[1]-c[1])/(a[0]-c[0])}function Jf(c){for(var a,e=-1,g=c.length,h,m;++e<g;)a=c[e],h=a[0],m=a[1]+pb,a[0]=h*Math.cos(m),a[1]=h*Math.sin(m);return c}function Kf(c){function a(q){function l(){L.push("M",B(c(u),p),k,f(c(z.reverse()),p),"Z")}
for(var L=[],z=[],u=[],n=-1,w=q.length,r,A=qa(e),C=qa(h),G=e===g?function(){return D}:qa(g),x=h===m?function(){return t}:qa(m),D,t;++n<w;)b.call(this,r=q[n],n)?(z.push([D=+A.call(this,r,n),t=+C.call(this,r,n)]),u.push([+G.call(this,r,n),+x.call(this,r,n)])):z.length&&(l(),z=[],u=[]);z.length&&l();return L.length?L.join(""):null}var e=mb,g=mb,h=0,m=yb,b=xb,B=Ea,l=B.key,f=B,k="L",p=.7;a.x=function(c){if(!arguments.length)return g;e=g=c;return a};a.x0=function(c){if(!arguments.length)return e;e=c;return a};
a.x1=function(c){if(!arguments.length)return g;g=c;return a};a.y=function(c){if(!arguments.length)return m;h=m=c;return a};a.y0=function(c){if(!arguments.length)return h;h=c;return a};a.y1=function(c){if(!arguments.length)return m;m=c;return a};a.defined=function(c){if(!arguments.length)return b;b=c;return a};a.interpolate=function(c){if(!arguments.length)return l;l="function"===typeof c?B=c:(B=Dd.get(c)||Ea).key;f=B.reverse||B;k=B.closed?"M":"L";return a};a.tension=function(c){if(!arguments.length)return p;
p=c;return a};return a}function Dh(c){return c.radius}function Lf(c){return[c.x,c.y]}function Eh(c){return function(){var a=c.apply(this,arguments),e=a[0],a=a[1]+pb;return[e*Math.cos(a),e*Math.sin(a)]}}function Fh(){return 64}function Gh(){return"circle"}function Mf(c){c=Math.sqrt(c/ka);return"M0,"+c+"A"+c+","+c+" 0 1,1 0,"+-c+"A"+c+","+c+" 0 1,1 0,"+c+"Z"}function Rb(c,a){Sb(c,ua);c.id=a;return c}function Jd(c,a,e,g){var h=c.id;return C(c,"function"===typeof e?function(c,b,l){c.__transition__[h].tween.set(a,
g(e.call(c,c.__data__,b,l)))}:(e=g(e),function(c){c.__transition__[h].tween.set(a,e)}))}function Hh(c){null==c&&(c="");return function(){this.textContent=c}}function uc(c,a,e,g){var h=c.__transition__||(c.__transition__={active:0,count:0}),m=h[e];if(!m){var l=g.time,m=h[e]={tween:new b,time:l,ease:g.ease,delay:g.delay,duration:g.duration};++h.count;x.timer(function(g){function b(g){if(h.active>e)return k();h.active=e;m.event&&m.event.start.call(c,p,a);m.tween.forEach(function(e,g){(g=g.call(c,p,a))&&
r.push(g)});x.timer(function(){w.c=f(g||1)?xb:f;return 1},0,l)}function f(g){if(h.active!==e)return k();g/=n;for(var b=z(g),l=r.length;0<l;)r[--l].call(c,b);if(1<=g)return m.event&&m.event.end.call(c,p,a),k()}function k(){--h.count?delete h[e]:delete c.__transition__;return 1}var p=c.__data__,z=m.ease,u=m.delay,n=m.duration,w=Sa,r=[];w.t=u+l;if(u<=g)return b(g-u);w.c=b},0,l)}}function Nf(c,a){c.attr("transform",function(c){return"translate("+a(c)+",0)"})}function Of(c,a){c.attr("transform",function(c){return"translate(0,"+
a(c)+")"})}function Xa(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function qb(c,a,e){function g(a){var q=c(a),e=m(q,1);return a-q<e-a?q:e}function h(e){a(e=c(new xa(e-1)),1);return e}function m(c,e){a(c=new xa(+c),e);return c}function b(c,g,m){c=h(c);var l=[];if(1<m)for(;c<g;)e(c)%m||l.push(new Date(+c)),a(c,1);else for(;c<g;)l.push(new Date(+c)),a(c,1);return l}c.floor=c;c.round=g;c.ceil=h;c.offset=m;c.range=b;var l=c.utc=vc(c);l.floor=l;l.round=vc(g);l.ceil=
vc(h);l.offset=vc(m);l.range=function(c,a,q){try{xa=Xa;var e=new Xa;e._=c;return b(e,a,q)}finally{xa=Date}};return c}function vc(c){return function(a,e){try{xa=Xa;var g=new Xa;g._=a;return c(g,e)._}finally{xa=Date}}}function za(c){function a(q){for(var h=[],m=-1,b=0,l,L;++m<e;)if(37===c.charCodeAt(m)){h.push(c.substring(b,m));null!=(l=Pf[b=c.charAt(++m)])&&(b=c.charAt(++m));if(L=wc[b])b=L(q,null==l?"e"===b?" ":"0":l);h.push(b);b=m+1}h.push(c.substring(b,m));return h.join("")}var e=c.length;a.parse=
function(a){var q={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(xc(q,c,a,0)!=a.length)return null;"p"in q&&(q.H=q.H%12+12*q.p);a=null!=q.Z&&xa!==Xa;var e=new (a?Xa:xa);"j"in q?e.setFullYear(q.y,0,q.j):"w"in q&&("W"in q||"U"in q)?(e.setFullYear(q.y,0,1),e.setFullYear(q.y,0,"W"in q?(q.w+6)%7+7*q.W-(e.getDay()+5)%7:q.w+7*q.U-(e.getDay()+6)%7)):e.setFullYear(q.y,q.m,q.d);e.setHours(q.H+Math.floor(q.Z/100),q.M+q.Z%100,q.S,q.L);return a?e._:e};a.toString=function(){return c};return a}function xc(c,a,e,g){for(var h,
m=0,b=a.length,l=e.length;m<b;){if(g>=l)return-1;h=a.charCodeAt(m++);if(37===h){if(h=a.charAt(m++),h=Ih[h in Pf?a.charAt(m++):h],!h||0>(g=h(c,e,g)))return-1}else if(h!=e.charCodeAt(g++))return-1}return g}function yc(c){return new RegExp("^(?:"+c.map(x.requote).join("|")+")","i")}function zc(c){for(var a=new b,e=-1,g=c.length;++e<g;)a.set(c[e].toLowerCase(),e);return a}function Aa(c,a,e){var g=0>c?"-":"";c=(g?-c:c)+"";var h=c.length;return g+(h<e?Array(e-h+1).join(a)+c:c)}function Qf(c,a,e){ta.lastIndex=
0;return(a=ta.exec(a.substring(e,e+2)))?(c.d=+a[0],e+a[0].length):-1}function Rf(c,a,e){ta.lastIndex=0;return(a=ta.exec(a.substring(e,e+2)))?(c.H=+a[0],e+a[0].length):-1}function Pa(c){function a(c){try{xa=Xa;var q=new xa;q._=c;return e(q)}finally{xa=Date}}var e=za(c);a.parse=function(c){try{xa=Xa;var a=e.parse(c);return a&&a._}finally{xa=Date}};a.toString=e.toString;return a}function Kd(c){return c.toISOString()}function Ld(c,a,e){function g(a){return c(a)}function h(c,e){var g=(c[1]-c[0])/e,h=x.bisect(Ac,
g);return h==Ac.length?[a.year,fb(c.map(function(c){return c/31536E6}),e)[2]]:h?a[g/Ac[h-1]<Ac[h]/g?h-1:h]:[Jh,fb(c,e)[2]]}g.invert=function(a){return rb(c.invert(a))};g.domain=function(a){if(!arguments.length)return c.domain().map(rb);c.domain(a);return g};g.nice=function(c,a){function q(e){return!isNaN(e)&&!c.range(e,rb(+e+1),a).length}var e=g.domain(),b=Db(e);if(b=null==c?h(b,10):"number"===typeof c&&h(b,c))c=b[0],a=b[1];return g.domain(rc(e,1<a?{floor:function(a){for(;q(a=c.floor(a));)a=rb(a-
1);return a},ceil:function(a){for(;q(a=c.ceil(a));)a=rb(+a+1);return a}}:c))};g.ticks=function(c,a){var q=Db(g.domain()),e=null==c?h(q,10):"number"===typeof c?h(q,c):!c.range&&[{range:c},a];e&&(c=e[0],a=e[1]);return c.range(q[0],rb(+q[1]+1),1>a?1:a)};g.tickFormat=function(){return e};g.copy=function(){return Ld(c.copy(),a,e)};return Bd(g,c)}function rb(c){return new Date(c)}function Sf(c){return function(a){for(var e=c.length-1,g=c[e];!g[1](a);)g=c[--e];return g[0](a)}}function Kh(c){return JSON.parse(c.responseText)}
function Lh(c){var a=La.createRange();a.selectNode(La.body);return a.createContextualFragment(c.responseText)}var x={version:"3.3.13"};Date.now||(Date.now=function(){return+new Date});var Tf=[].slice,Za=function(c){return Tf.call(c)},La=document,$a=La.documentElement,wa=window;try{Za($a.childNodes)[0].nodeType}catch(si){Za=function(c){for(var a=c.length,e=Array(a);a--;)e[a]=c[a];return e}}try{La.createElement("div").style.setProperty("opacity",0,"")}catch(ti){var Bc=wa.Element.prototype,Mh=Bc.setAttribute,
Nh=Bc.setAttributeNS,Uf=wa.CSSStyleDeclaration.prototype,Oh=Uf.setProperty;Bc.setAttribute=function(c,a){Mh.call(this,c,a+"")};Bc.setAttributeNS=function(c,a,e){Nh.call(this,c,a,e+"")};Uf.setProperty=function(c,a,e){Oh.call(this,c,a+"",e)}}x.ascending=function(c,a){return c<a?-1:c>a?1:c>=a?0:NaN};x.descending=function(c,a){return a<c?-1:a>c?1:a>=c?0:NaN};x.min=function(c,a){var e=-1,g=c.length,h,m;if(1===arguments.length){for(;++e<g&&!(null!=(h=c[e])&&h<=h);)h=void 0;for(;++e<g;)null!=(m=c[e])&&h>
m&&(h=m)}else{for(;++e<g&&!(null!=(h=a.call(c,c[e],e))&&h<=h);)h=void 0;for(;++e<g;)null!=(m=a.call(c,c[e],e))&&h>m&&(h=m)}return h};x.max=function(c,a){var e=-1,g=c.length,h,m;if(1===arguments.length){for(;++e<g&&!(null!=(h=c[e])&&h<=h);)h=void 0;for(;++e<g;)null!=(m=c[e])&&m>h&&(h=m)}else{for(;++e<g&&!(null!=(h=a.call(c,c[e],e))&&h<=h);)h=void 0;for(;++e<g;)null!=(m=a.call(c,c[e],e))&&m>h&&(h=m)}return h};x.extent=function(c,a){var e=-1,g=c.length,h,m,b;if(1===arguments.length){for(;++e<g&&!(null!=
(h=b=c[e])&&h<=h);)h=b=void 0;for(;++e<g;)null!=(m=c[e])&&(h>m&&(h=m),b<m&&(b=m))}else{for(;++e<g&&!(null!=(h=b=a.call(c,c[e],e))&&h<=h);)h=void 0;for(;++e<g;)null!=(m=a.call(c,c[e],e))&&(h>m&&(h=m),b<m&&(b=m))}return[h,b]};x.sum=function(c,a){var e=0,g=c.length,h,m=-1;if(1===arguments.length)for(;++m<g;)isNaN(h=+c[m])||(e+=h);else for(;++m<g;)isNaN(h=+a.call(c,c[m],m))||(e+=h);return e};x.mean=function(c,a){var e=c.length,g,h=0,m=-1,b=0;if(1===arguments.length)for(;++m<e;)sa(g=c[m])&&(h+=(g-h)/++b);
else for(;++m<e;)sa(g=a.call(c,c[m],m))&&(h+=(g-h)/++b);return b?h:void 0};x.quantile=function(c,a){var e=(c.length-1)*a+1,g=Math.floor(e),h=+c[g-1];return(e-=g)?h+e*(c[g]-h):h};x.median=function(c,a){1<arguments.length&&(c=c.map(a));c=c.filter(sa);return c.length?x.quantile(c.sort(x.ascending),.5):void 0};x.bisector=function(c){return{left:function(a,e,g,h){3>arguments.length&&(g=0);4>arguments.length&&(h=a.length);for(;g<h;){var m=g+h>>>1;c.call(a,a[m],m)<e?g=m+1:h=m}return g},right:function(a,
e,g,h){3>arguments.length&&(g=0);4>arguments.length&&(h=a.length);for(;g<h;){var m=g+h>>>1;e<c.call(a,a[m],m)?h=m:g=m+1}return g}}};var Vf=x.bisector(function(c){return c});x.bisectLeft=Vf.left;x.bisect=x.bisectRight=Vf.right;x.shuffle=function(c){for(var a=c.length,e,g;a;)g=Math.random()*a--|0,e=c[a],c[a]=c[g],c[g]=e;return c};x.permute=function(c,a){for(var e=a.length,g=Array(e);e--;)g[e]=c[a[e]];return g};x.pairs=function(c){for(var a=0,e=c.length-1,g=c[0],h=Array(0>e?0:e);a<e;)h[a]=[g,g=c[++a]];
return h};x.zip=function(){if(!(h=arguments.length))return[];for(var c=-1,a=x.min(arguments,n),e=Array(a);++c<a;)for(var g=-1,h,m=e[c]=Array(h);++g<h;)m[g]=arguments[g][c];return e};x.transpose=function(c){return x.zip.apply(x,c)};x.keys=function(c){var a=[],e;for(e in c)a.push(e);return a};x.values=function(c){var a=[],e;for(e in c)a.push(c[e]);return a};x.entries=function(c){var a=[],e;for(e in c)a.push({key:e,value:c[e]});return a};x.merge=function(c){var a=c.length,e;e=-1;for(var g=0,h,m;++e<
a;)g+=c[e].length;for(h=Array(g);0<=--a;)for(m=c[a],e=m.length;0<=--e;)h[--g]=m[e];return h};var la=Math.abs;x.range=function(c,a,e){3>arguments.length&&(e=1,2>arguments.length&&(a=c,c=0));if(Infinity===(a-c)/e)throw Error("infinite range");var g=[],h;h=la(e);for(var m=1;h*m%1;)m*=10;h=m;var m=-1,b;c*=h;a*=h;e*=h;if(0>e)for(;(b=c+e*++m)>a;)g.push(b/h);else for(;(b=c+e*++m)<a;)g.push(b/h);return g};x.map=function(c){var a=new b;if(c instanceof b)c.forEach(function(c,e){a.set(c,e)});else for(var e in c)a.set(e,
c[e]);return a};a(b,{has:function(c){return hb+c in this},get:function(c){return this[hb+c]},set:function(c,a){return this[hb+c]=a},remove:function(c){c=hb+c;return c in this&&delete this[c]},keys:function(){var c=[];this.forEach(function(a){c.push(a)});return c},values:function(){var c=[];this.forEach(function(a,e){c.push(e)});return c},entries:function(){var c=[];this.forEach(function(a,e){c.push({key:a,value:e})});return c},forEach:function(c){for(var a in this)a.charCodeAt(0)===Wf&&c.call(this,
a.substring(1),this[a])}});var hb="\x00",Wf=hb.charCodeAt(0);x.nest=function(){function c(a,q,h){if(h>=g.length)return l?l.call(e,q):m?q.sort(m):q;for(var f=-1,k=q.length,p=g[h++],z,u,n=new b,w;++f<k;)(w=n.get(z=p(u=q[f])))?w.push(u):n.set(z,[u]);a?(u=a(),q=function(e,q){u.set(e,c(a,q,h))}):(u={},q=function(e,q){u[e]=c(a,q,h)});n.forEach(q);return u}function a(c,e){if(e>=g.length)return c;var m=[],b=h[e++];c.forEach(function(c,g){m.push({key:c,values:a(g,e)})});return b?m.sort(function(c,a){return b(c.key,
a.key)}):m}var e={},g=[],h=[],m,l;e.map=function(a,e){return c(e,a,0)};e.entries=function(e){return a(c(x.map,e,0),0)};e.key=function(c){g.push(c);return e};e.sortKeys=function(c){h[g.length-1]=c;return e};e.sortValues=function(c){m=c;return e};e.rollup=function(c){l=c;return e};return e};x.set=function(c){var a=new p;if(c)for(var e=0,g=c.length;e<g;++e)a.add(c[e]);return a};a(p,{has:function(c){return hb+c in this},add:function(c){this[hb+c]=!0;return c},remove:function(c){c=hb+c;return c in this&&
delete this[c]},values:function(){var c=[];this.forEach(function(a){c.push(a)});return c},forEach:function(c){for(var a in this)a.charCodeAt(0)===Wf&&c.call(this,a.substring(1))}});x.behavior={};x.rebind=function(c,a){for(var e=1,g=arguments.length,h;++e<g;)c[h=arguments[e]]=r(c,a,a[h]);return c};var Xd="webkit ms moz Moz o O".split(" ");x.dispatch=function(){for(var c=new k,a=-1,e=arguments.length;++a<e;)c[arguments[a]]=y(c);return c};k.prototype.on=function(c,a){var e=c.indexOf("."),g="";0<=e&&
(g=c.substring(e+1),c=c.substring(0,e));if(c)return 2>arguments.length?this[c].on(g):this[c].on(g,a);if(2===arguments.length){if(null==a)for(c in this)if(this.hasOwnProperty(c))this[c].on(g,null);return this}};x.event=null;x.requote=function(c){return c.replace(Ph,"\\$&")};var Ph=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Sb={}.__proto__?function(c,a){c.__proto__=a}:function(c,a){for(var e in a)c[e]=a[e]},Sc=function(c,a){return a.querySelector(c)},Tc=function(c,a){return a.querySelectorAll(c)},Qh=$a[v($a,
"matchesSelector")],Yd=function(c,a){return Qh.call(c,a)};"function"===typeof Sizzle&&(Sc=function(c,a){return Sizzle(c,a)[0]||null},Tc=function(c,a){return Sizzle.uniqueSort(Sizzle(c,a))},Yd=Sizzle.matchesSelector);x.selection=function(){return Xf};var oa=x.selection.prototype=[];oa.select=function(c){var a=[],e,g,h,m;c=K(c);for(var b=-1,l=this.length;++b<l;){a.push(e=[]);e.parentNode=(h=this[b]).parentNode;for(var f=-1,k=h.length;++f<k;)(m=h[f])?(e.push(g=c.call(m,m.__data__,f,b)),g&&"__data__"in
m&&(g.__data__=m.__data__)):e.push(null)}return F(a)};oa.selectAll=function(c){var a=[],e,g;c=E(c);for(var h=-1,m=this.length;++h<m;)for(var b=this[h],l=-1,f=b.length;++l<f;)if(g=b[l])a.push(e=Za(c.call(g,g.__data__,l,h))),e.parentNode=g;return F(a)};var Md={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};x.ns={prefix:Md,qualify:function(c){var a=c.indexOf(":"),
e=c;0<=a&&(e=c.substring(0,a),c=c.substring(a+1));return Md.hasOwnProperty(e)?{space:Md[e],local:c}:c}};oa.attr=function(c,a){if(2>arguments.length){if("string"===typeof c){var e=this.node();c=x.ns.qualify(c);return c.local?e.getAttributeNS(c.space,c.local):e.getAttribute(c)}for(a in c)this.each(M(a,c[a]));return this}return this.each(M(c,a))};oa.classed=function(c,a){if(2>arguments.length){if("string"===typeof c){var e=this.node(),g=(c=c.trim().split(/^|\s+/)).length,h=-1;if(a=e.classList)for(;++h<
g;){if(!a.contains(c[h]))return!1}else for(a=e.getAttribute("class");++h<g;)if(!A(c[h]).test(a))return!1;return!0}for(a in c)this.each(T(a,c[a]));return this}return this.each(T(c,a))};oa.style=function(c,a,e){var g=arguments.length;if(3>g){if("string"!==typeof c){2>g&&(a="");for(e in c)this.each(J(e,c[e],a));return this}if(2>g)return wa.getComputedStyle(this.node(),null).getPropertyValue(c);e=""}return this.each(J(c,a,e))};oa.property=function(c,a){if(2>arguments.length){if("string"===typeof c)return this.node()[c];
for(a in c)this.each(O(a,c[a]));return this}return this.each(O(c,a))};oa.text=function(c){return arguments.length?this.each("function"===typeof c?function(){var a=c.apply(this,arguments);this.textContent=null==a?"":a}:null==c?function(){this.textContent=""}:function(){this.textContent=c}):this.node().textContent};oa.html=function(c){return arguments.length?this.each("function"===typeof c?function(){var a=c.apply(this,arguments);this.innerHTML=null==a?"":a}:null==c?function(){this.innerHTML=""}:function(){this.innerHTML=
c}):this.node().innerHTML};oa.append=function(c){c=Q(c);return this.select(function(){return this.appendChild(c.apply(this,arguments))})};oa.insert=function(c,a){c=Q(c);a=K(a);return this.select(function(){return this.insertBefore(c.apply(this,arguments),a.apply(this,arguments)||null)})};oa.remove=function(){return this.each(function(){var c=this.parentNode;c&&c.removeChild(this)})};oa.data=function(c,a){function e(c,e){var g,h=c.length,m=e.length,l=Math.min(h,m),I=Array(m),p=Array(m),z=Array(h),
u,n;if(a){var l=new b,w=new b,r=[],A;for(g=-1;++g<h;)A=a.call(u=c[g],u.__data__,g),l.has(A)?z[g]=u:l.set(A,u),r.push(A);for(g=-1;++g<m;)A=a.call(e,n=e[g],g),(u=l.get(A))?(I[g]=u,u.__data__=n):w.has(A)||(p[g]={__data__:n}),w.set(A,n),l.remove(A);for(g=-1;++g<h;)l.has(r[g])&&(z[g]=c[g])}else{for(g=-1;++g<l;)u=c[g],n=e[g],u?(u.__data__=n,I[g]=u):p[g]={__data__:n};for(;g<m;++g)p[g]={__data__:e[g]};for(;g<h;++g)z[g]=c[g]}p.update=I;p.parentNode=I.parentNode=z.parentNode=c.parentNode;B.push(p);f.push(I);
k.push(z)}var g=-1,h=this.length,m,l;if(!arguments.length){for(c=Array(h=(m=this[0]).length);++g<h;)if(l=m[g])c[g]=l.__data__;return c}var B=D([]),f=F([]),k=F([]);if("function"===typeof c)for(;++g<h;)e(m=this[g],c.call(m,m.parentNode.__data__,g));else for(;++g<h;)e(m=this[g],c);f.enter=function(){return B};f.exit=function(){return k};return f};oa.datum=function(c){return arguments.length?this.property("__data__",c):this.property("__data__")};oa.filter=function(c){var a=[],e,g,h;"function"!==typeof c&&
(c=P(c));for(var m=0,b=this.length;m<b;m++){a.push(e=[]);e.parentNode=(g=this[m]).parentNode;for(var l=0,f=g.length;l<f;l++)(h=g[l])&&c.call(h,h.__data__,l,m)&&e.push(h)}return F(a)};oa.order=function(){for(var c=-1,a=this.length;++c<a;)for(var e=this[c],g=e.length-1,h=e[g],m;0<=--g;)if(m=e[g])h&&h!==m.nextSibling&&h.parentNode.insertBefore(m,h),h=m;return this};oa.sort=function(c){c=w.apply(this,arguments);for(var a=-1,e=this.length;++a<e;)this[a].sort(c);return this.order()};oa.each=function(c){return C(this,
function(a,e,g){c.call(a,a.__data__,e,g)})};oa.call=function(c){var a=Za(arguments);c.apply(a[0]=this,a);return this};oa.empty=function(){return!this.node()};oa.node=function(){for(var c=0,a=this.length;c<a;c++)for(var e=this[c],g=0,h=e.length;g<h;g++){var m=e[g];if(m)return m}return null};oa.size=function(){var c=0;this.each(function(){++c});return c};var Qa=[];x.selection.enter=D;x.selection.enter.prototype=Qa;Qa.append=oa.append;Qa.empty=oa.empty;Qa.node=oa.node;Qa.call=oa.call;Qa.size=oa.size;
Qa.select=function(c){for(var a=[],e,g,h,m,b,l=-1,f=this.length;++l<f;){h=(m=this[l]).update;a.push(e=[]);e.parentNode=m.parentNode;for(var k=-1,p=m.length;++k<p;)(b=m[k])?(e.push(h[k]=g=c.call(m.parentNode,b.__data__,k,l)),g.__data__=b.__data__):e.push(null)}return F(a)};Qa.insert=function(c,a){2>arguments.length&&(a=z(this));return oa.insert.call(this,c,a)};oa.transition=function(){for(var c=sb||++Yf,a=[],e,g,h=Cc||{time:Date.now(),ease:Qg,delay:0,duration:250},m=-1,b=this.length;++m<b;){a.push(e=
[]);for(var l=this[m],f=-1,k=l.length;++f<k;)(g=l[f])&&uc(g,f,c,h),e.push(g)}return Rb(a,c)};oa.interrupt=function(){return this.each(S)};x.select=function(c){c=["string"===typeof c?Sc(c,La):c];c.parentNode=$a;return F([c])};x.selectAll=function(c){c=Za("string"===typeof c?Tc(c,La):c);c.parentNode=$a;return F([c])};var Xf=x.select($a);oa.on=function(c,a,e){var g=arguments.length;if(3>g){if("string"!==typeof c){2>g&&(a=!1);for(e in c)this.each(V(e,c[e],a));return this}if(2>g)return(g=this.node()["__on"+
c])&&g._;e=!1}return this.each(V(c,a,e))};var Uc=x.map({mouseenter:"mouseover",mouseleave:"mouseout"});Uc.forEach(function(c){"on"+c in La&&Uc.remove(c)});var Gb="onselectstart"in La?null:v($a.style,"userSelect"),rg=0;x.mouse=function(c){return X(c,N())};var Vc=/WebKit/.test(wa.navigator.userAgent)?-1:0;x.touches=function(c,a){2>arguments.length&&(a=N().touches);return a?Za(a).map(function(a){var q=X(c,a);q.identifier=a.identifier;return q}):[]};x.behavior.drag=function(){function c(){this.on("mousedown.drag",
h).on("touchstart.drag",m)}function a(c,q,h,m){return function(){var a=this.parentNode,b=e.of(this,arguments),l=x.event.target,f=c(),k=null==f?"drag":"drag-"+f,p=q(a,f),z=0,u,n=x.select(wa).on(h+"."+k,function(){var c=q(a,f),e=c[0]-p[0],g=c[1]-p[1];z=z|e|g;p=c;b({type:"drag",x:c[0]+u[0],y:c[1]+u[1],dx:e,dy:g})}).on(m+"."+k,function(){n.on(h+"."+k,null).on(m+"."+k,null);w(z&&x.event.target===l);b({type:"dragend"})}),w=ba();g?(u=g.apply(this,arguments),u=[u.x-p[0],u.y-p[1]]):u=[0,0];b({type:"dragstart"})}}
var e=H(c,"drag","dragstart","dragend"),g=null,h=a(f,x.mouse,"mousemove","mouseup"),m=a(function(){return x.event.changedTouches[0].identifier},function(c,a){return x.touches(c).filter(function(c){return c.identifier===a})[0]},"touchmove","touchend");c.origin=function(a){if(!arguments.length)return g;g=a;return c};return x.rebind(c,e,"on")};var ka=Math.PI,Ca=2*ka,ya=ka/2,ja=ka/180,ra=180/ka,Dc=Math.SQRT2;x.interpolateZoom=function(c,a){function e(c){var a=c*w;if(n){c=da(u);var e,q=Dc*a+u;e=((q=Math.exp(2*
q))-1)/(q+1);e*=c;var b=u,q=((b=Math.exp(b))-1/b)/2;e=m/(2*p)*(e-q);return[g+e*l,h+e*f,m*c/da(Dc*a+u)]}return[g+c*l,h+c*f,m*Math.exp(Dc*a)]}var g=c[0],h=c[1],m=c[2],b=a[2],l=a[0]-g,f=a[1]-h,k=l*l+f*f,p=Math.sqrt(k),z=(b*b-m*m+4*k)/(4*m*p),k=(b*b-m*m-4*k)/(4*b*p),u=Math.log(Math.sqrt(z*z+1)-z),n=Math.log(Math.sqrt(k*k+1)-k)-u,w=(n||Math.log(b/m))/Dc;e.duration=1E3*w;return e};x.behavior.zoom=function(){function c(c){c.on("mousedown.zoom",f).on(Rh+".zoom",p).on("mousemove.zoom",z).on("dblclick.zoom",
u).on("touchstart.zoom",k)}function a(c){return[(c[0]-n.x)/n.k,(c[1]-n.y)/n.k]}function e(c){n.k=Math.max(C[0],Math.min(C[1],c))}function g(c,a){a=[a[0]*n.k+n.x,a[1]*n.k+n.y];n.x+=c[0]-a[0];n.y+=c[1]-a[1]}function h(){J&&J.domain(y.range().map(function(c){return(c-n.x)/n.k}).map(y.invert));O&&O.domain(V.range().map(function(c){return(c-n.y)/n.k}).map(V.invert))}function m(c){c({type:"zoomstart"})}function b(c){h();c({type:"zoom",scale:n.k,translate:[n.x,n.y]})}function l(c){c({type:"zoomend"})}function f(){var c=
this,e=v.of(c,arguments),h=x.event.target,k=0,L=x.select(wa).on("mousemove.zoom",function(){k=1;g(x.mouse(c),p);b(e)}).on("mouseup.zoom",function(){L.on("mousemove.zoom",wa===c?z:null).on("mouseup.zoom",null);n(k&&x.event.target===h);l(e)}),p=a(x.mouse(c)),n=ba();S.call(c);m(e)}function k(){function c(){var e=x.touches(p);r=n.k;e.forEach(function(c){c.identifier in u&&(u[c.identifier]=a(c))});return e}function h(){for(var a=x.event.changedTouches,q=0,m=a.length;q<m;++q)u[a[q].identifier]=null;m=c();
q=Date.now();1===m.length?(500>q-D&&(a=m[0],m=u[a.identifier],e(2*n.k),g(a,m),t(),b(z)),D=q):1<m.length&&(a=m[0],m=m[1],q=a[0]-m[0],a=a[1]-m[1],w=q*q+a*a)}var p=this,z=v.of(p,arguments),u={},w=0,r,A=x.event.changedTouches[0].identifier,C="touchmove.zoom-"+A,G="touchend.zoom-"+A,y=x.select(wa).on(C,function(){for(var c=x.touches(p),a,q,h,m,l=0,f=c.length;l<f;++l,m=null)if(h=c[l],m=u[h.identifier]){if(q)break;a=h;q=m}if(m){var B=(B=h[0]-a[0])*B+(B=h[1]-a[1])*B,c=w&&Math.sqrt(B/w);a=[(a[0]+h[0])/2,(a[1]+
h[1])/2];q=[(q[0]+m[0])/2,(q[1]+m[1])/2];e(c*r)}D=null;g(a,q);b(z)}).on(G,function(){if(x.event.touches.length){for(var a=x.event.changedTouches,e=0,q=a.length;e<q;++e)delete u[a[e].identifier];for(var g in u)return void c()}y.on(C,null).on(G,null);J.on("mousedown.zoom",f).on("touchstart.zoom",k);V();l(z)}),J=x.select(p).on("mousedown.zoom",null).on("touchstart.zoom",h),V=ba();S.call(p);h();m(z)}function p(){var c=v.of(this,arguments);G?clearTimeout(G):(S.call(this),m(c));G=setTimeout(function(){G=
null;l(c)},50);t();var h=r||x.mouse(this);w||(w=a(h));e(Math.pow(2,.002*Ec())*n.k);g(h,w);b(c)}function z(){w=null}function u(){var c=v.of(this,arguments),h=x.mouse(this),f=a(h),k=Math.log(n.k)/Math.LN2;m(c);e(Math.pow(2,x.event.shiftKey?Math.ceil(k)-1:Math.floor(k)+1));g(h,f);b(c);l(c)}var n={x:0,y:0,k:1},w,r,A=[960,500],C=Zf,G,D,v=H(c,"zoomstart","zoom","zoomend"),y,J,V,O;c.event=function(c){c.each(function(){var c=v.of(this,arguments),a=n;sb?x.select(this).transition().each("start.zoom",function(){n=
this.__chart__||{x:0,y:0,k:1};m(c)}).tween("zoom:zoom",function(){var e=A[0],q=e/2,g=A[1]/2,h=x.interpolateZoom([(q-n.x)/n.k,(g-n.y)/n.k,e/n.k],[(q-a.x)/a.k,(g-a.y)/a.k,e/a.k]);return function(a){a=h(a);var m=e/a[2];this.__chart__=n={x:q-a[0]*m,y:g-a[1]*m,k:m};b(c)}}).each("end.zoom",function(){l(c)}):(this.__chart__=n,m(c),b(c),l(c))})};c.translate=function(a){if(!arguments.length)return[n.x,n.y];n={x:+a[0],y:+a[1],k:n.k};h();return c};c.scale=function(a){if(!arguments.length)return n.k;n={x:n.x,
y:n.y,k:+a};h();return c};c.scaleExtent=function(a){if(!arguments.length)return C;C=null==a?Zf:[+a[0],+a[1]];return c};c.center=function(a){if(!arguments.length)return r;r=a&&[+a[0],+a[1]];return c};c.size=function(a){if(!arguments.length)return A;A=a&&[+a[0],+a[1]];return c};c.x=function(a){if(!arguments.length)return J;J=a;y=a.copy();n={x:0,y:0,k:1};return c};c.y=function(a){if(!arguments.length)return O;O=a;V=a.copy();n={x:0,y:0,k:1};return c};return x.rebind(c,v,"on")};var Zf=[0,Infinity],Ec,
Rh="onwheel"in La?(Ec=function(){return-x.event.deltaY*(x.event.deltaMode?120:1)},"wheel"):"onmousewheel"in La?(Ec=function(){return x.event.wheelDelta},"mousewheel"):(Ec=function(){return-x.event.detail},"MozMousePixelScroll");ga.prototype.toString=function(){return this.rgb()+""};x.hsl=function(c,a,e){return 1===arguments.length?c instanceof ea?Y(c.h,c.s,c.l):ce(""+c,de,Y):Y(+c,+a,+e)};var Nd=ea.prototype=new ga;Nd.brighter=function(c){c=Math.pow(.7,arguments.length?c:1);return Y(this.h,this.s,
this.l/c)};Nd.darker=function(c){c=Math.pow(.7,arguments.length?c:1);return Y(this.h,this.s,c*this.l)};Nd.rgb=function(){return ha(this.h,this.s,this.l)};x.hcl=function(c,a,e){return 1===arguments.length?c instanceof Z?ca(c.h,c.c,c.l):c instanceof na?ab(c.l,c.a,c.b):ab((c=ee((c=x.rgb(c)).r,c.g,c.b)).l,c.a,c.b):ca(+c,+a,+e)};var Od=Z.prototype=new ga;Od.brighter=function(c){return ca(this.h,this.c,Math.min(100,this.l+Fc*(arguments.length?c:1)))};Od.darker=function(c){return ca(this.h,this.c,Math.max(0,
this.l-Fc*(arguments.length?c:1)))};Od.rgb=function(){return ma(this.h,this.c,this.l).rgb()};x.lab=function(c,a,e){return 1===arguments.length?c instanceof na?fa(c.l,c.a,c.b):c instanceof Z?ma(c.l,c.c,c.h):ee((c=x.rgb(c)).r,c.g,c.b):fa(+c,+a,+e)};var Fc=18,$d=.95047,ae=1,be=1.08883,Pd=na.prototype=new ga;Pd.brighter=function(c){return fa(Math.min(100,this.l+Fc*(arguments.length?c:1)),this.a,this.b)};Pd.darker=function(c){return fa(Math.max(0,this.l-Fc*(arguments.length?c:1)),this.a,this.b)};Pd.rgb=
function(){return pa(this.l,this.a,this.b)};x.rgb=function(c,a,e){return 1===arguments.length?c instanceof Yc?Ma(c.r,c.g,c.b):ce(""+c,Ma,ha):Ma(~~c,~~a,~~e)};var Gc=Yc.prototype=new ga;Gc.brighter=function(c){c=Math.pow(.7,arguments.length?c:1);var a=this.r,e=this.g,g=this.b;if(!a&&!e&&!g)return Ma(30,30,30);a&&30>a&&(a=30);e&&30>e&&(e=30);g&&30>g&&(g=30);return Ma(Math.min(255,~~(a/c)),Math.min(255,~~(e/c)),Math.min(255,~~(g/c)))};Gc.darker=function(c){c=Math.pow(.7,arguments.length?c:1);return Ma(~~(c*
this.r),~~(c*this.g),~~(c*this.b))};Gc.hsl=function(){return de(this.r,this.g,this.b)};Gc.toString=function(){return"#"+ub(this.r)+ub(this.g)+ub(this.b)};var Wb=x.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,
cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,
forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,
lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,
navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,
skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Wb.forEach(function(c,a){Wb.set(c,Ma(a>>16,a>>8&255,a&255))});x.functor=qa;x.xhr=ad(va);x.dsv=function(c,a){function e(c,e,m){3>arguments.length&&(m=e,e=null);var b=Xb(c,a,null==e?g:h(e),m);b.row=function(c){return arguments.length?
b.response(null==(e=c)?g:h(c)):e};return b}function g(c){return e.parse(c.responseText)}function h(c){return function(a){return e.parse(a.responseText,c)}}function m(a){return a.map(b).join(c)}function b(c){return l.test(c)?'"'+c.replace(/\"/g,'""')+'"':c}var l=new RegExp('["'+c+"\n]"),f=c.charCodeAt(0);e.parse=function(c,a){var q;return e.parseRows(c,function(c,e){if(q)return q(c,e-1);var g=new Function("d","return {"+c.map(function(c,a){return JSON.stringify(c)+": d["+a+"]"}).join(",")+"}");q=a?
function(c,e){return a(g(c),e)}:g})};e.parseRows=function(c,a){function e(){if(b>=m)return g;if(k)return k=!1,q;var a=b;if(34===c.charCodeAt(a)){for(var h=a;h++<m;)if(34===c.charCodeAt(h)){if(34!==c.charCodeAt(h+1))break;++h}b=h+2;var l=c.charCodeAt(h+1);13===l?(k=!0,10===c.charCodeAt(h+2)&&++b):10===l&&(k=!0);return c.substring(a+1,h).replace(/""/g,'"')}for(;b<m;){l=c.charCodeAt(b++);h=1;if(10===l)k=!0;else if(13===l)k=!0,10===c.charCodeAt(b)&&(++b,++h);else if(l!==f)continue;return c.substring(a,
b-h)}return c.substring(a)}for(var q={},g={},h=[],m=c.length,b=0,l=0,B,k;(B=e())!==g;){for(var I=[];B!==q&&B!==g;)I.push(B),B=e();a&&!(I=a(I,l++))||h.push(I)}return h};e.format=function(a){if(Array.isArray(a[0]))return e.formatRows(a);var q=new p,g=[];a.forEach(function(c){for(var a in c)q.has(a)||g.push(q.add(a))});return[g.map(b).join(c)].concat(a.map(function(a){return g.map(function(c){return b(a[c])}).join(c)})).join("\n")};e.formatRows=function(c){return c.map(m).join("\n")};return e};x.csv=
x.dsv(",","text/csv");x.tsv=x.dsv("\t","text/tab-separated-values");var $b,ac,Zb,Yb,Sa,he=wa[v(wa,"requestAnimationFrame")]||function(c){setTimeout(c,17)};x.timer=function(c,a,e){var g=arguments.length;2>g&&(a=0);3>g&&(e=Date.now());g={c:c,t:e+a,f:!1,n:null};ac?ac.n=g:$b=g;ac=g;Zb||(Yb=clearTimeout(Yb),Zb=1,he(bd))};x.timer.flush=function(){fe();ge()};var Hc=[3,3],Sh="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(c,a){var e=Math.pow(10,3*la(8-a));return{scale:8<a?function(c){return c/
e}:function(c){return c*e},symbol:c}});x.formatPrefix=function(c,a){var e=0;c&&(0>c&&(c*=-1),a&&(c=x.round(c,cd(c,a))),e=1+Math.floor(1E-12+Math.log(c)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((0>=e?e+1:e-1)/3))));return Sh[8+e/3]};x.round=function(c,a){return a?Math.round(c*(a=Math.pow(10,a)))/a:Math.round(c)};x.format=function(c){c=uf.exec(c);var a=c[1]||" ",e=c[2]||">",g=c[3]||"",h=c[4]||"",m=c[5],b=+c[6],l=c[7],f=c[8],k=c[9],p=1,n="",z=!1;f&&(f=+f.substring(1));if(m||"0"===a&&"="===
e)m=a="0",e="=",l&&(b-=Math.floor((b-1)/4));switch(k){case "n":l=!0;k="g";break;case "%":p=100;n="%";k="f";break;case "p":p=100;n="%";k="r";break;case "b":case "o":case "x":case "X":"#"===h&&(h="0"+k.toLowerCase());case "c":case "d":z=!0;f=0;break;case "s":p=-1,k="r"}"#"===h?h="":"$"===h&&(h="$");"r"!=k||f||(k="g");if(null!=f)if("g"==k)f=Math.max(1,Math.min(21,f));else if("e"==k||"f"==k)f=Math.max(0,Math.min(20,f));var k=Th.get(k)||tg,u=m&&l;return function(c){if(z&&c%1)return"";var w=0>c||0===c&&
0>1/c?(c=-c,"-"):g;if(0>p){var r=x.formatPrefix(c,f);c=r.scale(c);n=r.symbol}else c*=p;c=k(c,f);var A=c.lastIndexOf("."),r=0>A?c:c.substring(0,A);c=0>A?"":"."+c.substring(A+1);!m&&l&&(r=Qd(r));var A=h.length+r.length+c.length+(u?0:w.length),C=A<b?Array(A=b-A+1).join(a):"";u&&(r=Qd(C+r));w+=h;c=r+c;return("<"===e?w+c+C:">"===e?C+w+c:"^"===e?C.substring(0,A>>=1)+w+c+C.substring(A):w+(u?c:C+c))+n}};var uf=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Th=x.map({b:function(c){return c.toString(2)},
c:function(c){return String.fromCharCode(c)},o:function(c){return c.toString(8)},x:function(c){return c.toString(16)},X:function(c){return c.toString(16).toUpperCase()},g:function(c,a){return c.toPrecision(a)},e:function(c,a){return c.toExponential(a)},f:function(c,a){return c.toFixed(a)},r:function(c,a){return(c=x.round(c,cd(c,a))).toFixed(Math.max(0,Math.min(20,cd(c*(1+1E-15),a))))}}),Qd=va;if(Hc)var Uh=Hc.length,Qd=function(c){for(var a=c.length,e=[],g=0,h=Hc[0];0<a&&0<h;)e.push(c.substring(a-=
h,a+h)),h=Hc[g=(g+1)%Uh];return e.reverse().join(",")};x.geo={};dd.prototype={s:0,t:0,add:function(c){ie(c,this.t,Ic);ie(Ic.s,this.s,this);this.s?this.t+=Ic.t:this.s=Ic.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ic=new dd;x.geo.stream=function(c,a){if(c&&$f.hasOwnProperty(c.type))$f[c.type](c,a);else bc(c,a)};var $f={Feature:function(c,a){bc(c.geometry,a)},FeatureCollection:function(c,a){for(var e=c.features,g=-1,h=e.length;++g<h;)bc(e[g].geometry,a)}},je={Sphere:function(c,
a){a.sphere()},Point:function(c,a){c=c.coordinates;a.point(c[0],c[1],c[2])},MultiPoint:function(c,a){for(var e=c.coordinates,g=-1,h=e.length;++g<h;)c=e[g],a.point(c[0],c[1],c[2])},LineString:function(c,a){ed(c.coordinates,a,0)},MultiLineString:function(c,a){for(var e=c.coordinates,g=-1,h=e.length;++g<h;)ed(e[g],a,0)},Polygon:function(c,a){ke(c.coordinates,a)},MultiPolygon:function(c,a){for(var e=c.coordinates,g=-1,h=e.length;++g<h;)ke(e[g],a)},GeometryCollection:function(c,a){for(var e=c.geometries,
g=-1,h=e.length;++g<h;)bc(e[g],a)}};x.geo.area=function(c){Eb=0;x.geo.stream(c,Da);return Eb};var Eb,jb=new dd,Da={sphere:function(){Eb+=4*ka},point:f,lineStart:f,lineEnd:f,polygonStart:function(){jb.reset();Da.lineStart=ug},polygonEnd:function(){var c=2*jb;Eb+=0>c?4*ka+c:c;Da.lineStart=Da.lineEnd=Da.point=f}};x.geo.bounds=function(){function c(c,a){D.push(t=[p=c,z=c]);a<n&&(n=a);a>u&&(u=a)}function a(e,g){var q=kb([e*ja,g*ja]);if(C){var h=vb(C,q),h=vb([h[1],-h[0],0],h);ec(h);var h=fc(h),m=e-w,b=
0<m?1:-1,f=h[0]*ra*b,m=180<la(m);m^(b*w<f&&f<b*e)?(h=h[1]*ra,h>u&&(u=h)):(f=(f+360)%360-180,m^(b*w<f&&f<b*e))?(h=-h[1]*ra,h<n&&(n=h)):(g<n&&(n=g),g>u&&(u=g));m?e<w?l(p,e)>l(p,z)&&(z=e):l(e,z)>l(p,z)&&(p=e):z>=p?(e<p&&(p=e),e>z&&(z=e)):e>w?l(p,e)>l(p,z)&&(z=e):l(e,z)>l(p,z)&&(p=e)}else c(e,g);C=q;w=e}function e(){v.point=a}function g(){t[0]=p;t[1]=z;v.point=c;C=null}function h(c,e){if(C){var g=c-w;G+=180<la(g)?g+(0<g?360:-360):g}else r=c,A=e;Da.point(c,e);a(c,e)}function m(){Da.lineStart()}function b(){h(r,
A);Da.lineEnd();1E-6<la(G)&&(p=-(z=180));t[0]=p;t[1]=z;C=null}function l(c,a){return 0>(a-=c)?a+360:a}function f(c,a){return c[0]-a[0]}function k(c,a){return a[0]<=a[1]?a[0]<=c&&c<=a[1]:c<a[0]||a[1]<c}var p,n,z,u,w,r,A,C,G,D,t,v={point:c,lineStart:e,lineEnd:g,polygonStart:function(){v.point=h;v.lineStart=m;v.lineEnd=b;G=0;Da.polygonStart()},polygonEnd:function(){Da.polygonEnd();v.point=c;v.lineStart=e;v.lineEnd=g;0>jb?(p=-(z=180),n=-(u=90)):1E-6<G?u=90:-1E-6>G&&(n=-90);t[0]=p;t[1]=z}};return function(c){u=
z=-(p=n=Infinity);D=[];x.geo.stream(c,v);if(c=D.length){D.sort(f);for(var a=1,e=D[0],g,q=[e];a<c;++a)g=D[a],k(g[0],e)||k(g[1],e)?(l(e[0],g[1])>l(e[0],e[1])&&(e[1]=g[1]),l(g[0],e[1])>l(e[0],e[1])&&(e[0]=g[0])):q.push(e=g);var h=-Infinity,m;c=q.length-1;a=0;for(e=q[c];a<=c;e=g,++a)g=q[a],(m=l(e[1],g[0]))>h&&(h=m,p=g[0],z=e[1])}D=t=null;return Infinity===p||Infinity===n?[[NaN,NaN],[NaN,NaN]]:[[p,n],[z,u]]}}();x.geo.centroid=function(c){Ib=wb=Ta=Ua=Na=Ga=Ha=Ba=bb=cb=Oa=0;x.geo.stream(c,Ja);c=bb;var a=
cb,e=Oa,g=c*c+a*a+e*e;return 1E-12>g&&(c=Ga,a=Ha,e=Ba,1E-6>wb&&(c=Ta,a=Ua,e=Na),g=c*c+a*a+e*e,1E-12>g)?[NaN,NaN]:[Math.atan2(a,c)*ra,u(e/Math.sqrt(g))*ra]};var Ib,wb,Ta,Ua,Na,Ga,Ha,Ba,bb,cb,Oa,Ja={sphere:f,point:gd,lineStart:le,lineEnd:me,polygonStart:function(){Ja.lineStart=vg},polygonEnd:function(){Ja.lineStart=le}},Ce=pe(xb,function(c){var a=NaN,e=NaN,g=NaN,h;return{lineStart:function(){c.lineStart();h=1},point:function(m,b){var l=0<m?ka:-ka,f=la(m-a);if(1E-6>la(f-ka))c.point(a,e=0<(e+b)/2?ya:
-ya),c.point(g,e),c.lineEnd(),c.lineStart(),c.point(l,e),c.point(m,e),h=0;else if(g!==l&&f>=ka){1E-6>la(a-g)&&(a-=1E-6*g);1E-6>la(m-l)&&(m-=1E-6*l);var f=a,k=e,p=m,z,n,u=Math.sin(f-p);e=1E-6<la(u)?Math.atan((Math.sin(k)*(n=Math.cos(b))*Math.sin(p)-Math.sin(b)*(z=Math.cos(k))*Math.sin(f))/(z*n*u)):(k+b)/2;c.point(g,e);c.lineEnd();c.lineStart();c.point(l,e);h=0}c.point(a=m,e=b);g=l},lineEnd:function(){c.lineEnd();a=e=NaN},clean:function(){return 2-h}}},function(c,a,e,g){null==c?(e*=ya,g.point(-ka,e),
g.point(0,e),g.point(ka,e),g.point(ka,0),g.point(ka,-e),g.point(0,-e),g.point(-ka,-e),g.point(-ka,0),g.point(-ka,e)):1E-6<la(c[0]-a[0])?(c=c[0]<a[0]?ka:-ka,e=e*c/2,g.point(-c,e),g.point(0,e),g.point(c,e)):g.point(a[0],a[1])},[-ka,-ka/2]);x.geo.clipExtent=function(){var c,a,e,g,h,m,b={stream:function(c){h&&(h.valid=!1);h=m(c);h.valid=!0;return h},extent:function(l){if(!arguments.length)return[[c,a],[e,g]];m=se(c=+l[0][0],a=+l[0][1],e=+l[1][0],g=+l[1][1]);h&&(h.valid=!1,h=null);return b}};return b.extent([[0,
0],[960,500]])};(x.geo.conicEqualArea=function(){return id(ue)}).raw=ue;x.geo.albers=function(){return x.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};x.geo.albersUsa=function(){function c(c){var a=c[0];c=c[1];h=null;(l(a,c),h)||(f(a,c),h)||k(a,c);return h}var a=x.geo.albers(),e=x.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),g=x.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h,b={point:function(c,a){h=
[c,a]}},l,f,k;c.invert=function(c){var h=a.scale(),b=a.translate(),m=(c[0]-b[0])/h,h=(c[1]-b[1])/h;return(.12<=h&&.234>h&&-.425<=m&&-.214>m?e:.166<=h&&.234>h&&-.214<=m&&-.115>m?g:a).invert(c)};c.stream=function(c){var h=a.stream(c),b=e.stream(c),m=g.stream(c);return{point:function(c,a){h.point(c,a);b.point(c,a);m.point(c,a)},sphere:function(){h.sphere();b.sphere();m.sphere()},lineStart:function(){h.lineStart();b.lineStart();m.lineStart()},lineEnd:function(){h.lineEnd();b.lineEnd();m.lineEnd()},polygonStart:function(){h.polygonStart();
b.polygonStart();m.polygonStart()},polygonEnd:function(){h.polygonEnd();b.polygonEnd();m.polygonEnd()}}};c.precision=function(h){if(!arguments.length)return a.precision();a.precision(h);e.precision(h);g.precision(h);return c};c.scale=function(h){if(!arguments.length)return a.scale();a.scale(h);e.scale(.35*h);g.scale(h);return c.translate(a.translate())};c.translate=function(h){if(!arguments.length)return a.translate();var p=a.scale(),z=+h[0],n=+h[1];l=a.translate(h).clipExtent([[z-.455*p,n-.238*p],
[z+.455*p,n+.238*p]]).stream(b).point;f=e.translate([z-.307*p,n+.201*p]).clipExtent([[z-.425*p+1E-6,n+.12*p+1E-6],[z-.214*p-1E-6,n+.234*p-1E-6]]).stream(b).point;k=g.translate([z-.205*p,n+.212*p]).clipExtent([[z-.214*p+1E-6,n+.166*p+1E-6],[z-.115*p-1E-6,n+.234*p-1E-6]]).stream(b).point;return c};return c.scale(1070)};var Jc,ic,db={point:f,lineStart:f,lineEnd:f,polygonStart:function(){ic=0;db.lineStart=zg},polygonEnd:function(){db.lineStart=db.lineEnd=db.point=f;Jc+=la(ic/2)}},Kc,Lc,Mc,Nc,Vh={point:function(c,
a){c<Kc&&(Kc=c);c>Mc&&(Mc=c);a<Lc&&(Lc=a);a>Nc&&(Nc=a)},lineStart:f,lineEnd:f,polygonStart:f,polygonEnd:f},Ka={point:lb,lineStart:we,lineEnd:xe,polygonStart:function(){Ka.lineStart=Bg},polygonEnd:function(){Ka.point=lb;Ka.lineStart=we;Ka.lineEnd=xe}};x.geo.path=function(){function c(c){c&&("function"===typeof e&&l.pointRadius(+e.apply(this,arguments)),f&&f.valid||(f=b(l)),x.geo.stream(c,f));return l.result()}function a(){f=null;return c}var e=4.5,g,h,b,l,f;c.area=function(c){Jc=0;x.geo.stream(c,b(db));
return Jc};c.centroid=function(c){Ta=Ua=Na=Ga=Ha=Ba=bb=cb=Oa=0;x.geo.stream(c,b(Ka));return Oa?[bb/Oa,cb/Oa]:Ba?[Ga/Ba,Ha/Ba]:Na?[Ta/Na,Ua/Na]:[NaN,NaN]};c.bounds=function(c){Mc=Nc=-(Kc=Lc=Infinity);x.geo.stream(c,b(Vh));return[[Kc,Lc],[Mc,Nc]]};c.projection=function(c){if(!arguments.length)return g;b=(g=c)?c.stream||Dg(c):va;return a()};c.context=function(c){if(!arguments.length)return h;l=null==(h=c)?new Ag:new Cg(c);"function"!==typeof e&&l.pointRadius(e);return a()};c.pointRadius=function(a){if(!arguments.length)return e;
e="function"===typeof a?a:(l.pointRadius(+a),+a);return c};return c.projection(x.geo.albersUsa()).context(null)};x.geo.transform=function(c){return{stream:function(a){a=new Be(a);for(var e in c)a[e]=c[e];return a}}};Be.prototype={point:function(c,a){this.stream.point(c,a)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};
x.geo.projection=eb;x.geo.projectionMutator=jd;(x.geo.equirectangular=function(){return eb(Jb)}).raw=Jb.invert=Jb;x.geo.rotation=function(c){function a(e){e=c(e[0]*ja,e[1]*ja);return e[0]*=ra,e[1]*=ra,e}c=kd(c[0]%360*ja,c[1]*ja,2<c.length?c[2]*ja:0);a.invert=function(a){a=c.invert(a[0]*ja,a[1]*ja);return a[0]*=ra,a[1]*=ra,a};return a};De.invert=Jb;x.geo.circle=function(){function c(){var c="function"===typeof a?a.apply(this,arguments):a,e=kd(-c[0]*ja,-c[1]*ja,0).invert,g=[];h(null,null,1,{point:function(c,
a){g.push(c=e(c,a));c[0]*=ra;c[1]*=ra}});return{type:"Polygon",coordinates:[g]}}var a=[0,0],e,g=6,h;c.origin=function(e){if(!arguments.length)return a;a=e;return c};c.angle=function(a){if(!arguments.length)return e;h=hd((e=+a)*ja,g*ja);return c};c.precision=function(a){if(!arguments.length)return g;h=hd(e*ja,(g=+a)*ja);return c};return c.angle(90)};x.geo.distance=function(c,a){var e=(a[0]-c[0])*ja,g=c[1]*ja,h=a[1]*ja,b=Math.sin(e),e=Math.cos(e),l=Math.sin(g),g=Math.cos(g),f=Math.sin(h),h=Math.cos(h),
k;return Math.atan2(Math.sqrt((k=h*b)*k+(k=g*f-l*h*e)*k),l*f+g*h*e)};x.geo.graticule=function(){function c(){return{type:"MultiLineString",coordinates:a()}}function a(){return x.range(Math.ceil(b/u)*u,h,u).map(C).concat(x.range(Math.ceil(p/w)*w,k,w).map(G)).concat(x.range(Math.ceil(g/z)*z,e,z).filter(function(c){return 1E-6<la(c%u)}).map(r)).concat(x.range(Math.ceil(f/n)*n,l,n).filter(function(c){return 1E-6<la(c%w)}).map(A))}var e,g,h,b,l,f,k,p,z=10,n=z,u=90,w=360,r,A,C,G,D=2.5;c.lines=function(){return a().map(function(c){return{type:"LineString",
coordinates:c}})};c.outline=function(){return{type:"Polygon",coordinates:[C(b).concat(G(k).slice(1),C(h).reverse().slice(1),G(p).reverse().slice(1))]}};c.extent=function(a){return arguments.length?c.majorExtent(a).minorExtent(a):c.minorExtent()};c.majorExtent=function(a){if(!arguments.length)return[[b,p],[h,k]];b=+a[0][0];h=+a[1][0];p=+a[0][1];k=+a[1][1];b>h&&(a=b,b=h,h=a);p>k&&(a=p,p=k,k=a);return c.precision(D)};c.minorExtent=function(a){if(!arguments.length)return[[g,f],[e,l]];g=+a[0][0];e=+a[1][0];
f=+a[0][1];l=+a[1][1];g>e&&(a=g,g=e,e=a);f>l&&(a=f,f=l,l=a);return c.precision(D)};c.step=function(a){return arguments.length?c.majorStep(a).minorStep(a):c.minorStep()};c.majorStep=function(a){if(!arguments.length)return[u,w];u=+a[0];w=+a[1];return c};c.minorStep=function(a){if(!arguments.length)return[z,n];z=+a[0];n=+a[1];return c};c.precision=function(a){if(!arguments.length)return D;D=+a;r=Ie(f,l,90);A=Je(g,e,D);C=Ie(p,k,90);G=Je(b,h,D);return c};return c.majorExtent([[-180,-89.999999],[180,89.999999]]).minorExtent([[-180,
-80.000001],[180,80.000001]])};x.geo.greatArc=function(){function c(){return{type:"LineString",coordinates:[e||a.apply(this,arguments),h||g.apply(this,arguments)]}}var a=ld,e,g=md,h;c.distance=function(){return x.geo.distance(e||a.apply(this,arguments),h||g.apply(this,arguments))};c.source=function(g){if(!arguments.length)return a;a=g;e="function"===typeof g?null:g;return c};c.target=function(a){if(!arguments.length)return g;g=a;h="function"===typeof a?null:a;return c};c.precision=function(){return arguments.length?
c:0};return c};x.geo.interpolate=function(c,a){return Eg(c[0]*ja,c[1]*ja,a[0]*ja,a[1]*ja)};x.geo.length=function(c){Oc=0;x.geo.stream(c,Fb);return Oc};var Oc,Fb={sphere:f,point:f,lineStart:function(){function c(c,b){var l=Math.sin(b*=ja),f=Math.cos(b),k=la((c*=ja)-a),p=Math.cos(k);Oc+=Math.atan2(Math.sqrt((k=f*Math.sin(k))*k+(k=g*l-e*f*p)*k),e*l+g*f*p);a=c;e=l;g=f}var a,e,g;Fb.point=function(h,b){a=h*ja;e=Math.sin(b*=ja);g=Math.cos(b);Fb.point=c};Fb.lineEnd=function(){Fb.point=Fb.lineEnd=f}},lineEnd:f,
polygonStart:f,polygonEnd:f},ag=Kb(function(c){return Math.sqrt(2/(1+c))},function(c){return 2*Math.asin(c/2)});(x.geo.azimuthalEqualArea=function(){return eb(ag)}).raw=ag;var bg=Kb(function(c){return(c=Math.acos(c))&&c/Math.sin(c)},va);(x.geo.azimuthalEquidistant=function(){return eb(bg)}).raw=bg;(x.geo.conicConformal=function(){return id(Ke)}).raw=Ke;(x.geo.conicEquidistant=function(){return id(Le)}).raw=Le;var cg=Kb(function(c){return 1/c},Math.atan);(x.geo.gnomonic=function(){return eb(cg)}).raw=
cg;jc.invert=function(c,a){return[c,2*Math.atan(Math.exp(a))-ya]};(x.geo.mercator=function(){return Me(jc)}).raw=jc;var dg=Kb(function(){return 1},Math.asin);(x.geo.orthographic=function(){return eb(dg)}).raw=dg;var eg=Kb(function(c){return 1/(1+c)},function(c){return 2*Math.atan(c)});(x.geo.stereographic=function(){return eb(eg)}).raw=eg;nd.invert=function(c,a){return[-a,2*Math.atan(Math.exp(c))-ya]};(x.geo.transverseMercator=function(){var c=Me(nd),a=c.center,e=c.rotate;c.center=function(c){return c?
a([-c[1],c[0]]):(c=a(),[-c[1],c[0]])};c.rotate=function(c){return c?e([c[0],c[1],2<c.length?c[2]+90:90]):(c=e(),[c[0],c[1],c[2]-90])};return c.rotate([0,0])}).raw=nd;x.geom={};x.geom.hull=function(c){function a(c){if(3>c.length)return[];var b=qa(e),q=qa(g),l=c.length,f,k=l-1,p=[],z=[],n,u,w=0,r,A,C,G;if(b===mb&&g===yb)f=c;else for(u=0,f=[];u<l;++u)f.push([+b.call(this,n=c[u],u),+q.call(this,n,u)]);for(u=1;u<l;++u)if(f[u][1]<f[w][1]||f[u][1]==f[w][1]&&f[u][0]<f[w][0])w=u;for(u=0;u<l;++u)u!==w&&(q=
f[u][1]-f[w][1],b=f[u][0]-f[w][0],p.push({angle:Math.atan2(q,b),index:u}));p.sort(function(c,a){return c.angle-a.angle});G=p[0].angle;C=p[0].index;A=0;for(u=1;u<k;++u){l=p[u].index;if(G==p[u].angle)if(b=f[C][0]-f[w][0],q=f[C][1]-f[w][1],n=f[l][0]-f[w][0],r=f[l][1]-f[w][1],b*b+q*q>=n*n+r*r){p[u].index=-1;continue}else p[A].index=-1;G=p[u].angle;A=u;C=l}z.push(w);for(l=u=0;2>u;++l)-1<p[l].index&&(z.push(p[l].index),u++);for(u=z.length;l<k;++l)if(!(0>p[l].index)){for(;!Fg(z[u-2],z[u-1],p[l].index,f);)--u;
z[u++]=p[l].index}f=[];for(--u;0<=u;--u)f.push(c[z[u]]);return f}var e=mb,g=yb;if(arguments.length)return a(c);a.x=function(c){return arguments.length?(e=c,a):e};a.y=function(c){return arguments.length?(g=c,a):g};return a};x.geom.polygon=function(c){Sb(c,Pc);return c};var Pc=x.geom.polygon.prototype=[];Pc.area=function(){for(var c=-1,a=this.length,e,g=this[a-1],h=0;++c<a;)e=g,g=this[c],h+=e[1]*g[0]-e[0]*g[1];return.5*h};Pc.centroid=function(c){var a=-1,e=this.length,g=0,h=0,b,l=this[e-1],f;for(arguments.length||
(c=-1/(6*this.area()));++a<e;)b=l,l=this[a],f=b[0]*l[1]-l[0]*b[1],g+=(b[0]+l[0])*f,h+=(b[1]+l[1])*f;return[g*c,h*c]};Pc.clip=function(c){for(var a,e=Oe(c),g=-1,h=this.length-Oe(this),b,l,f=this[h-1],k,p,u;++g<h;){a=c.slice();c.length=0;k=this[g];p=a[(l=a.length-e)-1];for(b=-1;++b<l;)u=a[b],od(u,f,k)?(od(p,f,k)||c.push(Ne(p,u,f,k)),c.push(u)):od(p,f,k)&&c.push(Ne(p,u,f,k)),p=u;e&&c.push(c[0]);f=k}return c};var Cb,nb,Ab,Qe=[],qd,Lb,Ue=[];Se.prototype.prepare=function(){for(var c=this.edges,a=c.length,
e;a--;)e=c[a].edge,e.b&&e.a||c.splice(a,1);c.sort(Te);return c.length};mc.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};rd.prototype={insert:function(c,a){var e,g,h;if(c){a.P=c;if(a.N=c.N)c.N.P=a;c.N=a;if(c.R){for(c=c.R;c.L;)c=c.L;c.L=a}else c.R=a;e=c}else this._?(c=We(this._),a.P=null,a.N=c,c.P=c.L=a,e=c):(a.P=a.N=null,this._=a,e=null);a.L=a.R=null;a.U=e;a.C=!0;for(c=a;e&&e.C;)g=e.U,e===
g.L?(h=g.R)&&h.C?(e.C=h.C=!1,g.C=!0,c=g):(c===e.R&&(Nb(this,e),c=e,e=c.U),e.C=!1,g.C=!0,Ob(this,g)):(h=g.L)&&h.C?(e.C=h.C=!1,g.C=!0,c=g):(c===e.L&&(Ob(this,e),c=e,e=c.U),e.C=!1,g.C=!0,Nb(this,g)),e=c.U;this._.C=!1},remove:function(c){c.N&&(c.N.P=c.P);c.P&&(c.P.N=c.N);c.N=c.P=null;var a=c.U,e=c.L,g=c.R,h,b;h=e?g?We(g):e:g;a?a.L===c?a.L=h:a.R=h:this._=h;e&&g?(b=h.C,h.C=c.C,h.L=e,e.U=h,h!==g?(a=h.U,h.U=c.U,c=h.R,a.L=c,h.R=g,g.U=h):(h.U=a,a=h,c=h.R)):(b=c.C,c=h);c&&(c.U=a);if(!b)if(c&&c.C)c.C=!1;else{do{if(c===
this._)break;if(c===a.L){if(c=a.R,c.C&&(c.C=!1,a.C=!0,Nb(this,a),c=a.R),c.L&&c.L.C||c.R&&c.R.C){c.R&&c.R.C||(c.L.C=!1,c.C=!0,Ob(this,c),c=a.R);c.C=a.C;a.C=c.R.C=!1;Nb(this,a);c=this._;break}}else if(c=a.L,c.C&&(c.C=!1,a.C=!0,Ob(this,a),c=a.L),c.L&&c.L.C||c.R&&c.R.C){c.L&&c.L.C||(c.R.C=!1,c.C=!0,Nb(this,c),c=a.L);c.C=a.C;a.C=c.L.C=!1;Ob(this,a);c=this._;break}c.C=!0;c=a;a=a.U}while(!c.C);c&&(c.C=!1)}}};x.geom.voronoi=function(c){function a(c){var g=Array(c.length),h=f[0][0],b=f[0][1],m=f[1][0],q=f[1][1];
sd(e(c),f).cells.forEach(function(a,e){var l=a.edges,f=a.site;(g[e]=l.length?l.map(function(c){c=c.start();return[c.x,c.y]}):f.x>=h&&f.x<=m&&f.y>=b&&f.y<=q?[[h,q],[m,q],[m,b],[h,b]]:[]).point=c[e]});return g}function e(c){return c.map(function(c,a){return{x:1E-6*Math.round(b(c,a)/1E-6),y:1E-6*Math.round(l(c,a)/1E-6),i:a}})}var g=mb,h=yb,b=g,l=h,f=Qc;if(c)return a(c);a.links=function(c){return sd(e(c)).edges.filter(function(c){return c.l&&c.r}).map(function(a){return{source:c[a.l.i],target:c[a.r.i]}})};
a.triangles=function(c){var a=[];sd(e(c)).cells.forEach(function(e,g){for(var h=e.site,b=e.edges.sort(Te),m=-1,q=b.length,l,f=b[q-1].edge,f=f.l===h?f.r:f.l;++m<q;)l=f,f=b[m].edge,f=f.l===h?f.r:f.l,g<l.i&&g<f.i&&0>(h.x-f.x)*(l.y-h.y)-(h.x-l.x)*(f.y-h.y)&&a.push([c[g],c[l.i],c[f.i]])});return a};a.x=function(c){return arguments.length?(b=qa(g=c),a):g};a.y=function(c){return arguments.length?(l=qa(h=c),a):h};a.clipExtent=function(c){if(!arguments.length)return f===Qc?null:f;f=null==c?Qc:c;return a};
a.size=function(c){return arguments.length?a.clipExtent(c&&[[0,0],c]):f===Qc?null:f&&f[1]};return a};var Qc=[[-1E6,-1E6],[1E6,1E6]];x.geom.delaunay=function(c){return x.geom.voronoi().triangles(c)};x.geom.quadtree=function(c,a,e,g,h){function b(c){function m(c,a,e,g,h,b,q,l){if(!isNaN(e)&&!isNaN(g))if(c.leaf){var f=c.x,k=c.y;if(null!=f){if(!(.01>la(f-e)+la(k-g))){var u=c.point;c.x=c.y=c.point=null;p(c,u,f,k,h,b,q,l)}p(c,a,e,g,h,b,q,l)}else c.x=e,c.y=g,c.point=a}else p(c,a,e,g,h,b,q,l)}function p(c,
a,e,g,h,b,q,l){var f=.5*(h+q),k=.5*(b+l),u=e>=f,z=g>=k,n=(z<<1)+u;c.leaf=!1;c=c.nodes[n]||(c.nodes[n]=Xe());u?h=f:q=f;z?b=k:l=k;m(c,a,e,g,h,b,q,l)}var u,z=qa(l),n=qa(f),w,r,A,C,G,D,t,x;if(null!=a)G=a,D=e,t=g,x=h;else if(t=x=-(G=D=Infinity),w=[],r=[],C=c.length,k)for(A=0;A<C;++A)u=c[A],u.x<G&&(G=u.x),u.y<D&&(D=u.y),u.x>t&&(t=u.x),u.y>x&&(x=u.y),w.push(u.x),r.push(u.y);else for(A=0;A<C;++A){var v=+z(u=c[A],A);u=+n(u,A);v<G&&(G=v);u<D&&(D=u);v>t&&(t=v);u>x&&(x=u);w.push(v);r.push(u)}v=t-G;u=x-D;v>u?
x=D+v:t=G+u;var y=Xe();y.add=function(c){m(y,c,+z(c,++A),+n(c,A),G,D,t,x)};y.visit=function(c){Pb(c,y,G,D,t,x)};A=-1;if(null==a){for(;++A<C;)m(y,c[A],w[A],r[A],G,D,t,x);--A}else c.forEach(y.add);w=r=c=u=null;return y}var l=mb,f=yb,k;if(k=arguments.length)return l=Lg,f=Mg,3===k&&(h=e,g=a,e=a=0),b(c);b.x=function(c){return arguments.length?(l=c,b):l};b.y=function(c){return arguments.length?(f=c,b):f};b.extent=function(c){if(!arguments.length)return null==a?null:[[a,e],[g,h]];null==c?a=e=g=h=null:(a=
+c[0][0],e=+c[0][1],g=+c[1][0],h=+c[1][1]);return b};b.size=function(c){if(!arguments.length)return null==a?null:[g-a,h-e];null==c?a=e=g=h=null:(a=e=0,g=+c[0],h=+c[1]);return b};return b};x.interpolateRgb=td;x.interpolateObject=Ye;x.interpolateNumber=Va;x.interpolateString=Ze;var nc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;x.interpolate=ob;x.interpolators=[function(c,a){var e=typeof a;return("string"===e?Wb.has(a)||/^(#|rgb\(|hsl\()/.test(a)?td:Ze:a instanceof ga?td:"object"===e?Array.isArray(a)?
oc:Ye:Va)(c,a)}];x.interpolateArray=oc;var fg=function(){return va},Wh=x.map({linear:fg,poly:function(c){return function(a){return Math.pow(a,c)}},quad:function(){return Og},cubic:function(){return Pg},sin:function(){return Rg},exp:function(){return Sg},circle:function(){return Tg},elastic:function(c,a){var e;2>arguments.length&&(a=.45);arguments.length?e=a/Ca*Math.asin(1/c):(c=1,e=a/4);return function(g){return 1+c*Math.pow(2,-10*g)*Math.sin((g-e)*Ca/a)}},back:function(c){c||(c=1.70158);return function(a){return a*
a*((c+1)*a-c)}},bounce:function(){return Ug}}),Xh=x.map({"in":va,out:$e,"in-out":af,"out-in":function(c){return af($e(c))}});x.ease=function(c){var a=c.indexOf("-"),e=0<=a?c.substring(0,a):c,a=0<=a?c.substring(a+1):"in",e=Wh.get(e)||fg,a=Xh.get(a)||va;return Ng(a(e.apply(null,Tf.call(arguments,1))))};x.interpolateHcl=function(c,a){c=x.hcl(c);a=x.hcl(a);var e=c.h,g=c.c,h=c.l,b=a.h-e,l=a.c-g,f=a.l-h;isNaN(l)&&(l=0,g=isNaN(g)?a.c:g);isNaN(b)?(b=0,e=isNaN(e)?a.h:e):180<b?b-=360:-180>b&&(b+=360);return function(c){return ma(e+
b*c,g+l*c,h+f*c)+""}};x.interpolateHsl=function(c,a){c=x.hsl(c);a=x.hsl(a);var e=c.h,g=c.s,h=c.l,b=a.h-e,l=a.s-g,f=a.l-h;isNaN(l)&&(l=0,g=isNaN(g)?a.s:g);isNaN(b)?(b=0,e=isNaN(e)?a.h:e):180<b?b-=360:-180>b&&(b+=360);return function(c){return ha(e+b*c,g+l*c,h+f*c)+""}};x.interpolateLab=function(c,a){c=x.lab(c);a=x.lab(a);var e=c.l,g=c.a,b=c.b,m=a.l-e,l=a.a-g,f=a.b-b;return function(c){return pa(e+m*c,g+l*c,b+f*c)+""}};x.interpolateRound=bf;x.transform=function(c){var a=La.createElementNS(x.ns.prefix.svg,
"g");return(x.transform=function(c){if(null!=c){a.setAttribute("transform",c);var g=a.transform.baseVal.consolidate()}return new cf(g?g.matrix:Yh)})(c)};cf.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Yh={a:1,b:0,c:0,d:1,e:0,f:0};x.interpolateTransform=ef;x.layout={};x.layout.bundle=function(){return function(c){for(var a=[],e=-1,g=c.length;++e<g;)a.push(Xg(c[e]));return a}};x.layout.chord=function(){function c(){var c=
{},e=[],z=x.range(l),n=[],w,r,A,C,G;g=[];b=[];w=0;for(C=-1;++C<l;){r=0;for(G=-1;++G<l;)r+=m[C][G];e.push(r);n.push(x.range(l));w+=r}k&&z.sort(function(c,a){return k(e[c],e[a])});p&&n.forEach(function(c,a){c.sort(function(c,e){return p(m[a][c],m[a][e])})});w=(Ca-f*l)/w;r=0;for(C=-1;++C<l;){A=r;for(G=-1;++G<l;){var D=z[C],t=n[D][G],v=m[D][t],y=r,S=r+=v*w;c[D+"-"+t]={index:D,subindex:t,startAngle:y,endAngle:S,value:v}}b[D]={index:D,startAngle:A,endAngle:r,value:(r-A)/w};r+=f}for(C=-1;++C<l;)for(G=C-
1;++G<l;)z=c[C+"-"+G],n=c[G+"-"+C],(z.value||n.value)&&g.push(z.value<n.value?{source:n,target:z}:{source:z,target:n});u&&a()}function a(){g.sort(function(c,a){return u((c.source.value+c.target.value)/2,(a.source.value+a.target.value)/2)})}var e={},g,b,m,l,f=0,k,p,u;e.matrix=function(c){if(!arguments.length)return m;l=(m=c)&&m.length;g=b=null;return e};e.padding=function(c){if(!arguments.length)return f;f=c;g=b=null;return e};e.sortGroups=function(c){if(!arguments.length)return k;k=c;g=b=null;return e};
e.sortSubgroups=function(c){if(!arguments.length)return p;p=c;g=null;return e};e.sortChords=function(c){if(!arguments.length)return u;u=c;g&&a();return e};e.chords=function(){g||c();return g};e.groups=function(){b||c();return b};return e};x.layout.force=function(){function c(c){return function(a,e,g,b){if(a.point!==c){g=a.cx-c.x;var h=a.cy-c.y,m=1/Math.sqrt(g*g+h*h);if((b-e)*m<n)return e=a.charge*m*m,c.px-=g*e,c.py-=h*e,!0;a.point&&isFinite(m)&&(e=a.pointCharge*m*m,c.px-=g*e,c.py-=h*e)}return!a.charge}}
function a(c){c.px=x.event.x;c.py=x.event.y;e.resume()}var e={},g=x.dispatch("start","tick","end"),b=[1,1],m,l,f=.9,k=Zh,p=$h,u=-30,z=.1,n=.8,w=[],r=[],A,C,G;e.tick=function(){if(.005>(l*=.99))return g.end({type:"end",alpha:l=0}),!0;var a=w.length,e=r.length,m,q,k,p,n,D,t;for(m=0;m<e;++m)if(q=r[m],k=q.source,p=q.target,D=p.x-k.x,t=p.y-k.y,n=D*D+t*t)n=l*C[m]*((n=Math.sqrt(n))-A[m])/n,D*=n,t*=n,p.x-=D*(n=k.weight/(p.weight+k.weight)),p.y-=t*n,k.x+=D*(n=1-n),k.y+=t*n;if(n=l*z)if(D=b[0]/2,t=b[1]/2,m=
-1,n)for(;++m<a;)q=w[m],q.x+=(D-q.x)*n,q.y+=(t-q.y)*n;if(u)for(gf(e=x.geom.quadtree(w),l,G),m=-1;++m<a;)(q=w[m]).fixed||e.visit(c(q));for(m=-1;++m<a;)q=w[m],q.fixed?(q.x=q.px,q.y=q.py):(q.x-=(q.px-(q.px=q.x))*f,q.y-=(q.py-(q.py=q.y))*f);g.tick({type:"tick",alpha:l})};e.nodes=function(c){if(!arguments.length)return w;w=c;return e};e.links=function(c){if(!arguments.length)return r;r=c;return e};e.size=function(c){if(!arguments.length)return b;b=c;return e};e.linkDistance=function(c){if(!arguments.length)return k;
k="function"===typeof c?c:+c;return e};e.distance=e.linkDistance;e.linkStrength=function(c){if(!arguments.length)return p;p="function"===typeof c?c:+c;return e};e.friction=function(c){if(!arguments.length)return f;f=+c;return e};e.charge=function(c){if(!arguments.length)return u;u="function"===typeof c?c:+c;return e};e.gravity=function(c){if(!arguments.length)return z;z=+c;return e};e.theta=function(c){if(!arguments.length)return n;n=+c;return e};e.alpha=function(c){if(!arguments.length)return l;
c=+c;l?l=0<c?c:0:0<c&&(g.start({type:"start",alpha:l=c}),x.timer(e.tick));return e};e.start=function(){function c(e,b){if(!f){f=Array(g);for(m=0;m<g;++m)f[m]=[];for(m=0;m<q;++m){var h=r[m];f[h.source.index].push(h.target);f[h.target.index].push(h.source)}}for(var h=f[a],m=-1,q=h.length,l;++m<q;)if(!isNaN(l=h[m][e]))return l;return Math.random()*b}var a,g=w.length,m=r.length,q=b[0],l=b[1],f,n;for(a=0;a<g;++a)(n=w[a]).index=a,n.weight=0;for(a=0;a<m;++a)n=r[a],"number"==typeof n.source&&(n.source=w[n.source]),
"number"==typeof n.target&&(n.target=w[n.target]),++n.source.weight,++n.target.weight;for(a=0;a<g;++a)n=w[a],isNaN(n.x)&&(n.x=c("x",q)),isNaN(n.y)&&(n.y=c("y",l)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);A=[];if("function"===typeof k)for(a=0;a<m;++a)A[a]=+k.call(this,r[a],a);else for(a=0;a<m;++a)A[a]=k;C=[];if("function"===typeof p)for(a=0;a<m;++a)C[a]=+p.call(this,r[a],a);else for(a=0;a<m;++a)C[a]=p;G=[];if("function"===typeof u)for(a=0;a<g;++a)G[a]=+u.call(this,w[a],a);else for(a=0;a<g;++a)G[a]=
u;return e.resume()};e.resume=function(){return e.alpha(.1)};e.stop=function(){return e.alpha(0)};e.drag=function(){m||(m=x.behavior.drag().origin(va).on("dragstart.force",Yg).on("drag.force",a).on("dragend.force",Zg));if(!arguments.length)return m;this.on("mouseover.force",$g).on("mouseout.force",ah).call(m)};return x.rebind(e,g,"on")};var Zh=20,$h=1;x.layout.hierarchy=function(){function c(a,q,l){var f=b.call(e,a,q);a.depth=q;l.push(a);if(f&&(p=f.length)){var k=-1,p,u=a.children=Array(p),n=0;q+=
1;for(var z;++k<p;)z=u[k]=c(f[k],q,l),z.parent=a,n+=z.value;g&&u.sort(g);m&&(a.value=n)}else delete a.children,m&&(a.value=+m.call(e,a,q)||0);return a}function a(c,g){var b=c.children,h=0;if(b&&(f=b.length))for(var l=-1,f,k=g+1;++l<f;)h+=a(b[l],k);else m&&(h=+m.call(e,c,g)||0);m&&(c.value=h);return h}function e(a){var e=[];c(a,0,e);return e}var g=eh,b=ch,m=dh;e.sort=function(c){if(!arguments.length)return g;g=c;return e};e.children=function(c){if(!arguments.length)return b;b=c;return e};e.value=function(c){if(!arguments.length)return m;
m=c;return e};e.revalue=function(c){a(c,0);return c};return e};x.layout.partition=function(){function c(a,e,g,b){var h=a.children;a.x=e;a.y=a.depth*b;a.dx=g;a.dy=b;if(h&&(l=h.length)){var q=-1,l,f;for(g=a.value?g/a.value:0;++q<l;)c(f=h[q],e,a=f.value*g,b),e+=a}}function a(c){c=c.children;var e=0;if(c&&(b=c.length))for(var g=-1,b;++g<b;)e=Math.max(e,a(c[g]));return 1+e}function e(e,l){var f=g.call(this,e,l);c(f[0],0,b[0],b[1]/a(f[0]));return f}var g=x.layout.hierarchy(),b=[1,1];e.size=function(c){if(!arguments.length)return b;
b=c;return e};return Qb(e,g)};x.layout.pie=function(){function c(m){var l=m.map(function(e,g){return+a.call(c,e,g)}),f=+("function"===typeof g?g.apply(this,arguments):g),k=(("function"===typeof b?b.apply(this,arguments):b)-f)/x.sum(l),p=x.range(m.length);null!=e&&p.sort(e===gg?function(c,a){return l[a]-l[c]}:function(c,a){return e(m[c],m[a])});var u=[];p.forEach(function(c){var a;u[c]={data:m[c],value:a=l[c],startAngle:f,endAngle:f+=a*k}});return u}var a=Number,e=gg,g=0,b=Ca;c.value=function(e){if(!arguments.length)return a;
a=e;return c};c.sort=function(a){if(!arguments.length)return e;e=a;return c};c.startAngle=function(a){if(!arguments.length)return g;g=a;return c};c.endAngle=function(a){if(!arguments.length)return b;b=a;return c};return c};var gg={};x.layout.stack=function(){function c(f,k){var p=f.map(function(e,g){return a.call(c,e,g)}),u=p.map(function(a){return a.map(function(a,e){return[m.call(c,a,e),l.call(c,a,e)]})}),n=e.call(c,u,k),p=x.permute(p,n),u=x.permute(u,n),n=g.call(c,u,k),z=p.length,w=p[0].length,
r,A,C;for(A=0;A<w;++A)for(b.call(c,p[0][A],C=n[A],u[0][A][1]),r=1;r<z;++r)b.call(c,p[r][A],C+=u[r-1][A][1],u[r][A][1]);return f}var a=va,e=ud,g=vd,b=hh,m=fh,l=gh;c.values=function(e){if(!arguments.length)return a;a=e;return c};c.order=function(a){if(!arguments.length)return e;e="function"===typeof a?a:ai.get(a)||ud;return c};c.offset=function(a){if(!arguments.length)return g;g="function"===typeof a?a:bi.get(a)||vd;return c};c.x=function(a){if(!arguments.length)return m;m=a;return c};c.y=function(a){if(!arguments.length)return l;
l=a;return c};c.out=function(a){if(!arguments.length)return b;b=a;return c};return c};var ai=x.map({"inside-out":function(a){var b=a.length,e,g=a.map(ih),h=a.map(jh),m=x.range(b).sort(function(a,c){return g[a]-g[c]}),l=0,f=0,k=[],p=[];for(a=0;a<b;++a)e=m[a],l<f?(l+=h[e],k.push(e)):(f+=h[e],p.push(e));return p.reverse().concat(k)},reverse:function(a){return x.range(a.length).reverse()},"default":ud}),bi=x.map({silhouette:function(a){var b=a.length,e=a[0].length,g=[],h=0,m,l,f,k=[];for(l=0;l<e;++l){for(f=
m=0;m<b;m++)f+=a[m][l][1];f>h&&(h=f);g.push(f)}for(l=0;l<e;++l)k[l]=(h-g[l])/2;return k},wiggle:function(a){var b=a.length,e=a[0],g=e.length,h,m,l,f,k,p,u,n,z,w=[];w[0]=n=z=0;for(m=1;m<g;++m){for(f=h=0;h<b;++h)f+=a[h][m][1];k=h=0;for(u=e[m][0]-e[m-1][0];h<b;++h){l=0;for(p=(a[h][m][1]-a[h][m-1][1])/(2*u);l<h;++l)p+=(a[l][m][1]-a[l][m-1][1])/u;k+=p*a[h][m][1]}w[m]=n-=f?k/f*u:0;n<z&&(z=n)}for(m=0;m<g;++m)w[m]-=z;return w},expand:function(a){var b=a.length,e=a[0].length,g=1/b,h,m,l,f=[];for(m=0;m<e;++m){for(l=
h=0;h<b;h++)l+=a[h][m][1];if(l)for(h=0;h<b;h++)a[h][m][1]/=l;else for(h=0;h<b;h++)a[h][m][1]=g}for(m=0;m<e;++m)f[m]=0;return f},zero:vd});x.layout.histogram=function(){function a(c,l){var f=[],k=c.map(e,this),p=g.call(this,k,l),u=h.call(this,p,k,l),n;l=-1;for(var z=k.length,w=u.length-1,r=b?1:1/z;++l<w;)n=f[l]=[],n.dx=u[l+1]-(n.x=u[l]),n.y=0;if(0<w)for(l=-1;++l<z;)n=k[l],n>=p[0]&&n<=p[1]&&(n=f[x.bisect(u,n,1,w)-1],n.y+=r,n.push(c[l]));return f}var b=!0,e=Number,g=mh,h=lh;a.value=function(b){if(!arguments.length)return e;
e=b;return a};a.range=function(e){if(!arguments.length)return g;g=qa(e);return a};a.bins=function(e){if(!arguments.length)return h;h="number"===typeof e?function(a){return hf(a,e)}:qa(e);return a};a.frequency=function(e){if(!arguments.length)return b;b=!!e;return a};return a};x.layout.tree=function(){function a(c,l){function f(a,c){var b=a.children,g=a._tree;if(b&&(h=b.length)){for(var h,m=b[0],l,q=m,k,p=-1;++p<h;){k=b[p];f(k,l);var u=k;if(l){for(var n=u,z=u,w=u.parent.children[0],r=n._tree.mod,A=
z._tree.mod,C=l._tree.mod,G=w._tree.mod,D=void 0;l=xd(l),n=wd(n),l&&n;){w=wd(w);z=xd(z);z._tree.ancestor=u;D=l._tree.prelim+C-n._tree.prelim-r+e(l,n);if(0<D){var t=l._tree.ancestor.parent==u.parent?l._tree.ancestor:q,x=u,v=D,t=t._tree,x=x._tree,y=v/(x.number-t.number);t.change+=y;x.change-=y;x.shift+=v;x.prelim+=v;x.mod+=v;r+=D;A+=D}C+=l._tree.mod;r+=n._tree.mod;G+=w._tree.mod;A+=z._tree.mod}l&&!xd(z)&&(z._tree.thread=l,z._tree.mod+=C-A);n&&!wd(w)&&(w._tree.thread=n,w._tree.mod+=r-G,q=u)}l=k}h=b=
0;p=a.children;for(u=p.length;0<=--u;)q=p[u]._tree,q.prelim+=b,q.mod+=b,b+=q.shift+(h+=q.change);m=.5*(m._tree.prelim+k._tree.prelim);c?(g.prelim=c._tree.prelim+e(a,c),g.mod=g.prelim-m):g.prelim=m}else c&&(g.prelim=c._tree.prelim+e(a,c))}function k(a,c){a.x=a._tree.prelim+c;var e=a.children;if(e&&(g=e.length)){var b=-1,g;for(c+=a._tree.mod;++b<g;)k(e[b],c)}}var p=b.call(this,c,l),u=p[0];Wa(u,function(a,c){a._tree={ancestor:a,prelim:0,mod:0,change:0,shift:0,number:c?c._tree.number+1:0}});f(u);k(u,
-u._tree.prelim);var n=pc(u,oh),z=pc(u,nh),w=pc(u,ph),r=n.x-e(n,z)/2,A=z.x+e(z,n)/2,C=w.depth||1;Wa(u,h?function(a){a.x*=g[0];a.y=a.depth*g[1];delete a._tree}:function(a){a.x=(a.x-r)/(A-r)*g[0];a.y=a.depth/C*g[1];delete a._tree});return p}var b=x.layout.hierarchy().sort(null).value(null),e=jf,g=[1,1],h=!1;a.separation=function(b){if(!arguments.length)return e;e=b;return a};a.size=function(e){if(!arguments.length)return h?null:g;h=null==(g=e);return a};a.nodeSize=function(e){if(!arguments.length)return h?
g:null;h=null!=(g=e);return a};return Qb(a,b)};x.layout.pack=function(){function a(c,l){var f=b.call(this,c,l),k=f[0],p=g[0],u=g[1],n=null==h?Math.sqrt:"function"===typeof h?h:function(){return h};k.x=k.y=0;Wa(k,function(a){a.r=+n(a.value)});Wa(k,mf);if(e){var z=e*(h?1:Math.max(2*k.r/p,2*k.r/u))/2;Wa(k,function(a){a.r+=z});Wa(k,mf);Wa(k,function(a){a.r-=z})}of(k,p/2,u/2,h?1:1/Math.max(2*k.r/p,2*k.r/u));return f}var b=x.layout.hierarchy().sort(qh),e=0,g=[1,1],h;a.size=function(e){if(!arguments.length)return g;
g=e;return a};a.radius=function(e){if(!arguments.length)return h;h=null==e||"function"===typeof e?e:+e;return a};a.padding=function(b){if(!arguments.length)return e;e=+b;return a};return Qb(a,b)};x.layout.cluster=function(){function a(c,l){var f=b.call(this,c,l),k=f[0],p,u=0;Wa(k,function(a){var c=a.children;c&&c.length?(a.x=uh(c),a.y=th(c)):(a.x=p?u+=e(a,p):0,a.y=0,p=a)});var n=pf(k),z=qf(k),w=n.x-e(n,z)/2,r=z.x+e(z,n)/2;Wa(k,h?function(a){a.x=(a.x-k.x)*g[0];a.y=(k.y-a.y)*g[1]}:function(a){a.x=(a.x-
w)/(r-w)*g[0];a.y=(1-(k.y?a.y/k.y:1))*g[1]});return f}var b=x.layout.hierarchy().sort(null).value(null),e=jf,g=[1,1],h=!1;a.separation=function(b){if(!arguments.length)return e;e=b;return a};a.size=function(e){if(!arguments.length)return h?null:g;h=null==(g=e);return a};a.nodeSize=function(e){if(!arguments.length)return h?g:null;h=null!=(g=e);return a};return Qb(a,b)};x.layout.treemap=function(){function a(c,e){for(var b=-1,g=c.length,h,l;++b<g;)l=(h=c[b]).value*(0>e?0:e),h.area=isNaN(l)||0>=l?0:
l}function b(e){var h=e.children;if(h&&h.length){var l=u(e),m=[],f=h.slice(),k=Infinity,p,n="slice"===w?l.dx:"dice"===w?l.dy:"slice-dice"===w?e.depth&1?l.dy:l.dx:Math.min(l.dx,l.dy);a(f,l.dx*l.dy/e.value);for(m.area=0;0<(e=f.length);){m.push(e=f[e-1]);m.area+=e.area;if(!(e="squarify"!==w)){p=n;e=m.area;for(var z=void 0,A=0,C=Infinity,G=-1,D=m.length;++G<D;)if(z=m[G].area)z<C&&(C=z),z>A&&(A=z);e*=e;p*=p;e=(p=e?Math.max(p*A*r/e,e/(p*C*r)):Infinity)<=k}e?(f.pop(),k=p):(m.area-=m.pop().area,g(m,n,l,!1),
n=Math.min(l.dx,l.dy),m.length=m.area=0,k=Infinity)}m.length&&(g(m,n,l,!0),m.length=m.area=0);h.forEach(b)}}function e(b){var h=b.children;if(h&&h.length){var l=u(b),m=h.slice(),q=[];a(m,l.dx*l.dy/b.value);for(q.area=0;b=m.pop();)q.push(b),q.area+=b.area,null!=b.z&&(g(q,b.z?l.dx:l.dy,l,!m.length),q.length=q.area=0);h.forEach(e)}}function g(a,c,e,b){var g=-1,h=a.length,l=e.x,m=e.y,q=c?f(a.area/c):0,k;if(c==e.dx){if(b||q>e.dy)q=e.dy;for(;++g<h;)k=a[g],k.x=l,k.y=m,k.dy=q,l+=k.dx=Math.min(e.x+e.dx-l,
q?f(k.area/q):0);k.z=!0;k.dx+=e.x+e.dx-l;e.y+=q;e.dy-=q}else{if(b||q>e.dx)q=e.dx;for(;++g<h;)k=a[g],k.x=l,k.y=m,k.dx=q,m+=k.dy=Math.min(e.y+e.dy-m,q?f(k.area/q):0);k.z=!1;k.dy+=e.y+e.dy-m;e.x+=q;e.dx-=q}}function h(g){g=z||l(g);var h=g[0];h.x=0;h.y=0;h.dx=k[0];h.dy=k[1];z&&l.revalue(h);a([h],h.dx*h.dy/h.value);(z?e:b)(h);n&&(z=g);return g}var l=x.layout.hierarchy(),f=Math.round,k=[1,1],p=null,u=zd,n=!1,z,w="squarify",r=.5*(1+Math.sqrt(5));h.size=function(a){if(!arguments.length)return k;k=a;return h};
h.padding=function(a){function c(e){var b=a.call(h,e,e.depth);return null==b?zd(e):rf(e,"number"===typeof b?[b,b,b,b]:b)}function e(c){return rf(c,a)}if(!arguments.length)return p;var b;u=null==(p=a)?zd:"function"===(b=typeof a)?c:"number"===b?(a=[a,a,a,a],e):e;return h};h.round=function(a){if(!arguments.length)return f!=Number;f=a?Math.round:Number;return h};h.sticky=function(a){if(!arguments.length)return n;n=a;z=null;return h};h.ratio=function(a){if(!arguments.length)return r;r=a;return h};h.mode=
function(a){if(!arguments.length)return w;w=a+"";return h};return Qb(h,l)};x.random={normal:function(a,b){var e=arguments.length;2>e&&(b=1);1>e&&(a=0);return function(){var e,h;do e=2*Math.random()-1,h=2*Math.random()-1,h=e*e+h*h;while(!h||1<h);return a+b*e*Math.sqrt(-2*Math.log(h)/h)}},logNormal:function(){var a=x.random.normal.apply(x,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=x.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=
0,e=0;e<a;e++)b+=Math.random();return b}}};x.scale={};var wh={floor:va,ceil:va};x.scale.linear=function(){return tf([0,1],[0,1],ob,!1)};var zh={s:1,g:1,p:1,r:1,e:1};x.scale.log=function(){return vf(x.scale.linear().domain([0,1]),10,!0,[1,10])};var wf=x.format(".0e"),Ah={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};x.scale.pow=function(){return xf(x.scale.linear(),1,[0,1])};x.scale.sqrt=function(){return x.scale.pow().exponent(.5)};x.scale.ordinal=function(){return yf([],
{t:"range",a:[[]]})};x.scale.category10=function(){return x.scale.ordinal().range(ci)};x.scale.category20=function(){return x.scale.ordinal().range(di)};x.scale.category20b=function(){return x.scale.ordinal().range(ei)};x.scale.category20c=function(){return x.scale.ordinal().range(fi)};var ci=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Vb),di=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,
16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Vb),ei=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Vb),fi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Vb);x.scale.quantile=function(){return zf([],[])};x.scale.quantize=
function(){return Af(0,1,[0,1])};x.scale.threshold=function(){return Bf([.5],[0,1])};x.scale.identity=function(){return Cf([0,1])};x.svg={};x.svg.arc=function(){function a(){var c=b.apply(this,arguments),l=e.apply(this,arguments),f=g.apply(this,arguments)+pb,k=h.apply(this,arguments)+pb,p=(k<f&&(p=f,f=k,k=p),k-f),u=p<ka?"0":"1",n=Math.cos(f),f=Math.sin(f),z=Math.cos(k),k=Math.sin(k);return p>=gi?c?"M0,"+l+"A"+l+","+l+" 0 1,1 0,"+-l+"A"+l+","+l+" 0 1,1 0,"+l+"M0,"+c+"A"+c+","+c+" 0 1,0 0,"+-c+"A"+
c+","+c+" 0 1,0 0,"+c+"Z":"M0,"+l+"A"+l+","+l+" 0 1,1 0,"+-l+"A"+l+","+l+" 0 1,1 0,"+l+"Z":c?"M"+l*n+","+l*f+"A"+l+","+l+" 0 "+u+",1 "+l*z+","+l*k+"L"+c*z+","+c*k+"A"+c+","+c+" 0 "+u+",0 "+c*n+","+c*f+"Z":"M"+l*n+","+l*f+"A"+l+","+l+" 0 "+u+",1 "+l*z+","+l*k+"L0,0Z"}var b=Bh,e=Ch,g=Df,h=Ef;a.innerRadius=function(e){if(!arguments.length)return b;b=qa(e);return a};a.outerRadius=function(b){if(!arguments.length)return e;e=qa(b);return a};a.startAngle=function(e){if(!arguments.length)return g;g=qa(e);
return a};a.endAngle=function(e){if(!arguments.length)return h;h=qa(e);return a};a.centroid=function(){var a=(b.apply(this,arguments)+e.apply(this,arguments))/2,c=(g.apply(this,arguments)+h.apply(this,arguments))/2+pb;return[Math.cos(c)*a,Math.sin(c)*a]};return a};var pb=-ya,gi=Ca-1E-6;x.svg.line=function(){return Ff(va)};var Dd=x.map({linear:Ea,"linear-closed":function(a){return Ea(a)+"Z"},step:function(a){for(var b=0,e=a.length,g=a[0],h=[g[0],",",g[1]];++b<e;)h.push("H",(g[0]+(g=a[b])[0])/2,"V",
g[1]);1<e&&h.push("H",g[0]);return h.join("")},"step-before":Ed,"step-after":Fd,basis:Gf,"basis-open":function(a){if(4>a.length)return Ea(a);for(var b=[],e=-1,g=a.length,h,l=[0],f=[0];3>++e;)h=a[e],l.push(h[0]),f.push(h[1]);b.push(Ia(gb,l)+","+Ia(gb,f));for(--e;++e<g;)h=a[e],l.shift(),l.push(h[0]),f.shift(),f.push(h[1]),Hd(b,l,f);return b.join("")},"basis-closed":function(a){for(var b,e=-1,g=a.length,h=g+4,l,f=[],k=[];4>++e;)l=a[e%g],f.push(l[0]),k.push(l[1]);b=[Ia(gb,f),",",Ia(gb,k)];for(--e;++e<
h;)l=a[e%g],f.shift(),f.push(l[0]),k.shift(),k.push(l[1]),Hd(b,f,k);return b.join("")},bundle:function(a,b){var e=a.length-1;if(e)for(var g=a[0][0],h=a[0][1],l=a[e][0]-g,f=a[e][1]-h,k=-1,p,u;++k<=e;)p=a[k],u=k/e,p[0]=b*p[0]+(1-b)*(g+u*l),p[1]=b*p[1]+(1-b)*(h+u*f);return Gf(a)},cardinal:function(a,b){return 3>a.length?Ea(a):a[0]+tc(a,Gd(a,b))},"cardinal-open":function(a,b){return 4>a.length?Ea(a):a[1]+tc(a.slice(1,a.length-1),Gd(a,b))},"cardinal-closed":function(a,b){return 3>a.length?Ea(a):a[0]+tc((a.push(a[0]),
a),Gd([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=Ea(a);else{var b=a[0],e=[],g,h,l,f;g=0;h=a.length-1;var k=[];l=a[1];for(f=k[0]=Id(a[0],l);++g<h;)k[g]=(f+(f=Id(l,l=a[g+1])))/2;k[g]=f;for(var p=-1,u=a.length-1;++p<u;)g=Id(a[p],a[p+1]),1E-6>la(g)?k[p]=k[p+1]=0:(h=k[p]/g,l=k[p+1]/g,f=h*h+l*l,9<f&&(f=3*g/Math.sqrt(f),k[p]=f*h,k[p+1]=f*l));for(p=-1;++p<=u;)f=(a[Math.min(u,p+1)][0]-a[Math.max(0,p-1)][0])/(6*(1+k[p]*k[p])),e.push([f||0,k[p]*f||0]);a=b+tc(a,e)}return a}});
Dd.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var Hf=[0,2/3,1/3,0],If=[0,1/3,2/3,0],gb=[0,1/6,2/3,1/6];x.svg.line.radial=function(){var a=Ff(Jf);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a};Ed.reverse=Fd;Fd.reverse=Ed;x.svg.area=function(){return Kf(va)};x.svg.area.radial=function(){var a=Kf(Jf);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};
x.svg.chord=function(){function a(c,l){var m=b(this,g,c,l),f=b(this,h,c,l);return"M"+m.p0+e(m.r,m.p1,m.a1-m.a0)+(m.a0==f.a0&&m.a1==f.a1?"Q 0,0 "+m.p0:"Q 0,0 "+f.p0+e(f.r,f.p1,f.a1-f.a0)+("Q 0,0 "+m.p0))+"Z"}function b(a,c,e,g){var h=c.call(a,e,g);c=l.call(a,h,g);e=f.call(a,h,g)+pb;a=k.call(a,h,g)+pb;return{r:c,a0:e,a1:a,p0:[c*Math.cos(e),c*Math.sin(e)],p1:[c*Math.cos(a),c*Math.sin(a)]}}function e(a,c,e){return"A"+a+","+a+" 0 "+ +(e>ka)+",1 "+c}var g=ld,h=md,l=Dh,f=Df,k=Ef;a.radius=function(e){if(!arguments.length)return l;
l=qa(e);return a};a.source=function(e){if(!arguments.length)return g;g=qa(e);return a};a.target=function(e){if(!arguments.length)return h;h=qa(e);return a};a.startAngle=function(e){if(!arguments.length)return f;f=qa(e);return a};a.endAngle=function(e){if(!arguments.length)return k;k=qa(e);return a};return a};x.svg.diagonal=function(){function a(c,l){var f=b.call(this,c,l),k=e.call(this,c,l),p=(f.y+k.y)/2,f=[f,{x:f.x,y:p},{x:k.x,y:p},k],f=f.map(g);return"M"+f[0]+"C"+f[1]+" "+f[2]+" "+f[3]}var b=ld,
e=md,g=Lf;a.source=function(e){if(!arguments.length)return b;b=qa(e);return a};a.target=function(b){if(!arguments.length)return e;e=qa(b);return a};a.projection=function(e){if(!arguments.length)return g;g=e;return a};return a};x.svg.diagonal.radial=function(){var a=x.svg.diagonal(),b=Lf,e=a.projection;a.projection=function(a){return arguments.length?e(Eh(b=a)):b};return a};x.svg.symbol=function(){function a(c,h){return(hg.get(b.call(this,c,h))||Mf)(e.call(this,c,h))}var b=Gh,e=Fh;a.type=function(e){if(!arguments.length)return b;
b=qa(e);return a};a.size=function(b){if(!arguments.length)return e;e=qa(b);return a};return a};var hg=x.map({circle:Mf,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*ig));var b=a*ig;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/
Rc);var b=a*Rc/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/Rc);var b=a*Rc/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});x.svg.symbolTypes=hg.keys();var Rc=Math.sqrt(3),ig=Math.tan(30*ja),ua=[],Yf=0,sb,Cc;ua.call=oa.call;ua.empty=oa.empty;ua.node=oa.node;ua.size=oa.size;x.transition=function(a){return arguments.length?sb?a.transition():a:Xf.transition()};x.transition.prototype=ua;ua.select=function(a){var b=this.id,e=[],g,h,l;a=K(a);for(var f=-1,k=this.length;++f<
k;){e.push(g=[]);for(var p=this[f],u=-1,n=p.length;++u<n;)(l=p[u])&&(h=a.call(l,l.__data__,u,f))?("__data__"in l&&(h.__data__=l.__data__),uc(h,u,b,l.__transition__[b]),g.push(h)):g.push(null)}return Rb(e,b)};ua.selectAll=function(a){var b=this.id,e=[],g,h,l,f;a=E(a);for(var k=-1,p=this.length;++k<p;)for(var u=this[k],n=-1,z=u.length;++n<z;)if(g=u[n]){f=g.__transition__[b];h=a.call(g,g.__data__,n,k);e.push(g=[]);for(var w=-1,r=h.length;++w<r;)(l=h[w])&&uc(l,w,b,f),g.push(l)}return Rb(e,b)};ua.filter=
function(a){var b=[],e,g,h;"function"!==typeof a&&(a=P(a));for(var l=0,f=this.length;l<f;l++){b.push(e=[]);g=this[l];for(var k=0,p=g.length;k<p;k++)(h=g[k])&&a.call(h,h.__data__,k,l)&&e.push(h)}return Rb(b,this.id)};ua.tween=function(a,b){var e=this.id;return 2>arguments.length?this.node().__transition__[e].tween.get(a):C(this,null==b?function(b){b.__transition__[e].tween.remove(a)}:function(g){g.__transition__[e].tween.set(a,b)})};ua.attr=function(a,b){function e(){this.removeAttribute(k)}function g(){this.removeAttributeNS(k.space,
k.local)}function h(a){return null==a?e:(a+="",function(){var c=this.getAttribute(k),e;return c!==a&&(e=f(c,a),function(a){this.setAttribute(k,e(a))})})}function l(a){return null==a?g:(a+="",function(){var c=this.getAttributeNS(k.space,k.local),e;return c!==a&&(e=f(c,a),function(a){this.setAttributeNS(k.space,k.local,e(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var f="transform"==a?ef:ob,k=x.ns.qualify(a);return Jd(this,"attr."+a,b,k.local?l:h)};ua.attrTween=function(a,
b){function e(a,c){var e=b.call(this,a,c,this.getAttribute(h));return e&&function(a){this.setAttribute(h,e(a))}}function g(a,c){var e=b.call(this,a,c,this.getAttributeNS(h.space,h.local));return e&&function(a){this.setAttributeNS(h.space,h.local,e(a))}}var h=x.ns.qualify(a);return this.tween("attr."+a,h.local?g:e)};ua.style=function(a,b,e){function g(){this.style.removeProperty(a)}var h=arguments.length;if(3>h){if("string"!==typeof a){2>h&&(b="");for(e in a)this.style(e,a[e],b);return this}e=""}return Jd(this,
"style."+a,b,function(b){return null==b?g:(b+="",function(){var g=wa.getComputedStyle(this,null).getPropertyValue(a),h;return g!==b&&(h=ob(g,b),function(b){this.style.setProperty(a,h(b),e)})})})};ua.styleTween=function(a,b,e){3>arguments.length&&(e="");return this.tween("style."+a,function(g,h){var l=b.call(this,g,h,wa.getComputedStyle(this,null).getPropertyValue(a));return l&&function(b){this.style.setProperty(a,l(b),e)}})};ua.text=function(a){return Jd(this,"text",a,Hh)};ua.remove=function(){return this.each("end.transition",
function(){var a;2>this.__transition__.count&&(a=this.parentNode)&&a.removeChild(this)})};ua.ease=function(a){var b=this.id;if(1>arguments.length)return this.node().__transition__[b].ease;"function"!==typeof a&&(a=x.ease.apply(x,arguments));return C(this,function(e){e.__transition__[b].ease=a})};ua.delay=function(a){var b=this.id;return C(this,"function"===typeof a?function(e,g,h){e.__transition__[b].delay=+a.call(e,e.__data__,g,h)}:(a=+a,function(e){e.__transition__[b].delay=a}))};ua.duration=function(a){var b=
this.id;return C(this,"function"===typeof a?function(e,g,h){e.__transition__[b].duration=Math.max(1,a.call(e,e.__data__,g,h))}:(a=Math.max(1,a),function(e){e.__transition__[b].duration=a}))};ua.each=function(a,b){var e=this.id;if(2>arguments.length){var g=Cc,h=sb;sb=e;C(this,function(b,g,h){Cc=b.__transition__[e];a.call(b,b.__data__,g,h)});Cc=g;sb=h}else C(this,function(g){g=g.__transition__[e];(g.event||(g.event=x.dispatch("start","end"))).on(a,b)});return this};ua.transition=function(){for(var a=
this.id,b=++Yf,e=[],g,h,l,f,k=0,p=this.length;k<p;k++){e.push(g=[]);h=this[k];for(var u=0,n=h.length;u<n;u++){if(l=h[u])f=Object.create(l.__transition__[a]),f.delay+=f.duration,uc(l,u,b,f);g.push(l)}}return Rb(e,b)};x.svg.axis=function(){function a(c){c.each(function(){var a=x.select(this),c=this.__chart__||b,u=this.__chart__=b.copy(),n=null==k?u.ticks?u.ticks.apply(u,f):u.domain():k,z=null==p?u.tickFormat?u.tickFormat.apply(u,f):va:p,w=a.selectAll(".tick").data(n,u),n=w.enter().insert("g",".domain").attr("class",
"tick").style("opacity",1E-6),r=x.transition(w.exit()).style("opacity",1E-6).remove(),A=x.transition(w).style("opacity",1),C,G=qc(u),a=a.selectAll(".domain").data([0]),a=(a.enter().append("path").attr("class","domain"),x.transition(a));n.append("line");n.append("text");var D=n.select("line"),t=A.select("line"),z=w.select("text").text(z),w=n.select("text"),v=A.select("text");switch(e){case "bottom":C=Nf;D.attr("y2",g);w.attr("y",Math.max(g,0)+l);t.attr("x2",0).attr("y2",g);v.attr("x",0).attr("y",Math.max(g,
0)+l);z.attr("dy",".71em").style("text-anchor","middle");a.attr("d","M"+G[0]+","+h+"V0H"+G[1]+"V"+h);break;case "top":C=Nf;D.attr("y2",-g);w.attr("y",-(Math.max(g,0)+l));t.attr("x2",0).attr("y2",-g);v.attr("x",0).attr("y",-(Math.max(g,0)+l));z.attr("dy","0em").style("text-anchor","middle");a.attr("d","M"+G[0]+","+-h+"V0H"+G[1]+"V"+-h);break;case "left":C=Of;D.attr("x2",-g);w.attr("x",-(Math.max(g,0)+l));t.attr("x2",-g).attr("y2",0);v.attr("x",-(Math.max(g,0)+l)).attr("y",0);z.attr("dy",".32em").style("text-anchor",
"end");a.attr("d","M"+-h+","+G[0]+"H0V"+G[1]+"H"+-h);break;case "right":C=Of,D.attr("x2",g),w.attr("x",Math.max(g,0)+l),t.attr("x2",g).attr("y2",0),v.attr("x",Math.max(g,0)+l).attr("y",0),z.attr("dy",".32em").style("text-anchor","start"),a.attr("d","M"+h+","+G[0]+"H0V"+G[1]+"H"+h)}if(u.rangeBand)var y=u,S=y.rangeBand()/2,c=u=function(a){return y(a)+S};else c.rangeBand?c=u:r.call(C,u);n.call(C,c);A.call(C,u)})}var b=x.scale.linear(),e=jg,g=6,h=6,l=3,f=[10],k=null,p;a.scale=function(e){if(!arguments.length)return b;
b=e;return a};a.orient=function(b){if(!arguments.length)return e;e=b in hi?b+"":jg;return a};a.ticks=function(){if(!arguments.length)return f;f=arguments;return a};a.tickValues=function(e){if(!arguments.length)return k;k=e;return a};a.tickFormat=function(e){if(!arguments.length)return p;p=e;return a};a.tickSize=function(e){var b=arguments.length;if(!b)return g;g=+e;h=+arguments[b-1];return a};a.innerTickSize=function(e){if(!arguments.length)return g;g=+e;return a};a.outerTickSize=function(e){if(!arguments.length)return h;
h=+e;return a};a.tickPadding=function(e){if(!arguments.length)return l;l=+e;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};var jg="bottom",hi={top:1,right:1,bottom:1,left:1};x.svg.brush=function(){function a(l){l.each(function(){var l=x.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",h).on("touchstart.brush",h),m=l.selectAll(".background").data([0]);m.enter().append("rect").attr("class","background").style("visibility",
"hidden").style("cursor","crosshair");l.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var p=l.selectAll(".resize").data(A,va);p.exit().remove();p.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return ii[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");p.style("display",
a.empty()?"none":null);l=x.transition(l);m=x.transition(m);f&&(p=qc(f),m.attr("x",p[0]).attr("width",p[1]-p[0]),e(l));k&&(p=qc(k),m.attr("y",p[0]).attr("height",p[1]-p[0]),g(l));b(l)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+p[+/e$/.test(a)]+","+u[+/^s/.test(a)]+")"})}function e(a){a.select(".extent").attr("x",p[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",p[1]-p[0])}function g(a){a.select(".extent").attr("y",u[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",
u[1]-u[0])}function h(){function h(){var a=x.mouse(G),c=!1;T&&(a[0]+=T[0],a[1]+=T[1]);O||(x.event.altKey?(W||(W=[(p[0]+p[1])/2,(u[0]+u[1])/2]),M[0]=p[+(a[0]<W[0])],M[1]=u[+(a[1]<W[1])]):W=null);J&&A(a,f,0)&&(e(y),c=!0);V&&A(a,k,1)&&(g(y),c=!0);c&&(b(y),v({type:"brush",mode:O?"move":"resize"}))}function A(a,c,e){var b=qc(c);c=b[0];var g=b[1],b=M[e],h=e?u:p,l=h[1]-h[0];O&&(c-=b,g-=l+b);a=(e?r:w)?Math.max(c,Math.min(g,a[e])):a[e];O?c=(a+=b)+l:(W&&(b=Math.max(c,Math.min(g,2*W[e]-a))),b<a?(c=a,a=b):c=
b);if(h[0]!=a||h[1]!=c)return e?z=null:n=null,h[0]=a,h[1]=c,!0}function C(){h();y.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);x.select("body").style("cursor",null);pa.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);E();v({type:"brushend"})}var G=this,D=x.select(x.event.target),v=l.of(G,arguments),y=x.select(G),S=D.datum(),J=!/^(n|s)$/.test(S)&&f,V=
!/^(e|w)$/.test(S)&&k,O=D.classed("extent"),E=ba(),W,M=x.mouse(G),T,pa=x.select(wa).on("keydown.brush",function(){32==x.event.keyCode&&(O||(W=null,M[0]-=p[1],M[1]-=u[1],O=2),t())}).on("keyup.brush",function(){32==x.event.keyCode&&2==O&&(M[0]+=p[1],M[1]+=u[1],O=0,t())});if(x.event.changedTouches)pa.on("touchmove.brush",h).on("touchend.brush",C);else pa.on("mousemove.brush",h).on("mouseup.brush",C);y.interrupt().selectAll("*").interrupt();if(O)M[0]=p[0]-M[0],M[1]=u[0]-M[1];else if(S){var P=+/w$/.test(S),
S=+/^n/.test(S);T=[p[1-P]-M[0],u[1-S]-M[1]];M[0]=p[P];M[1]=u[S]}else x.event.altKey&&(W=M.slice());y.style("pointer-events","none").selectAll(".resize").style("display",null);x.select("body").style("cursor",D.style("cursor"));v({type:"brushstart"});h()}var l=H(a,"brushstart","brush","brushend"),f=null,k=null,p=[0,0],u=[0,0],n,z,w=!0,r=!0,A=Rd[0];a.event=function(a){a.each(function(){var a=l.of(this,arguments),c={x:p,y:u,i:n,j:z},e=this.__chart__||c;this.__chart__=c;sb?x.select(this).transition().each("start.brush",
function(){n=e.i;z=e.j;p=e.x;u=e.y;a({type:"brushstart"})}).tween("brush:brush",function(){var e=oc(p,c.x),b=oc(u,c.y);n=z=null;return function(g){p=c.x=e(g);u=c.y=b(g);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){n=c.i;z=c.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})};a.x=function(e){if(!arguments.length)return f;f=e;A=Rd[!f<<1|!k];return a};a.y=function(e){if(!arguments.length)return k;
k=e;A=Rd[!f<<1|!k];return a};a.clamp=function(e){if(!arguments.length)return f&&k?[w,r]:f?w:k?r:null;f&&k?(w=!!e[0],r=!!e[1]):f?w=!!e:k&&(r=!!e);return a};a.extent=function(e){var b,g,h,l,m;if(!arguments.length)return f&&(n?(b=n[0],g=n[1]):(b=p[0],g=p[1],f.invert&&(b=f.invert(b),g=f.invert(g)),g<b&&(m=b,b=g,g=m))),k&&(z?(h=z[0],l=z[1]):(h=u[0],l=u[1],k.invert&&(h=k.invert(h),l=k.invert(l)),l<h&&(m=h,h=l,l=m))),f&&k?[[b,h],[g,l]]:f?[b,g]:k&&[h,l];f&&(b=e[0],g=e[1],k&&(b=b[0],g=g[0]),n=[b,g],f.invert&&
(b=f(b),g=f(g)),g<b&&(m=b,b=g,g=m),b!=p[0]||g!=p[1])&&(p=[b,g]);k&&(h=e[0],l=e[1],f&&(h=h[1],l=l[1]),z=[h,l],k.invert&&(h=k(h),l=k(l)),l<h&&(m=h,h=l,l=m),h!=u[0]||l!=u[1])&&(u=[h,l]);return a};a.clear=function(){a.empty()||(p=[0,0],u=[0,0],n=z=null);return a};a.empty=function(){return!!f&&p[0]==p[1]||!!k&&u[0]==u[1]};return x.rebind(a,l,"on")};var ii={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Rd=["n e s w nw ne se sw".split(" "),
["e","w"],["n","s"],[]],aa=x.time={},xa=Date;Xa.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},
getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ya.setUTCDate.apply(this._,arguments)},setDay:function(){Ya.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ya.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ya.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ya.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ya.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ya.setUTCMonth.apply(this._,
arguments)},setSeconds:function(){Ya.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ya.setTime.apply(this._,arguments)}};var Ya=Date.prototype,Sd="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Td="Sun Mon Tue Wed Thu Fri Sat".split(" "),Ud="January February March April May June July August September October November December".split(" "),Vd="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");aa.year=qb(function(a){a=aa.day(a);a.setMonth(0,1);return a},function(a,
b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});aa.years=aa.year.range;aa.years.utc=aa.year.utc.range;aa.day=qb(function(a){var b=new xa(2E3,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});aa.days=aa.day.range;aa.days.utc=aa.day.utc.range;aa.dayOfYear=function(a){var b=aa.year(a);return Math.floor((a-b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ").forEach(function(a,
b){a=a.toLowerCase();b=7-b;var e=aa[a]=qb(function(a){(a=aa.day(a)).setDate(a.getDate()-(a.getDay()+b)%7);return a},function(a,c){a.setDate(a.getDate()+7*Math.floor(c))},function(a){var c=aa.year(a).getDay();return Math.floor((aa.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});aa[a+"s"]=e.range;aa[a+"s"].utc=e.utc.range;aa[a+"OfYear"]=function(a){var c=aa.year(a).getDay();return Math.floor((aa.dayOfYear(a)+(c+b)%7)/7)}});aa.week=aa.sunday;aa.weeks=aa.sunday.range;aa.weeks.utc=aa.sunday.utc.range;aa.weekOfYear=
aa.sundayOfYear;aa.format=za;var kg=yc(Sd),ji=zc(Sd),lg=yc(Td),ki=zc(Td),mg=yc(Ud),li=zc(Ud),ng=yc(Vd),mi=zc(Vd),og=/^%/,Pf={"-":"",_:" ",0:"0"},wc={a:function(a){return Td[a.getDay()]},A:function(a){return Sd[a.getDay()]},b:function(a){return Vd[a.getMonth()]},B:function(a){return Ud[a.getMonth()]},c:za("%a %b %e %X %Y"),d:function(a,b){return Aa(a.getDate(),b,2)},e:function(a,b){return Aa(a.getDate(),b,2)},H:function(a,b){return Aa(a.getHours(),b,2)},I:function(a,b){return Aa(a.getHours()%12||12,
b,2)},j:function(a,b){return Aa(1+aa.dayOfYear(a),b,3)},L:function(a,b){return Aa(a.getMilliseconds(),b,3)},m:function(a,b){return Aa(a.getMonth()+1,b,2)},M:function(a,b){return Aa(a.getMinutes(),b,2)},p:function(a){return 12<=a.getHours()?"PM":"AM"},S:function(a,b){return Aa(a.getSeconds(),b,2)},U:function(a,b){return Aa(aa.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return Aa(aa.mondayOfYear(a),b,2)},x:za("%m/%d/%Y"),X:za("%H:%M:%S"),y:function(a,b){return Aa(a.getFullYear()%
100,b,2)},Y:function(a,b){return Aa(a.getFullYear()%1E4,b,4)},Z:function(a){var b=a.getTimezoneOffset();a=0<b?"-":"+";var e=~~(la(b)/60),b=la(b)%60;return a+Aa(e,"0",2)+Aa(b,"0",2)},"%":function(){return"%"}},Ih={a:function(a,b,e){lg.lastIndex=0;return(b=lg.exec(b.substring(e)))?(a.w=ki.get(b[0].toLowerCase()),e+b[0].length):-1},A:function(a,b,e){kg.lastIndex=0;return(b=kg.exec(b.substring(e)))?(a.w=ji.get(b[0].toLowerCase()),e+b[0].length):-1},b:function(a,b,e){ng.lastIndex=0;return(b=ng.exec(b.substring(e)))?
(a.m=mi.get(b[0].toLowerCase()),e+b[0].length):-1},B:function(a,b,e){mg.lastIndex=0;return(b=mg.exec(b.substring(e)))?(a.m=li.get(b[0].toLowerCase()),e+b[0].length):-1},c:function(a,b,e){return xc(a,wc.c.toString(),b,e)},d:Qf,e:Qf,H:Rf,I:Rf,j:function(a,b,e){ta.lastIndex=0;return(b=ta.exec(b.substring(e,e+3)))?(a.j=+b[0],e+b[0].length):-1},L:function(a,b,e){ta.lastIndex=0;return(b=ta.exec(b.substring(e,e+3)))?(a.L=+b[0],e+b[0].length):-1},m:function(a,b,e){ta.lastIndex=0;return(b=ta.exec(b.substring(e,
e+2)))?(a.m=b[0]-1,e+b[0].length):-1},M:function(a,b,e){ta.lastIndex=0;return(b=ta.exec(b.substring(e,e+2)))?(a.M=+b[0],e+b[0].length):-1},p:function(a,b,e){b=ni.get(b.substring(e,e+=2).toLowerCase());return null==b?-1:(a.p=b,e)},S:function(a,b,e){ta.lastIndex=0;return(b=ta.exec(b.substring(e,e+2)))?(a.S=+b[0],e+b[0].length):-1},U:function(a,b,e){ta.lastIndex=0;return(b=ta.exec(b.substring(e)))?(a.U=+b[0],e+b[0].length):-1},w:function(a,b,e){ta.lastIndex=0;return(b=ta.exec(b.substring(e,e+1)))?(a.w=
+b[0],e+b[0].length):-1},W:function(a,b,e){ta.lastIndex=0;return(b=ta.exec(b.substring(e)))?(a.W=+b[0],e+b[0].length):-1},x:function(a,b,e){return xc(a,wc.x.toString(),b,e)},X:function(a,b,e){return xc(a,wc.X.toString(),b,e)},y:function(a,b,e){ta.lastIndex=0;if(b=ta.exec(b.substring(e,e+2))){var g=+b[0];a=(a.y=g+(68<g?1900:2E3),e+b[0].length)}else a=-1;return a},Y:function(a,b,e){ta.lastIndex=0;return(b=ta.exec(b.substring(e,e+4)))?(a.y=+b[0],e+b[0].length):-1},Z:function(a,b,e){return/^[+-]\d{4}$/.test(b=
b.substring(e,e+5))?(a.Z=+b,e+5):-1},"%":function(a,b,e){og.lastIndex=0;return(a=og.exec(b.substring(e,e+1)))?e+a[0].length:-1}},ta=/^\s*\d+/,ni=x.map({am:0,pm:1});za.utc=Pa;var pg=Pa("%Y-%m-%dT%H:%M:%S.%LZ");za.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Kd:pg;Kd.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Kd.toString=pg.toString;aa.second=qb(function(a){return new xa(1E3*Math.floor(a/1E3))},function(a,b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});
aa.seconds=aa.second.range;aa.seconds.utc=aa.second.utc.range;aa.minute=qb(function(a){return new xa(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*Math.floor(b))},function(a){return a.getMinutes()});aa.minutes=aa.minute.range;aa.minutes.utc=aa.minute.utc.range;aa.hour=qb(function(a){var b=a.getTimezoneOffset()/60;return new xa(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*Math.floor(b))},function(a){return a.getHours()});aa.hours=aa.hour.range;aa.hours.utc=
aa.hour.utc.range;aa.month=qb(function(a){a=aa.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});aa.months=aa.month.range;aa.months.utc=aa.month.utc.range;var Ac=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],Wd=[[aa.second,1],[aa.second,5],[aa.second,15],[aa.second,30],[aa.minute,1],[aa.minute,5],[aa.minute,15],[aa.minute,30],[aa.hour,1],[aa.hour,3],[aa.hour,6],[aa.hour,12],[aa.day,1],[aa.day,
2],[aa.week,1],[aa.month,1],[aa.month,3],[aa.year,1]],oi=[[za("%Y"),xb],[za("%B"),function(a){return a.getMonth()}],[za("%b %d"),function(a){return 1!=a.getDate()}],[za("%a %d"),function(a){return a.getDay()&&1!=a.getDate()}],[za("%I %p"),function(a){return a.getHours()}],[za("%I:%M"),function(a){return a.getMinutes()}],[za(":%S"),function(a){return a.getSeconds()}],[za(".%L"),function(a){return a.getMilliseconds()}]],pi=Sf(oi);Wd.year=aa.year;aa.scale=function(){return Ld(x.scale.linear(),Wd,pi)};
var Jh={range:function(a,b,e){return x.range(+a,+b,e).map(rb)},floor:va,ceil:va},qg=Wd.map(function(a){return[a[0].utc,a[1]]}),qi=[[Pa("%Y"),xb],[Pa("%B"),function(a){return a.getUTCMonth()}],[Pa("%b %d"),function(a){return 1!=a.getUTCDate()}],[Pa("%a %d"),function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],[Pa("%I %p"),function(a){return a.getUTCHours()}],[Pa("%I:%M"),function(a){return a.getUTCMinutes()}],[Pa(":%S"),function(a){return a.getUTCSeconds()}],[Pa(".%L"),function(a){return a.getUTCMilliseconds()}]],
ri=Sf(qi);qg.year=aa.year.utc;aa.scale.utc=function(){return Ld(x.scale.linear(),qg,ri)};x.text=ad(function(a){return a.responseText});x.json=function(a,b){return Xb(a,"application/json",Kh,b)};x.html=function(a,b){return Xb(a,"text/html",Lh,b)};x.xml=ad(function(a){return a.responseXML});return x}();return sa.d3=d3}.apply(sa,arguments)})})(this);
(function(sa){define("nvd3",["d3"],function(){return function(){(function(){function sa(a,b){return(new Date(b,a+1,0)).getDate()}var n=window.nv||{};n.version="1.1.15b";n.dev=!0;window.nv=n;n.tooltip=n.tooltip||{};n.utils=n.utils||{};n.models=n.models||{};n.charts={};n.graphs=[];n.logs={};n.dispatch=d3.dispatch("render_start","render_end");n.dev&&(n.dispatch.on("render_start",function(a){n.logs.startTime=+new Date}),n.dispatch.on("render_end",function(a){n.logs.endTime=+new Date;n.logs.totalTime=
n.logs.endTime-n.logs.startTime;n.log("total",n.logs.totalTime)}));n.log=function(){n.dev&&console.log&&console.log.apply?console.log.apply(console,arguments):n.dev&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments);return arguments[arguments.length-1]};n.render=function(a){a=a||1;n.render.active=!0;n.dispatch.render_start();setTimeout(function(){for(var b,p,r=0;r<a&&(p=n.render.queue[r]);r++)b=p.generate(),typeof p.callback==
typeof Function&&p.callback(b),n.graphs.push(b);n.render.queue.splice(0,r);n.render.queue.length?setTimeout(arguments.callee,0):(n.dispatch.render_end(),n.render.active=!1)},0)};n.render.active=!1;n.render.queue=[];n.addGraph=function(a,b){typeof a===typeof Function&&(a={generate:a,callback:b});n.render.queue.push(a);n.render.active||n.render()};n.identity=function(a){return a};n.strip=function(a){return a.replace(/(\s|&)/g,"")};d3.time.monthEnd=function(a){return new Date(a.getFullYear(),a.getMonth(),
0)};d3.time.monthEnds=function(a,b,p){return function(n,v,f){var k=a(n),y=[];k<n&&b(k);if(1<f)for(;k<v;)n=new Date(+k),0===p(n)%f&&y.push(n),b(k);else for(;k<v;)y.push(new Date(+k)),b(k);return y}}(d3.time.monthEnd,function(a){a.setUTCDate(a.getUTCDate()+1);a.setDate(sa(a.getMonth()+1,a.getFullYear()))},function(a){return a.getMonth()});n.interactiveGuideline=function(){function a(H){H.each(function(F){function H(){var p=d3.mouse(this),n=p[0],p=p[1],r=!0,A=!1;N&&(n=d3.event.offsetX,p=d3.event.offsetY,
"svg"!==d3.event.target.tagName&&(r=!1),d3.event.target.className.baseVal.match("nv-legend")&&(A=!0));r&&(n-=v.left,p-=v.top);0>n||0>p||n>M||p>U||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||A?N&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(b.nvPointerEventsClass)||(k.elementMouseout({mouseX:n,mouseY:p}),a.renderGuideLine(null)):(r=f.invert(n),k.elementMousemove({mouseX:n,mouseY:p,pointXValue:r}),"dblclick"===
d3.event.type&&k.elementDblclick({mouseX:n,mouseY:p,pointXValue:r}))}var E=d3.select(this),M=p||960,U=r||400,A=E.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([F]);A.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine");t&&(t.on("mousemove",H,!0).on("mouseout",H,!0).on("dblclick",H),a.renderGuideLine=function(a){y&&(a=A.select(".nv-interactiveGuideLine").selectAll("line").data(null!=a?[n.utils.NaNtoZero(a)]:[],String),a.enter().append("line").attr("class",
"nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",U).attr("y2",0),a.exit().remove())})})}var b=n.models.tooltip(),p=null,r=null,v={left:0,top:0},f=d3.scale.linear();d3.scale.linear();var k=d3.dispatch("elementMousemove","elementMouseout","elementDblclick"),y=!0,t=null,N=-1!==navigator.userAgent.indexOf("MSIE");a.dispatch=k;a.tooltip=b;a.margin=function(b){if(!arguments.length)return v;v.top="undefined"!=typeof b.top?b.top:v.top;v.left="undefined"!=typeof b.left?
b.left:v.left;return a};a.width=function(b){if(!arguments.length)return p;p=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.showGuideLine=function(b){if(!arguments.length)return y;y=b;return a};a.svgContainer=function(b){if(!arguments.length)return t;t=b;return a};return a};n.interactiveBisect=function(a,b,p){if(!a instanceof Array)return null;"function"!==typeof p&&(p=function(a,b){return a.x});var n=
d3.bisector(p).left,n=d3.max([0,n(a,b)-1]),v=p(a[n],n);"undefined"===typeof v&&(v=n);if(v===b)return n;var f=d3.min([n+1,a.length-1]);a=p(a[f],f);"undefined"===typeof a&&(a=f);return Math.abs(a-b)>=Math.abs(v-b)?n:f};n.nearestValueIndex=function(a,b,p){var n=Infinity,v=null;a.forEach(function(a,k){var y=Math.abs(b-a);y<=n&&y<p&&(n=y,v=k)});return v};(function(){window.nv.tooltip={};window.nv.models.tooltip=function(){function a(){if(F){var b;b=p&&p.series&&0<p.series.length?!0:!1;if(b){if(t){b=d3.select(t);
"svg"!==b.node().tagName&&(b=b.select("svg"));var M=b.node()?b.attr("viewBox"):null;M&&(M=M.split(" "),b=parseInt(b.style("width"))/M[2],H.left*=b,H.top*=b)}b=H.left;var M=null!=k?k:H.top,E;E=U(p);var J;J=t?d3.select(t):d3.select("body");var O=J.select(".nvtooltip");null===O.node()&&(O=J.append("div").attr("class","nvtooltip "+(y?y:"xy-tooltip")).attr("id",K));O.node().innerHTML=E;O.style("top",0).style("left",0).style("opacity",0);O.selectAll("div, table, td, tr").classed("nv-pointer-events-none",
!0);O.classed("nv-pointer-events-none",!0);N=E=O.node();if(t){(O=t.getElementsByTagName("svg")[0])?O.getBoundingClientRect():t.getBoundingClientRect();var Q=0;J=0;if(O){O=O.getBoundingClientRect();Q=t.getBoundingClientRect();J=O.top;if(0>J){var P=t.getBoundingClientRect();J=Math.abs(J)>P.height?0:J}J=Math.abs(J-Q.top);Q=Math.abs(O.left-Q.left)}b+=t.offsetLeft+Q-2*t.scrollLeft;M+=t.offsetTop+J-2*t.scrollTop}f&&0<f&&(M=Math.floor(M/f)*f);n.tooltip.calcTooltipPosition([b,M],r,v,E);return a}}}var b=null,
p=null,r="w",v=50,f=25,k=null,y=null,t=null,N=null,H={left:null,top:null},F=!0,K="nvtooltip-"+Math.floor(1E5*Math.random()),E=function(a,b){return a},M=function(a){return a},U=function(a){if(null!=b)return b;if(null==a)return"";var f=d3.select(document.createElement("table"));f.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(M(a.value));var k=f.selectAll("tbody").data([a]).enter().append("tbody").selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",
function(a){return a.highlight});k.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(a){return a.color});k.append("td").classed("key",!0).html(function(a){return a.key});k.append("td").classed("value",!0).html(function(a,b){return E(a.value,b)});k.selectAll("td").each(function(a){a.highlight&&(a=d3.scale.linear().domain([0,1]).range(["#fff",a.color]),d3.select(this).style("border-bottom-color",a(.6)).style("border-top-color",a(.6)))});f=f.node().outerHTML;
void 0!==a.footer&&(f+="<div class='footer'>"+a.footer+"</div>");return f};a.nvPointerEventsClass="nv-pointer-events-none";a.content=function(f){if(!arguments.length)return b;b=f;return a};a.tooltipElem=function(){return N};a.contentGenerator=function(b){if(!arguments.length)return U;"function"===typeof b&&(U=b);return a};a.data=function(b){if(!arguments.length)return p;p=b;return a};a.gravity=function(b){if(!arguments.length)return r;r=b;return a};a.distance=function(b){if(!arguments.length)return v;
v=b;return a};a.snapDistance=function(b){if(!arguments.length)return f;f=b;return a};a.classes=function(b){if(!arguments.length)return y;y=b;return a};a.chartContainer=function(b){if(!arguments.length)return t;t=b;return a};a.position=function(b){if(!arguments.length)return H;H.left="undefined"!==typeof b.left?b.left:H.left;H.top="undefined"!==typeof b.top?b.top:H.top;return a};a.fixedTop=function(b){if(!arguments.length)return k;k=b;return a};a.enabled=function(b){if(!arguments.length)return F;F=
b;return a};a.valueFormatter=function(b){if(!arguments.length)return E;"function"===typeof b&&(E=b);return a};a.headerFormatter=function(b){if(!arguments.length)return M;"function"===typeof b&&(M=b);return a};a.id=function(){return K};return a};n.tooltip.show=function(a,b,p,r,v,f){var k=document.createElement("div");k.className="nvtooltip "+(f?f:"xy-tooltip");f=v;if(!v||v.tagName.match(/g|svg/i))f=document.getElementsByTagName("body")[0];k.style.left=0;k.style.top=0;k.style.opacity=0;k.innerHTML=
b;f.appendChild(k);v&&(a[0]-=v.scrollLeft,a[1]-=v.scrollTop);n.tooltip.calcTooltipPosition(a,p,r,k)};n.tooltip.findFirstNonSVGParent=function(a){for(;null!==a.tagName.match(/^g|svg$/i);)a=a.parentNode;return a};n.tooltip.findTotalOffsetTop=function(a,b){var p=b;do isNaN(a.offsetTop)||(p+=a.offsetTop);while(a=a.offsetParent);return p};n.tooltip.findTotalOffsetLeft=function(a,b){var p=b;do isNaN(a.offsetLeft)||(p+=a.offsetLeft);while(a=a.offsetParent);return p};n.tooltip.calcTooltipPosition=function(a,
b,p,r){var v=parseInt(r.offsetHeight),f=parseInt(r.offsetWidth),k=n.utils.windowSize().width,y=n.utils.windowSize().height,t=window.pageYOffset,N=window.pageXOffset,H,F,y=window.innerWidth>=document.body.scrollWidth?y:y-16,k=window.innerHeight>=document.body.scrollHeight?k:k-16;p=p||20;var K=function(a){return n.tooltip.findTotalOffsetTop(a,F)},E=function(a){return n.tooltip.findTotalOffsetLeft(a,H)};switch(b||"s"){case "e":H=a[0]-f-p;F=a[1]-v/2;b=E(r);K=K(r);b<N&&(H=a[0]+p>N?a[0]+p:N-b+H);K<t&&(F=
t-K+F);K+v>t+y&&(F=t+y-K+F-v);break;case "w":H=a[0]+p;F=a[1]-v/2;b=E(r);K=K(r);b+f>k&&(H=a[0]-f-p);K<t&&(F=t+5);K+v>t+y&&(F=t+y-K+F-v);break;case "n":H=a[0]-f/2-5;F=a[1]+p;b=E(r);K=K(r);b<N&&(H=N+5);b+f>k&&(H=H-f/2+5);K+v>t+y&&(F=t+y-K+F-v);break;case "s":H=a[0]-f/2;F=a[1]-v-p;b=E(r);K=K(r);b<N&&(H=N+5);b+f>k&&(H=H-f/2+5);t>K&&(F=t);break;case "none":H=a[0],F=a[1]-p,b=E(r),K=K(r)}r.style.left=H+"px";r.style.top=F+"px";r.style.opacity=1;r.style.position="absolute";return r};n.tooltip.cleanup=function(){for(var a=
document.getElementsByClassName("nvtooltip"),b=[];a.length;)b.push(a[0]),a[0].style.transitionDelay="0 !important",a[0].style.opacity=0,a[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;b.length;){var a=b.pop();a.parentNode.removeChild(a)}},500)}})();n.utils.windowSize=function(){var a={width:640,height:480};document.body&&document.body.offsetWidth&&(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight);"CSS1Compat"==document.compatMode&&document.documentElement&&
document.documentElement.offsetWidth&&(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight);window.innerWidth&&window.innerHeight&&(a.width=window.innerWidth,a.height=window.innerHeight);return a};n.utils.windowResize=function(a){if(void 0!==a){var b=window.onresize;window.onresize=function(p){"function"==typeof b&&b(p);a(p)}}};n.utils.getColor=function(a){return arguments.length?"[object Array]"===Object.prototype.toString.call(a)?function(b,p){return b.color||
a[p%a.length]}:a:n.utils.defaultColor()};n.utils.defaultColor=function(){var a=d3.scale.category20().range();return function(b,p){return b.color||a[p%a.length]}};n.utils.customTheme=function(a,b,p){b=b||function(a){return a.key};p=p||d3.scale.category20().range();var n=p.length;return function(v,f){var k=b(v);n||(n=p.length);return"undefined"!==typeof a[k]?"function"===typeof a[k]?a[k]():a[k]:p[--n]}};n.utils.pjax=function(a,b){function p(p){d3.html(p,function(p){var f=d3.select(b).node();f.parentNode.replaceChild(d3.select(p).select(b).node(),
f);n.utils.pjax(a,b)})}d3.selectAll(a).on("click",function(){history.pushState(this.href,this.textContent,this.href);p(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&p(d3.event.state)})};n.utils.calcApproxTextWidth=function(a){if("function"===typeof a.style&&"function"===typeof a.text){var b=parseInt(a.style("font-size").replace("px",""));return a.text().length*b*.5}return 0};n.utils.NaNtoZero=function(a){return"number"!==typeof a||isNaN(a)||null===
a||Infinity===a?0:a};n.utils.optionsFunc=function(a){a&&d3.map(a).forEach(function(a,p){if("function"===typeof this[a])this[a](p)}.bind(this));return this};n.models.axis=function(){function a(n){n.each(function(a){a=d3.select(this).selectAll("g.nv-wrap.nv-axis").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");var n=a.select("g");null!==E?b.ticks(E):"top"!=b.orient()&&"bottom"!=b.orient()||b.ticks(Math.abs(f.range()[1]-f.range()[0])/100);n.transition().call(b);U=U||
b.scale();var A=b.tickFormat();null==A&&(A=U.tickFormat());var v=n.selectAll("text.nv-axislabel").data([k||null]);v.exit().remove();switch(b.orient()){case "top":v.enter().append("text").attr("class","nv-axislabel");var Q=2==f.range().length?f.range()[1]:f.range()[f.range().length-1]+(f.range()[1]-f.range()[0]);v.attr("text-anchor","middle").attr("y",0).attr("x",Q/2);y&&(Q=a.selectAll("g.nv-axisMaxMin").data(f.domain()),Q.enter().append("g").attr("class","nv-axisMaxMin").append("text"),Q.exit().remove(),
Q.attr("transform",function(a,b){return"translate("+f(a)+",0)"}).select("text").attr("dy","-0.5em").attr("y",-b.tickPadding()).attr("text-anchor","middle").text(function(a,b){var f=A(a);return(""+f).match("NaN")?"":f}),Q.transition().attr("transform",function(a,b){return"translate("+f.range()[b]+",0)"}));break;case "bottom":var P=36,w=30,C=n.selectAll("g").select("text");N%360&&(C.each(function(a,b){var f=this.getBBox().width;f>w&&(w=f)}),Q=Math.abs(Math.sin(N*Math.PI/180)),P=(Q?Q*w:w)+30,C.attr("transform",
function(a,b,f){return"rotate("+N+" 0,0)"}).style("text-anchor",0<N%360?"start":"end"));v.enter().append("text").attr("class","nv-axislabel");Q=2==f.range().length?f.range()[1]:f.range()[f.range().length-1]+(f.range()[1]-f.range()[0]);v.attr("text-anchor","middle").attr("y",P).attr("x",Q/2);y&&(Q=a.selectAll("g.nv-axisMaxMin").data([f.domain()[0],f.domain()[f.domain().length-1]]),Q.enter().append("g").attr("class","nv-axisMaxMin").append("text"),Q.exit().remove(),Q.attr("transform",function(a,b){return"translate("+
(f(a)+(K?f.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",b.tickPadding()).attr("transform",function(a,b,f){return"rotate("+N+" 0,0)"}).style("text-anchor",N?0<N%360?"start":"end":"middle").text(function(a,b){var f=A(a);return(""+f).match("NaN")?"":f}),Q.transition().attr("transform",function(a,b){return"translate("+(f(a)+(K?f.rangeBand()/2:0))+",0)"}));F&&C.attr("transform",function(a,b){return"translate(0,"+(0==b%2?"0":"12")+")"});break;case "right":v.enter().append("text").attr("class",
"nv-axislabel");v.style("text-anchor",H?"middle":"begin").attr("transform",H?"rotate(90)":"").attr("y",H?-Math.max(p.right,r)+12:-10).attr("x",H?f.range()[0]/2:b.tickPadding());y&&(Q=a.selectAll("g.nv-axisMaxMin").data(f.domain()),Q.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),Q.exit().remove(),Q.attr("transform",function(a,b){return"translate(0,"+f(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",b.tickPadding()).style("text-anchor","start").text(function(a,
b){var f=A(a);return(""+f).match("NaN")?"":f}),Q.transition().attr("transform",function(a,b){return"translate(0,"+f.range()[b]+")"}).select("text").style("opacity",1));break;case "left":v.enter().append("text").attr("class","nv-axislabel"),v.style("text-anchor",H?"middle":"end").attr("transform",H?"rotate(-90)":"").attr("y",H?-Math.max(p.left,r)+M:-10).attr("x",H?-f.range()[0]/2:-b.tickPadding()),y&&(Q=a.selectAll("g.nv-axisMaxMin").data(f.domain()),Q.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",
0),Q.exit().remove(),Q.attr("transform",function(a,b){return"translate(0,"+U(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-b.tickPadding()).attr("text-anchor","end").text(function(a,b){var f=A(a);return(""+f).match("NaN")?"":f}),Q.transition().attr("transform",function(a,b){return"translate(0,"+f.range()[b]+")"}).select("text").style("opacity",1))}v.text(function(a){return a});!y||"left"!==b.orient()&&"right"!==b.orient()||(n.selectAll("g").each(function(a,b){d3.select(this).select("text").attr("opacity",
1);if(f(a)<f.range()[1]+10||f(a)>f.range()[0]-10)(1E-10<a||-1E-10>a)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0)}),f.domain()[0]==f.domain()[1]&&0==f.domain()[0]&&a.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return b?0:1}));if(y&&("top"===b.orient()||"bottom"===b.orient())){var D=[];a.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?D.push(f(a)-this.getBBox().width-4):D.push(f(a)+this.getBBox().width+4)}catch(k){b?D.push(f(a)-4):D.push(f(a)+
4)}});n.selectAll("g").each(function(a,b){if(f(a)<D[0]||f(a)>D[1])1E-10<a||-1E-10>a?d3.select(this).remove():d3.select(this).select("text").remove()})}t&&n.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1E5*a.__data__)/1E6)&&void 0!==a.__data__}).classed("zero",!0);U=f.copy()});return a}var b=d3.svg.axis(),p={top:0,right:0,bottom:0,left:0},r=75,v=60,f=d3.scale.linear(),k=null,y=!0,t=!0,N=0,H=!0,F=!1,K=!1,E=null,M=12;b.scale(f).orient("bottom").tickFormat(function(a){return a});
var U;a.axis=b;d3.rebind(a,b,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat");d3.rebind(a,f,"domain","range","rangeBand","rangeBands");a.options=n.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return p;p.top="undefined"!=typeof b.top?b.top:p.top;p.right="undefined"!=typeof b.right?b.right:p.right;p.bottom="undefined"!=typeof b.bottom?b.bottom:p.bottom;p.left="undefined"!=typeof b.left?b.left:p.left;return a};a.width=function(b){if(!arguments.length)return r;
r=b;return a};a.ticks=function(b){if(!arguments.length)return E;E=b;return a};a.height=function(b){if(!arguments.length)return v;v=b;return a};a.axisLabel=function(b){if(!arguments.length)return k;k=b;return a};a.showMaxMin=function(b){if(!arguments.length)return y;y=b;return a};a.highlightZero=function(b){if(!arguments.length)return t;t=b;return a};a.scale=function(k){if(!arguments.length)return f;f=k;b.scale(f);K="function"===typeof f.rangeBands;d3.rebind(a,f,"domain","range","rangeBand","rangeBands");
return a};a.rotateYLabel=function(b){if(!arguments.length)return H;H=b;return a};a.rotateLabels=function(b){if(!arguments.length)return N;N=b;return a};a.staggerLabels=function(b){if(!arguments.length)return F;F=b;return a};a.axisLabelDistance=function(b){if(!arguments.length)return M;M=b;return a};return a};n.models.historicalBar=function(){function a(O){O.each(function(a){var O=p-b.left-b.right,w=r-b.top-b.bottom,C=d3.select(this);f.domain(M||d3.extent(a[0].values.map(y).concat(N)));F?f.range(A||
[.5*O/a[0].values.length,O*(a[0].values.length-.5)/a[0].values.length]):f.range(A||[0,O]);k.domain(U||d3.extent(a[0].values.map(t).concat(H))).range(T||[w,0]);f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1]));k.domain()[0]===k.domain()[1]&&(k.domain()[0]?k.domain([k.domain()[0]+.01*k.domain()[0],k.domain()[1]-.01*k.domain()[1]]):k.domain([-1,1]));var D=C.selectAll("g.nv-wrap.nv-historicalBar-"+v).data([a[0].values]),
z=D.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+v),S=z.append("defs"),z=z.append("g"),V=D.select("g");z.append("g").attr("class","nv-bars");D.attr("transform","translate("+b.left+","+b.top+")");C.on("click",function(a,b){R.chartClick({data:a,index:b,pos:d3.event,id:v})});S.append("clipPath").attr("id","nv-chart-clip-path-"+v).append("rect");D.select("#nv-chart-clip-path-"+v+" rect").attr("width",O).attr("height",w);V.attr("clip-path",K?"url(#nv-chart-clip-path-"+v+")":"");w=
D.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,b){return y(a,b)});w.exit().remove();w.enter().append("rect").attr("x",0).attr("y",function(a,b){return n.utils.NaNtoZero(k(Math.max(0,t(a,b))))}).attr("height",function(a,b){return n.utils.NaNtoZero(Math.abs(k(t(a,b))-k(0)))}).attr("transform",function(b,k){return"translate("+(f(y(b,k))-O/a[0].values.length*.45)+",0)"}).on("mouseover",function(b,p){J&&(d3.select(this).classed("hover",!0),R.elementMouseover({point:b,series:a[0],
pos:[f(y(b,p)),k(t(b,p))],pointIndex:p,seriesIndex:0,e:d3.event}))}).on("mouseout",function(b,f){J&&(d3.select(this).classed("hover",!1),R.elementMouseout({point:b,series:a[0],pointIndex:f,seriesIndex:0,e:d3.event}))}).on("click",function(a,b){J&&(R.elementClick({value:t(a,b),data:a,index:b,pos:[f(y(a,b)),k(t(a,b))],e:d3.event,id:v}),d3.event.stopPropagation())}).on("dblclick",function(a,b){J&&(R.elementDblClick({value:t(a,b),data:a,index:b,pos:[f(y(a,b)),k(t(a,b))],e:d3.event,id:v}),d3.event.stopPropagation())});
w.attr("fill",function(a,b){return E(a,b)}).attr("class",function(a,b,f){return(0>t(a,b)?"nv-bar negative":"nv-bar positive")+" nv-bar-"+f+"-"+b}).transition().attr("transform",function(b,k){return"translate("+(f(y(b,k))-O/a[0].values.length*.45)+",0)"}).attr("width",O/a[0].values.length*.9);w.transition().attr("y",function(a,b){var f=0>t(a,b)?k(0):1>k(0)-k(t(a,b))?k(0)-1:k(t(a,b));return n.utils.NaNtoZero(f)}).attr("height",function(a,b){return n.utils.NaNtoZero(Math.max(Math.abs(k(t(a,b))-k(0)),
1))})});return a}var b={top:0,right:0,bottom:0,left:0},p=960,r=500,v=Math.floor(1E4*Math.random()),f=d3.scale.linear(),k=d3.scale.linear(),y=function(a){return a.x},t=function(a){return a.y},N=[],H=[0],F=!1,K=!0,E=n.utils.defaultColor(),M,U,A,T,R=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),J=!0;a.highlightPoint=function(a,b){d3.select(".nv-historicalBar-"+v).select(".nv-bars .nv-bar-0-"+a).classed("hover",b)};a.clearHighlights=function(){d3.select(".nv-historicalBar-"+
v).select(".nv-bars .nv-bar.hover").classed("hover",!1)};a.dispatch=R;a.options=n.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return y;y=b;return a};a.y=function(b){if(!arguments.length)return t;t=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return p;
p=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.yScale=function(b){if(!arguments.length)return k;k=b;return a};a.xDomain=function(b){if(!arguments.length)return M;M=b;return a};a.yDomain=function(b){if(!arguments.length)return U;U=b;return a};a.xRange=function(b){if(!arguments.length)return A;A=b;return a};a.yRange=function(b){if(!arguments.length)return T;T=b;return a};a.forceX=function(b){if(!arguments.length)return N;
N=b;return a};a.forceY=function(b){if(!arguments.length)return H;H=b;return a};a.padData=function(b){if(!arguments.length)return F;F=b;return a};a.clipEdge=function(b){if(!arguments.length)return K;K=b;return a};a.color=function(b){if(!arguments.length)return E;E=n.utils.getColor(b);return a};a.id=function(b){if(!arguments.length)return v;v=b;return a};a.interactive=function(b){if(!arguments.length)return J;J=!1;return a};return a};n.models.bullet=function(){function a(p){p.each(function(a,p){var n=
t-b.left-b.right,E=N-b.top-b.bottom,H=d3.select(this),J=v.call(this,a,p).slice().sort(d3.descending),O=f.call(this,a,p).slice().sort(d3.descending),Q=k.call(this,a,p).slice().sort(d3.descending),P=(a.rangeLabels?a.rangeLabels:[]).slice(),w=(a.markerLabels?a.markerLabels:[]).slice(),C=(a.measureLabels?a.measureLabels:[]).slice(),D=d3.scale.linear().domain(d3.extent(d3.merge([y,J]))).range(r?[n,0]:[0,n]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(D.range());this.__chart__=D;var n=
d3.min(J),z=d3.max(J),J=J[1],H=H.selectAll("g.nv-wrap.nv-bullet").data([a]),S=H.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),V=H.select("g");S.append("rect").attr("class","nv-range nv-rangeMax");S.append("rect").attr("class","nv-range nv-rangeAvg");S.append("rect").attr("class","nv-range nv-rangeMin");S.append("rect").attr("class","nv-measure");S.append("path").attr("class","nv-markerTriangle");H.attr("transform","translate("+b.left+","+b.top+")");var S=function(a){return Math.abs(D(a)-
D(0))},W=function(a){return 0>a?D(a):D(0)};V.select("rect.nv-rangeMax").attr("height",E).attr("width",S(0<z?z:n)).attr("x",W(0<z?z:n)).datum(0<z?z:n);V.select("rect.nv-rangeAvg").attr("height",E).attr("width",S(J)).attr("x",W(J)).datum(J);V.select("rect.nv-rangeMin").attr("height",E).attr("width",S(z)).attr("x",W(z)).attr("width",S(0<z?n:z)).attr("x",W(0<z?n:z)).datum(0<z?n:z);V.select("rect.nv-measure").style("fill",F).attr("height",E/3).attr("y",E/3).attr("width",0>Q?D(0)-D(Q[0]):D(Q[0])-D(0)).attr("x",
W(Q)).on("mouseover",function(){K.elementMouseover({value:Q[0],label:C[0]||"Current",pos:[D(Q[0]),E/2]})}).on("mouseout",function(){K.elementMouseout({value:Q[0],label:C[0]||"Current"})});n=E/6;if(O[0])V.selectAll("path.nv-markerTriangle").attr("transform",function(a){return"translate("+D(O[0])+","+E/2+")"}).attr("d","M0,"+n+"L"+n+","+-n+" "+-n+","+-n+"Z").on("mouseover",function(){K.elementMouseover({value:O[0],label:w[0]||"Previous",pos:[D(O[0]),E/2]})}).on("mouseout",function(){K.elementMouseout({value:O[0],
label:w[0]||"Previous"})});else V.selectAll("path.nv-markerTriangle").remove();H.selectAll(".nv-range").on("mouseover",function(a,b){K.elementMouseover({value:a,label:P[b]||(b?1==b?"Mean":"Minimum":"Maximum"),pos:[D(a),E/2]})}).on("mouseout",function(a,b){K.elementMouseout({value:a,label:P[b]||(b?1==b?"Mean":"Minimum":"Maximum")})})});return a}var b={top:0,right:0,bottom:0,left:0},p="left",r=!1,v=function(a){return a.ranges},f=function(a){return a.markers},k=function(a){return a.measures},y=[0],t=
380,N=30,H=null,F=n.utils.getColor(["#1f77b4"]),K=d3.dispatch("elementMouseover","elementMouseout");a.dispatch=K;a.options=n.utils.optionsFunc.bind(a);a.orient=function(b){if(!arguments.length)return p;p=b;r="right"==p||"bottom"==p;return a};a.ranges=function(b){if(!arguments.length)return v;v=b;return a};a.markers=function(b){if(!arguments.length)return f;f=b;return a};a.measures=function(b){if(!arguments.length)return k;k=b;return a};a.forceX=function(b){if(!arguments.length)return y;y=b;return a};
a.width=function(b){if(!arguments.length)return t;t=b;return a};a.height=function(b){if(!arguments.length)return N;N=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.tickFormat=function(b){if(!arguments.length)return H;H=b;return a};a.color=function(b){if(!arguments.length)return F;
F=n.utils.getColor(b);return a};return a};n.models.bulletChart=function(){function a(p){p.each(function(A,T){var R=d3.select(this),J=(t||parseInt(R.style("width"))||960)-v.left-v.right,O=N-v.top-v.bottom,Q=this;a.update=function(){a(p)};a.container=this;if(A&&f.call(this,A,T))R.selectAll(".nv-noData").remove();else return R=R.selectAll(".nv-noData").data([E]),R.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),R.attr("x",v.left+J/2).attr("y",18+
v.top+O/2).text(function(a){return a}),a;var P=f.call(this,A,T).slice().sort(d3.descending),w=k.call(this,A,T).slice().sort(d3.descending),C=y.call(this,A,T).slice().sort(d3.descending),D=R.selectAll("g.nv-wrap.nv-bulletChart").data([A]),z=D.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),R=D.select("g");z.append("g").attr("class","nv-bulletWrap");z.append("g").attr("class","nv-titles");D.attr("transform","translate("+v.left+","+v.top+")");var S=d3.scale.linear().domain([0,
Math.max(P[0],w[0],C[0])]).range(r?[J,0]:[0,J]),V=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(S.range());this.__chart__=S;P=z.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(N-v.top-v.bottom)/2+")");P.append("text").attr("class","nv-title").text(function(a){return a.title});P.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle});b.width(J).height(O);P=R.select(".nv-bulletWrap");d3.transition(P).call(b);
var W=H||S.tickFormat(J/100),J=R.selectAll("g.nv-tick").data(S.ticks(J/50),function(a){return this.textContent||W(a)}),R=J.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+V(a)+",0)"}).style("opacity",1E-6);R.append("line").attr("y1",O).attr("y2",7*O/6);R.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*O/6).text(W);R=d3.transition(J).attr("transform",function(a){return"translate("+S(a)+",0)"}).style("opacity",1);R.select("line").attr("y1",
O).attr("y2",7*O/6);R.select("text").attr("y",7*O/6);d3.transition(J.exit()).attr("transform",function(a){return"translate("+S(a)+",0)"}).style("opacity",1E-6).remove();M.on("tooltipShow",function(b){b.key=A.title;if(F){var f=Q.parentNode,k=b.pos[0]+(f.offsetLeft||0)+v.left,l=b.pos[1]+(f.offsetTop||0)+v.top,p=K(b.key,b.label,b.value,b,a);n.tooltip.show([k,l],p,0>b.value?"e":"w",null,f)}})});d3.timer.flush();return a}var b=n.models.bullet(),p="left",r=!1,v={top:5,right:40,bottom:20,left:120},f=function(a){return a.ranges},
k=function(a){return a.markers},y=function(a){return a.measures},t=null,N=55,H=null,F=!0,K=function(a,b,f,k,p){return"<h3>"+b+"</h3><p>"+f+"</p>"},E="No Data Available.",M=d3.dispatch("tooltipShow","tooltipHide");b.dispatch.on("elementMouseover.tooltip",function(a){M.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){M.tooltipHide(a)});M.on("tooltipHide",function(){F&&n.tooltip.cleanup()});a.dispatch=M;a.bullet=b;d3.rebind(a,b,"color");a.options=n.utils.optionsFunc.bind(a);a.orient=
function(b){if(!arguments.length)return p;p=b;r="right"==p||"bottom"==p;return a};a.ranges=function(b){if(!arguments.length)return f;f=b;return a};a.markers=function(b){if(!arguments.length)return k;k=b;return a};a.measures=function(b){if(!arguments.length)return y;y=b;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};a.height=function(b){if(!arguments.length)return N;N=b;return a};a.margin=function(b){if(!arguments.length)return v;v.top="undefined"!=typeof b.top?b.top:v.top;
v.right="undefined"!=typeof b.right?b.right:v.right;v.bottom="undefined"!=typeof b.bottom?b.bottom:v.bottom;v.left="undefined"!=typeof b.left?b.left:v.left;return a};a.tickFormat=function(b){if(!arguments.length)return H;H=b;return a};a.tooltips=function(b){if(!arguments.length)return F;F=b;return a};a.tooltipContent=function(b){if(!arguments.length)return K;K=b;return a};a.noData=function(b){if(!arguments.length)return E;E=b;return a};return a};n.models.cumulativeLineChart=function(){function a(l){l.each(function(l){function G(){na.data([X]);
var b=a.transitionDuration();a.transitionDuration(0);a.update();a.transitionDuration(b)}var ia=d3.select(this).classed("nv-chart-"+w,!0),ga=this,Y=(H||parseInt(ia.style("width"))||960)-t.left-t.right,ea=(F||parseInt(ia.style("height"))||400)-t.top-t.bottom;a.update=function(){ia.transition().duration(W).call(a)};a.container=this;C.disabled=l.map(function(a){return!!a.disabled});if(!D){var ha;D={};for(ha in C)D[ha]=C[ha]instanceof Array?C[ha].slice(0):C[ha]}ha=d3.behavior.drag().on("dragstart",function(b,
l){d3.select(a.container).style("cursor","ew-resize")}).on("drag",function(a,b){X.x=d3.event.x;X.i=Math.round(ba.invert(X.x));G()}).on("dragend",function(b,l){d3.select(a.container).style("cursor","auto");C.index=X.i;V.stateChange(C)});if(l&&l.length&&l.filter(function(a){return a.values.length}).length)ia.selectAll(".nv-noData").remove();else return ha=ia.selectAll(".nv-noData").data([z]),ha.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ha.attr("x",
t.left+Y/2).attr("y",t.top+ea/2).text(function(a){return a}),a;Q=p.xScale();P=p.yScale();if(J)p.yDomain(null);else{var ca=l.filter(function(a){return!a.disabled}).map(function(a,b){var l=d3.extent(a.values,p.y());-.95>l[0]&&(l[0]=-.95);return[(l[0]-l[1])/(1+l[1]),(l[1]-l[0])/(1+l[0])]}),ca=[d3.min(ca,function(a){return a[0]}),d3.max(ca,function(a){return a[1]})];p.yDomain(ca)}ba.domain([0,l[0].values.length-1]).range([0,Y]).clamp(!0);l=b(X.i,l);var Z=R?"none":"all",ma=ia.selectAll("g.nv-wrap.nv-cumulativeLine").data([l]),
fa=ma.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),ca=ma.select("g");fa.append("g").attr("class","nv-interactive");fa.append("g").attr("class","nv-x nv-axis").style("pointer-events","none");fa.append("g").attr("class","nv-y nv-axis");fa.append("g").attr("class","nv-background");fa.append("g").attr("class","nv-linesWrap").style("pointer-events",Z);fa.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");fa.append("g").attr("class","nv-legendWrap");
fa.append("g").attr("class","nv-controlsWrap");K&&(f.width(Y),ca.select(".nv-legendWrap").datum(l).call(f),t.top!=f.height()&&(t.top=f.height(),ea=(F||parseInt(ia.style("height"))||400)-t.top-t.bottom),ca.select(".nv-legendWrap").attr("transform","translate(0,"+-t.top+")"));T&&(Z=[{key:"Re-scale y-axis",disabled:!J}],k.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),ca.select(".nv-controlsWrap").datum(Z).attr("transform","translate(0,"+-t.top+")").call(k));
ma.attr("transform","translate("+t.left+","+t.top+")");U&&ca.select(".nv-y.nv-axis").attr("transform","translate("+Y+",0)");Z=l.filter(function(a){return a.tempDisabled});ma.select(".tempDisabled").remove();Z.length&&ma.append("text").attr("class","tempDisabled").attr("x",Y/2).attr("y","-.71em").style("text-anchor","end").text(Z.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period.");R&&(y.width(Y).height(ea).margin({left:t.left,top:t.top}).svgContainer(ia).xScale(Q),
ma.select(".nv-interactive").call(y));fa.select(".nv-background").append("rect");ca.select(".nv-background rect").attr("width",Y).attr("height",ea);p.y(function(a){return a.display.y}).width(Y).height(ea).color(l.map(function(a,b){return a.color||N(a,b)}).filter(function(a,b){return!l[b].disabled&&!l[b].tempDisabled}));ma=ca.select(".nv-linesWrap").datum(l.filter(function(a){return!a.disabled&&!a.tempDisabled}));ma.call(p);l.forEach(function(a,b){a.seriesIndex=b});fa=l.filter(function(a){return!a.disabled&&
!!S(a)});fa=ca.select(".nv-avgLinesWrap").selectAll("line").data(fa,function(a){return a.key});Z=function(a){a=P(S(a));return 0>a?0:a>ea?ea:a};fa.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a,b){return p.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",Y).attr("y1",Z).attr("y2",Z);fa.style("stroke-opacity",function(a){a=P(S(a));return 0>a||a>ea?0:1}).attr("x1",0).attr("x2",Y).attr("y1",Z).attr("y2",Z);fa.exit().remove();var na=ma.selectAll(".nv-indexLine").data([X]);
na.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(ha);na.attr("transform",function(a){return"translate("+ba(a.i)+",0)"}).attr("height",ea);E&&(r.scale(Q).ticks(Math.min(l[0].values.length,Y/70)).tickSize(-ea,0),ca.select(".nv-x.nv-axis").attr("transform","translate(0,"+P.range()[0]+")"),d3.transition(ca.select(".nv-x.nv-axis")).call(r));M&&(v.scale(P).ticks(ea/36).tickSize(-Y,0),d3.transition(ca.select(".nv-y.nv-axis")).call(v));
ca.select(".nv-background rect").on("click",function(){X.x=d3.mouse(this)[0];X.i=Math.round(ba.invert(X.x));C.index=X.i;V.stateChange(C);G()});p.dispatch.on("elementClick",function(a){X.i=a.pointIndex;X.x=ba(X.i);C.index=X.i;V.stateChange(C);G()});k.dispatch.on("legendClick",function(b,l){b.disabled=!b.disabled;J=!b.disabled;C.rescaleY=J;V.stateChange(C);a.update()});f.dispatch.on("stateChange",function(b){C.disabled=b.disabled;V.stateChange(C);a.update()});y.dispatch.on("elementMousemove",function(b){p.clearHighlights();
var f,k,z,w=[];l.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(l,u){k=n.interactiveBisect(l.values,b.pointXValue,a.x());p.highlightPoint(u,k,!0);var r=l.values[k];"undefined"!==typeof r&&("undefined"===typeof f&&(f=r),"undefined"===typeof z&&(z=a.xScale()(a.x()(r,k))),w.push({key:l.key,value:a.y()(r,k),color:N(l,l.seriesIndex)}))});if(2<w.length){var C=a.yScale().invert(b.mouseY),D=.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),C=n.nearestValueIndex(w.map(function(a){return a.value}),
C,D);null!==C&&(w[C].highlight=!0)}C=r.tickFormat()(a.x()(f,k),k);y.tooltip.position({left:z+t.left,top:b.mouseY+t.top}).chartContainer(ga.parentNode).enabled(A).valueFormatter(function(a,b){return v.tickFormat()(a)}).data({value:C,series:w})();y.renderGuideLine(z)});y.dispatch.on("elementMouseout",function(a){V.tooltipHide();p.clearHighlights()});V.on("tooltipShow",function(b){if(A){var l=ga.parentNode,f=b.pos[0]+(l.offsetLeft||0),k=b.pos[1]+(l.offsetTop||0),u=r.tickFormat()(p.x()(b.point,b.pointIndex)),
z=v.tickFormat()(p.y()(b.point,b.pointIndex));b=O(b.series.key,u,z,b,a);n.tooltip.show([f,k],b,null,null,l)}});V.on("changeState",function(b){"undefined"!==typeof b.disabled&&(l.forEach(function(a,l){a.disabled=b.disabled[l]}),C.disabled=b.disabled);"undefined"!==typeof b.index&&(X.i=b.index,X.x=ba(X.i),C.index=b.index,na.data([X]));"undefined"!==typeof b.rescaleY&&(J=b.rescaleY);a.update()})});return a}function b(a,b){return b.map(function(b,f){if(!b.values)return b;var k=p.y()(b.values[a],a);if(-.95>
k&&!G)return b.tempDisabled=!0,b;b.tempDisabled=!1;b.values=b.values.map(function(a,b){a.display={y:(p.y()(a,b)-k)/(1+k)};return a});return b})}var p=n.models.line(),r=n.models.axis(),v=n.models.axis(),f=n.models.legend(),k=n.models.legend(),y=n.interactiveGuideline(),t={top:30,right:30,bottom:50,left:60},N=n.utils.defaultColor(),H=null,F=null,K=!0,E=!0,M=!0,U=!1,A=!0,T=!0,R=!1,J=!0,O=function(a,b,f,k,p){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},Q,P,w=p.id(),C={index:0,rescaleY:J},D=null,z="No Data Available.",
S=function(a){return a.average},V=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),W=250,G=!1;r.orient("bottom").tickPadding(7);v.orient(U?"right":"left");k.updateState(!1);var ba=d3.scale.linear(),X={i:0,x:0};p.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+t.left,a.pos[1]+t.top];V.tooltipShow(a)});p.dispatch.on("elementMouseout.tooltip",function(a){V.tooltipHide(a)});V.on("tooltipHide",function(){A&&n.tooltip.cleanup()});a.dispatch=V;a.lines=p;a.legend=f;
a.xAxis=r;a.yAxis=v;a.interactiveLayer=y;d3.rebind(a,p,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id");a.options=n.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return t;t.top="undefined"!=typeof b.top?b.top:t.top;t.right="undefined"!=typeof b.right?b.right:t.right;t.bottom="undefined"!=typeof b.bottom?b.bottom:t.bottom;t.left="undefined"!=typeof b.left?b.left:
t.left;return a};a.width=function(b){if(!arguments.length)return H;H=b;return a};a.height=function(b){if(!arguments.length)return F;F=b;return a};a.color=function(b){if(!arguments.length)return N;N=n.utils.getColor(b);f.color(N);return a};a.rescaleY=function(b){if(!arguments.length)return J;J=b;return a};a.showControls=function(b){if(!arguments.length)return T;T=b;return a};a.useInteractiveGuideline=function(b){if(!arguments.length)return R;R=b;!0===b&&(a.interactive(!1),a.useVoronoi(!1));return a};
a.showLegend=function(b){if(!arguments.length)return K;K=b;return a};a.showXAxis=function(b){if(!arguments.length)return E;E=b;return a};a.showYAxis=function(b){if(!arguments.length)return M;M=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return U;U=b;v.orient(b?"right":"left");return a};a.tooltips=function(b){if(!arguments.length)return A;A=b;return a};a.tooltipContent=function(b){if(!arguments.length)return O;O=b;return a};a.state=function(b){if(!arguments.length)return C;C=b;return a};
a.defaultState=function(b){if(!arguments.length)return D;D=b;return a};a.noData=function(b){if(!arguments.length)return z;z=b;return a};a.average=function(b){if(!arguments.length)return S;S=b;return a};a.transitionDuration=function(b){if(!arguments.length)return W;W=b;return a};a.noErrorCheck=function(b){if(!arguments.length)return G;G=b;return a};return a};n.models.discreteBar=function(){function a(n){n.each(function(a){var n=p-b.left-b.right,w=r-b.top-b.bottom,C=d3.select(this);a.forEach(function(a,
b){a.values.forEach(function(a){a.series=b})});var D=E&&M?[]:a.map(function(a){return a.values.map(function(a,b){return{x:y(a,b),y:t(a,b),y0:a.y0}})});f.domain(E||d3.merge(D).map(function(a){return a.x})).rangeBands(U||[0,n],.1);k.domain(M||d3.extent(d3.merge(D).map(function(a){return a.y}).concat(N)));F?k.range(A||[w-(0>k.domain()[0]?12:0),0<k.domain()[1]?12:0]):k.range(A||[w,0]);J=J||k.copy().range([k(0),k(0)]);n=C.selectAll("g.nv-wrap.nv-discretebar").data([a]);w=n.enter().append("g").attr("class",
"nvd3 nv-wrap nv-discretebar").append("g");n.select("g");w.append("g").attr("class","nv-groups");n.attr("transform","translate("+b.left+","+b.top+")");n=n.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});n.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);n.exit().transition().style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();n.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});
n.transition().style("stroke-opacity",1).style("fill-opacity",.75);n=n.selectAll("g.nv-bar").data(function(a){return a.values});n.exit().remove();w=n.enter().append("g").attr("transform",function(a,b,p){return"translate("+(f(y(a,b))+.05*f.rangeBand())+", "+k(0)+")"}).on("mouseover",function(b,p){d3.select(this).classed("hover",!0);T.elementMouseover({value:t(b,p),point:b,series:a[b.series],pos:[f(y(b,p))+f.rangeBand()*(b.series+.5)/a.length,k(t(b,p))],pointIndex:p,seriesIndex:b.series,e:d3.event})}).on("mouseout",
function(b,f){d3.select(this).classed("hover",!1);T.elementMouseout({value:t(b,f),point:b,series:a[b.series],pointIndex:f,seriesIndex:b.series,e:d3.event})}).on("click",function(b,p){T.elementClick({value:t(b,p),point:b,series:a[b.series],pos:[f(y(b,p))+f.rangeBand()*(b.series+.5)/a.length,k(t(b,p))],pointIndex:p,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,p){T.elementDblClick({value:t(b,p),point:b,series:a[b.series],pos:[f(y(b,p))+f.rangeBand()*(b.series+
.5)/a.length,k(t(b,p))],pointIndex:p,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});w.append("rect").attr("height",0).attr("width",.9*f.rangeBand()/a.length);F?(w.append("text").attr("text-anchor","middle"),n.select("text").text(function(a,b){return K(t(a,b))}).transition().attr("x",.9*f.rangeBand()/2).attr("y",function(a,b){return 0>t(a,b)?k(t(a,b))-k(0)+12:-4})):n.selectAll("text").remove();n.attr("class",function(a,b){return 0>t(a,b)?"nv-bar negative":"nv-bar positive"}).style("fill",
function(a,b){return a.color||H(a,b)}).style("stroke",function(a,b){return a.color||H(a,b)}).select("rect").attr("class",R).transition().attr("width",.9*f.rangeBand()/a.length);n.transition().attr("transform",function(a,b){var p=f(y(a,b))+.05*f.rangeBand(),n=0>t(a,b)?k(0):1>k(0)-k(t(a,b))?k(0)-1:k(t(a,b));return"translate("+p+", "+n+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(k(t(a,b))-k(M&&M[0]||0))||1)});f.copy();J=k.copy()});return a}var b={top:0,right:0,bottom:0,
left:0},p=960,r=500,v=Math.floor(1E4*Math.random()),f=d3.scale.ordinal(),k=d3.scale.linear(),y=function(a){return a.x},t=function(a){return a.y},N=[0],H=n.utils.defaultColor(),F=!1,K=d3.format(",.2f"),E,M,U,A,T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),R="discreteBar",J;a.dispatch=T;a.options=n.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return y;y=b;return a};a.y=function(b){if(!arguments.length)return t;t=b;return a};a.margin=
function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return p;p=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.yScale=function(b){if(!arguments.length)return k;k=b;
return a};a.xDomain=function(b){if(!arguments.length)return E;E=b;return a};a.yDomain=function(b){if(!arguments.length)return M;M=b;return a};a.xRange=function(b){if(!arguments.length)return U;U=b;return a};a.yRange=function(b){if(!arguments.length)return A;A=b;return a};a.forceY=function(b){if(!arguments.length)return N;N=b;return a};a.color=function(b){if(!arguments.length)return H;H=n.utils.getColor(b);return a};a.id=function(b){if(!arguments.length)return v;v=b;return a};a.showValues=function(b){if(!arguments.length)return F;
F=b;return a};a.valueFormat=function(b){if(!arguments.length)return K;K=b;return a};a.rectClass=function(b){if(!arguments.length)return R;R=b;return a};return a};n.models.discreteBarChart=function(){function a(y){y.each(function(y){var J=d3.select(this),P=this,w=(f||parseInt(J.style("width"))||960)-v.left-v.right,C=(k||parseInt(J.style("height"))||400)-v.top-v.bottom;a.update=function(){T.beforeUpdate();J.transition().duration(R).call(a)};a.container=this;if(y&&y.length&&y.filter(function(a){return a.values.length}).length)J.selectAll(".nv-noData").remove();
else return y=J.selectAll(".nv-noData").data([A]),y.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),y.attr("x",v.left+w/2).attr("y",v.top+C/2).text(function(a){return a}),a;M=b.xScale();U=b.yScale().clamp(!0);var D=J.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([y]),z=D.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),S=z.append("defs"),D=D.select("g");z.append("g").attr("class","nv-x nv-axis");z.append("g").attr("class",
"nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");z.append("g").attr("class","nv-barsWrap");D.attr("transform","translate("+v.left+","+v.top+")");H&&D.select(".nv-y.nv-axis").attr("transform","translate("+w+",0)");b.width(w).height(C);D.select(".nv-barsWrap").datum(y.filter(function(a){return!a.disabled})).transition().call(b);S.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");D.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",M.rangeBand()*(F?2:1)).attr("height",
16).attr("x",-M.rangeBand()/(F?1:2));t&&(p.scale(M).ticks(w/100).tickSize(-C,0),D.select(".nv-x.nv-axis").attr("transform","translate(0,"+(U.range()[0]+(b.showValues()&&0>U.domain()[0]?16:0))+")"),D.select(".nv-x.nv-axis").transition().call(p),y=D.select(".nv-x.nv-axis").selectAll("g"),F&&y.selectAll("text").attr("transform",function(a,b,f){return"translate(0,"+(0==f%2?"5":"17")+")"}));N&&(r.scale(U).ticks(C/36).tickSize(-w,0),D.select(".nv-y.nv-axis").transition().call(r));D.select(".nv-zeroLine line").attr("x1",
0).attr("x2",w).attr("y1",U(0)).attr("y2",U(0));T.on("tooltipShow",function(f){if(K){var k=P.parentNode,w=f.pos[0]+(k.offsetLeft||0),z=f.pos[1]+(k.offsetTop||0),C=p.tickFormat()(b.x()(f.point,f.pointIndex)),l=r.tickFormat()(b.y()(f.point,f.pointIndex)),C=E(f.series.key,C,l,f,a);n.tooltip.show([w,z],C,0>f.value?"n":"s",null,k)}})});return a}var b=n.models.discreteBar(),p=n.models.axis(),r=n.models.axis(),v={top:15,right:10,bottom:50,left:60},f=null,k=null,y=n.utils.getColor(),t=!0,N=!0,H=!1,F=!1,K=
!0,E=function(a,b,f,k,p){return"<h3>"+b+"</h3><p>"+f+"</p>"},M,U,A="No Data Available.",T=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate"),R=250;p.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(a){return a});r.orient(H?"right":"left").tickFormat(d3.format(",.1f"));b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+v.left,a.pos[1]+v.top];T.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){T.tooltipHide(a)});T.on("tooltipHide",function(){K&&
n.tooltip.cleanup()});a.dispatch=T;a.discretebar=b;a.xAxis=p;a.yAxis=r;d3.rebind(a,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat");a.options=n.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return v;v.top="undefined"!=typeof b.top?b.top:v.top;v.right="undefined"!=typeof b.right?b.right:v.right;v.bottom="undefined"!=typeof b.bottom?b.bottom:v.bottom;v.left="undefined"!=typeof b.left?b.left:v.left;return a};a.width=function(b){if(!arguments.length)return f;
f=b;return a};a.height=function(b){if(!arguments.length)return k;k=b;return a};a.color=function(f){if(!arguments.length)return y;y=n.utils.getColor(f);b.color(y);return a};a.showXAxis=function(b){if(!arguments.length)return t;t=b;return a};a.showYAxis=function(b){if(!arguments.length)return N;N=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return H;H=b;r.orient(b?"right":"left");return a};a.staggerLabels=function(b){if(!arguments.length)return F;F=b;return a};a.tooltips=function(b){if(!arguments.length)return K;
K=b;return a};a.tooltipContent=function(b){if(!arguments.length)return E;E=b;return a};a.noData=function(b){if(!arguments.length)return A;A=b;return a};a.transitionDuration=function(b){if(!arguments.length)return R;R=b;return a};return a};n.models.distribution=function(){function a(p){p.each(function(a){var p="x"==v?"y":"x",n=d3.select(this);t=t||y;a=n.selectAll("g.nv-distribution").data([a]);a.enter().append("g").attr("class","nvd3 nv-distribution").append("g");n=a.select("g");a.attr("transform",
"translate("+b.left+","+b.top+")");a=n.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});a.enter().append("g");a.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return k(a,b)});n=a.selectAll("line.nv-dist"+v).data(function(a){return a.values});n.enter().append("line").attr(v+"1",function(a,b){return t(f(a,b))}).attr(v+"2",function(a,b){return t(f(a,b))});a.exit().selectAll("line.nv-dist"+v).transition().attr(v+"1",function(a,b){return y(f(a,
b))}).attr(v+"2",function(a,b){return y(f(a,b))}).style("stroke-opacity",0).remove();n.attr("class",function(a,b){return"nv-dist"+v+" nv-dist"+v+"-"+b}).attr(p+"1",0).attr(p+"2",r);n.transition().attr(v+"1",function(a,b){return y(f(a,b))}).attr(v+"2",function(a,b){return y(f(a,b))});t=y.copy()});return a}var b={top:0,right:0,bottom:0,left:0},p=400,r=8,v="x",f=function(a){return a[v]},k=n.utils.defaultColor(),y=d3.scale.linear(),t;a.options=n.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;
b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return p;p=b;return a};a.axis=function(b){if(!arguments.length)return v;v=b;return a};a.size=function(b){if(!arguments.length)return r;r=b;return a};a.getData=function(b){if(!arguments.length)return f;f=d3.functor(b);return a};a.scale=function(b){if(!arguments.length)return y;
y=b;return a};a.color=function(b){if(!arguments.length)return k;k=n.utils.getColor(b);return a};return a};n.models.historicalBarChart=function(){function a(P){P.each(function(w){var C=d3.select(this),D=this,z=(y||parseInt(C.style("width"))||960)-f.left-f.right,S=(t||parseInt(C.style("height"))||400)-f.top-f.bottom;a.update=function(){C.transition().duration(Q).call(a)};a.container=this;T.disabled=w.map(function(a){return!!a.disabled});if(!R){var V;R={};for(V in T)R[V]=T[V]instanceof Array?T[V].slice(0):
T[V]}if(w&&w.length&&w.filter(function(a){return a.values.length}).length)C.selectAll(".nv-noData").remove();else return V=C.selectAll(".nv-noData").data([J]),V.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),V.attr("x",f.left+z/2).attr("y",f.top+S/2).text(function(a){return a}),a;U=b.xScale();A=b.yScale();var W=C.selectAll("g.nv-wrap.nv-historicalBarChart").data([w]);V=W.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g");
var G=W.select("g");V.append("g").attr("class","nv-x nv-axis");V.append("g").attr("class","nv-y nv-axis");V.append("g").attr("class","nv-barsWrap");V.append("g").attr("class","nv-legendWrap");N&&(v.width(z),G.select(".nv-legendWrap").datum(w).call(v),f.top!=v.height()&&(f.top=v.height(),S=(t||parseInt(C.style("height"))||400)-f.top-f.bottom),W.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")"));W.attr("transform","translate("+f.left+","+f.top+")");K&&G.select(".nv-y.nv-axis").attr("transform",
"translate("+z+",0)");b.width(z).height(S).color(w.map(function(a,b){return a.color||k(a,b)}).filter(function(a,b){return!w[b].disabled}));G.select(".nv-barsWrap").datum(w.filter(function(a){return!a.disabled})).transition().call(b);H&&(p.scale(U).tickSize(-S,0),G.select(".nv-x.nv-axis").attr("transform","translate(0,"+A.range()[0]+")"),G.select(".nv-x.nv-axis").transition().call(p));F&&(r.scale(A).ticks(S/36).tickSize(-z,0),G.select(".nv-y.nv-axis").transition().call(r));v.dispatch.on("legendClick",
function(b,f){b.disabled=!b.disabled;w.filter(function(a){return!a.disabled}).length||w.map(function(a){a.disabled=!1;W.selectAll(".nv-series").classed("disabled",!1);return a});T.disabled=w.map(function(a){return!!a.disabled});O.stateChange(T);P.transition().call(a)});v.dispatch.on("legendDblclick",function(b){w.forEach(function(a){a.disabled=!0});b.disabled=!1;T.disabled=w.map(function(a){return!!a.disabled});O.stateChange(T);a.update()});O.on("tooltipShow",function(f){if(E){var k=D.parentNode;
if(k){var l=d3.select(k).select("svg"),u=l.node()?l.attr("viewBox"):null;u&&(u=u.split(" "),l=parseInt(l.style("width"))/u[2],f.pos[0]*=l,f.pos[1]*=l)}var l=f.pos[0]+(k.offsetLeft||0),u=f.pos[1]+(k.offsetTop||0),w=p.tickFormat()(b.x()(f.point,f.pointIndex)),z=r.tickFormat()(b.y()(f.point,f.pointIndex));f=M(f.series.key,w,z,f,a);n.tooltip.show([l,u],f,null,null,k)}});O.on("changeState",function(b){"undefined"!==typeof b.disabled&&(w.forEach(function(a,l){a.disabled=b.disabled[l]}),T.disabled=b.disabled);
a.update()})});return a}var b=n.models.historicalBar(),p=n.models.axis(),r=n.models.axis(),v=n.models.legend(),f={top:30,right:90,bottom:50,left:90},k=n.utils.defaultColor(),y=null,t=null,N=!1,H=!0,F=!0,K=!1,E=!0,M=function(a,b,f,k,p){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},U,A,T={},R=null,J="No Data Available.",O=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),Q=250;p.orient("bottom").tickPadding(7);r.orient(K?"right":"left");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=
[a.pos[0]+f.left,a.pos[1]+f.top];O.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){O.tooltipHide(a)});O.on("tooltipHide",function(){E&&n.tooltip.cleanup()});a.dispatch=O;a.bars=b;a.legend=v;a.xAxis=p;a.yAxis=r;d3.rebind(a,b,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive");a.options=n.utils.optionsFunc.bind(a);a.margin=
function(b){if(!arguments.length)return f;f.top="undefined"!=typeof b.top?b.top:f.top;f.right="undefined"!=typeof b.right?b.right:f.right;f.bottom="undefined"!=typeof b.bottom?b.bottom:f.bottom;f.left="undefined"!=typeof b.left?b.left:f.left;return a};a.width=function(b){if(!arguments.length)return y;y=b;return a};a.height=function(b){if(!arguments.length)return t;t=b;return a};a.color=function(b){if(!arguments.length)return k;k=n.utils.getColor(b);v.color(k);return a};a.showLegend=function(b){if(!arguments.length)return N;
N=b;return a};a.showXAxis=function(b){if(!arguments.length)return H;H=b;return a};a.showYAxis=function(b){if(!arguments.length)return F;F=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return K;K=b;r.orient(b?"right":"left");return a};a.tooltips=function(b){if(!arguments.length)return E;E=b;return a};a.tooltipContent=function(b){if(!arguments.length)return M;M=b;return a};a.state=function(b){if(!arguments.length)return T;T=b;return a};a.defaultState=function(b){if(!arguments.length)return R;
R=b;return a};a.noData=function(b){if(!arguments.length)return J;J=b;return a};a.transitionDuration=function(b){if(!arguments.length)return Q;Q=b;return a};return a};n.models.indentedTree=function(){function a(b){b.each(function(b){function f(b,k,p){d3.event.stopPropagation();if(d3.event.shiftKey&&!p)return d3.event.shiftKey=!1,b.values&&b.values.forEach(function(a){(a.values||a._values)&&f(a,0,!0)}),!0;if(!v(b))return!0;b.values?(b._values=b.values,b.values=null):(b.values=b._values,b._values=null);
a.update()}function p(a){return a._values&&a._values.length?F:a.values&&a.values.length?K:""}function n(a){return a._values&&a._values.length}function v(a){return(a=a.values||a._values)&&a.length}var A=1,w=d3.select(this),C=d3.layout.tree().children(function(a){return a.values}).size([r,20]);a.update=function(){w.transition().duration(600).call(a)};b[0]||(b[0]={key:t});var A=C.nodes(b[0]),D=d3.select(this).selectAll("div").data([[A]]);b=D.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree").append("table");
D=D.select("table").attr("width","100%").attr("class",H);if(k){var z=b.append("thead").append("tr");N.forEach(function(a){z.append("th").attr("width",a.width?a.width:"10%").style("text-align","numeric"==a.type?"right":"left").append("span").text(a.label)})}b=D.selectAll("tbody").data(function(a){return a});b.enter().append("tbody");A=d3.max(A,function(a){return a.depth});C.size([r,20*A]);var S=b.selectAll("tr").data(function(a){return a.filter(function(a){return y&&!a.children?y(a):!0})},function(a,
b){return a.id||a.id||++U});S.exit().remove();S.select("img.nv-treeicon").attr("src",p).classed("folded",n);var V=S.enter().append("tr");N.forEach(function(a,b){var k=V.append("td").style("padding-left",function(a){return(b?0:20*a.depth+12+(p(a)?0:16))+"px"},"important").style("text-align","numeric"==a.type?"right":"left");if(0==b)k.append("img").classed("nv-treeicon",!0).classed("nv-folded",n).attr("src",p).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(a){return p(a)?
"inline-block":"none"}).on("click",f);k.each(function(f){!b&&M(f)?d3.select(this).append("a").attr("href",M).attr("class",d3.functor(a.classes)).append("span"):d3.select(this).append("span");d3.select(this).select("span").attr("class",d3.functor(a.classes)).text(function(b){return a.format?a.format(b):b[a.key]||"-"})});a.showCount&&(k.append("span").attr("class","nv-childrenCount"),S.selectAll("span.nv-childrenCount").text(function(a){return a.values&&a.values.length||a._values&&a._values.length?
"("+(a.values&&a.values.filter(function(a){return y?y(a):!0}).length||a._values&&a._values.filter(function(a){return y?y(a):!0}).length||0)+")":""}))});S.order().on("click",function(a){E.elementClick({row:this,data:a,pos:[a.x,a.y]})}).on("dblclick",function(a){E.elementDblclick({row:this,data:a,pos:[a.x,a.y]})}).on("mouseover",function(a){E.elementMouseover({row:this,data:a,pos:[a.x,a.y]})}).on("mouseout",function(a){E.elementMouseout({row:this,data:a,pos:[a.x,a.y]})})});return a}var b={top:0,right:0,
bottom:0,left:0},p=960,r=500,v=n.utils.defaultColor(),f=Math.floor(1E4*Math.random()),k=!0,y=!1,t="No Data Available.",N=[{key:"key",label:"Name",type:"text"}],H=null,F="images/grey-plus.png",K="images/grey-minus.png",E=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),M=function(a){return a.url},U=0;a.options=n.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?
f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return p;p=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.color=function(b){if(!arguments.length)return v;v=n.utils.getColor(b);scatter.color(v);return a};a.id=function(b){if(!arguments.length)return f;f=b;return a};a.header=function(b){if(!arguments.length)return k;k=b;return a};a.noData=function(b){if(!arguments.length)return t;
t=b;return a};a.filterZero=function(b){if(!arguments.length)return y;y=b;return a};a.columns=function(b){if(!arguments.length)return N;N=b;return a};a.tableClass=function(b){if(!arguments.length)return H;H=b;return a};a.iconOpen=function(b){if(!arguments.length)return F;F=b;return a};a.iconClose=function(b){if(!arguments.length)return K;K=b;return a};a.getUrl=function(b){if(!arguments.length)return M;M=b;return a};return a};n.models.legend=function(){function a(F){F.each(function(a){var E=p-b.left-
b.right,M=d3.select(this).selectAll("g.nv-legend").data([a]);M.enter().append("g").attr("class","nvd3 nv-legend").append("g");var F=M.select("g");M.attr("transform","translate("+b.left+","+b.top+")");var M=F.selectAll(".nv-series").data(function(a){return a}),A=M.enter().append("g").attr("class","nv-series").on("mouseover",function(a,b){H.legendMouseover(a,b)}).on("mouseout",function(a,b){H.legendMouseout(a,b)}).on("click",function(b,f){H.legendClick(b,f);t&&(N?(a.forEach(function(a){a.disabled=!0}),
b.disabled=!1):(b.disabled=!b.disabled,a.every(function(a){return a.disabled})&&a.forEach(function(a){a.disabled=!1})),H.stateChange({disabled:a.map(function(a){return!!a.disabled})}))}).on("dblclick",function(b,f){H.legendDblclick(b,f);t&&(a.forEach(function(a){a.disabled=!0}),b.disabled=!1,H.stateChange({disabled:a.map(function(a){return!!a.disabled})}))});A.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);A.append("text").attr("text-anchor","start").attr("class",
"nv-legend-text").attr("dy",".32em").attr("dx","8");M.classed("disabled",function(a){return a.disabled});M.exit().remove();M.select("circle").style("fill",function(a,b){return a.color||f(a,b)}).style("stroke",function(a,b){return a.color||f(a,b)});M.select("text").text(v);if(k){var T=[];M.each(function(a,b){var f=d3.select(this).select("text"),k;try{if(k=f.getComputedTextLength(),0>=k)throw Error();}catch(p){k=n.utils.calcApproxTextWidth(f)}T.push(k+28)});for(var R=0,J=0,A=[];J<E&&R<T.length;)A[R]=
T[R],J+=T[R++];for(0===R&&(R=1);J>E&&1<R;){A=[];R--;for(J=0;J<T.length;J++)T[J]>(A[J%R]||0)&&(A[J%R]=T[J]);J=A.reduce(function(a,b,f,k){return a+b})}for(var O=[],Q=E=0;E<R;E++)O[E]=Q,Q+=A[E];M.attr("transform",function(a,b){return"translate("+O[b%R]+","+(5+20*Math.floor(b/R))+")"});y?F.attr("transform","translate("+(p-b.right-J)+","+b.top+")"):F.attr("transform","translate(0,"+b.top+")");r=b.top+b.bottom+20*Math.ceil(T.length/R)}else{var P=5,w=5,C=0,D;M.attr("transform",function(a,f){var k=d3.select(this).select("text").node().getComputedTextLength()+
28;D=w;p<b.left+b.right+D+k&&(w=D=5,P+=20);w+=k;w>C&&(C=w);return"translate("+D+","+P+")"});F.attr("transform","translate("+(p-b.right-C)+","+b.top+")");r=b.top+b.bottom+P+15}});return a}var b={top:5,right:0,bottom:5,left:0},p=400,r=20,v=function(a){return a.key},f=n.utils.defaultColor(),k=!0,y=!0,t=!0,N=!1,H=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");a.dispatch=H;a.options=n.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;
b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return p;p=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.key=function(b){if(!arguments.length)return v;v=b;return a};a.color=function(b){if(!arguments.length)return f;f=n.utils.getColor(b);return a};a.align=function(b){if(!arguments.length)return k;
k=b;return a};a.rightAlign=function(b){if(!arguments.length)return y;y=b;return a};a.updateState=function(b){if(!arguments.length)return t;t=b;return a};a.radioButtonMode=function(b){if(!arguments.length)return N;N=b;return a};return a};n.models.line=function(){function a(A){A.each(function(a){var A=r-p.left-p.right,J=v-p.top-p.bottom,O=d3.select(this);F=b.xScale();K=b.yScale();M=M||F;U=U||K;a=O.selectAll("g.nv-wrap.nv-line").data([a]);var Q=a.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),
O=Q.append("defs"),P=Q.append("g"),Q=a.select("g");P.append("g").attr("class","nv-groups");P.append("g").attr("class","nv-scatterWrap");a.attr("transform","translate("+p.left+","+p.top+")");b.width(A).height(J);P=a.select(".nv-scatterWrap");P.transition().call(b);O.append("clipPath").attr("id","nv-edge-clip-"+b.id()).append("rect");a.select("#nv-edge-clip-"+b.id()+" rect").attr("width",A).attr("height",0<J?J:0);Q.attr("clip-path",H?"url(#nv-edge-clip-"+b.id()+")":"");P.attr("clip-path",H?"url(#nv-edge-clip-"+
b.id()+")":"");A=a.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});A.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);A.exit().remove();A.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return f(a,b)}).style("stroke",function(a,b){return f(a,b)});A.transition().style("stroke-opacity",1).style("fill-opacity",.5);J=A.selectAll("path.nv-area").data(function(a){return N(a)?
[a]:[]});J.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(E).defined(t).x(function(a,b){return n.utils.NaNtoZero(M(k(a,b)))}).y0(function(a,b){return n.utils.NaNtoZero(U(y(a,b)))}).y1(function(a,b){return U(0>=K.domain()[0]?0<=K.domain()[1]?0:K.domain()[1]:K.domain()[0])}).apply(this,[a.values])});A.exit().selectAll("path.nv-area").remove();J.transition().attr("d",function(a){return d3.svg.area().interpolate(E).defined(t).x(function(a,b){return n.utils.NaNtoZero(F(k(a,
b)))}).y0(function(a,b){return n.utils.NaNtoZero(K(y(a,b)))}).y1(function(a,b){return K(0>=K.domain()[0]?0<=K.domain()[1]?0:K.domain()[1]:K.domain()[0])}).apply(this,[a.values])});A=A.selectAll("path.nv-line").data(function(a){return[a.values]});A.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(E).defined(t).x(function(a,b){return n.utils.NaNtoZero(M(k(a,b)))}).y(function(a,b){return n.utils.NaNtoZero(U(y(a,b)))}));A.transition().attr("d",d3.svg.line().interpolate(E).defined(t).x(function(a,
b){return n.utils.NaNtoZero(F(k(a,b)))}).y(function(a,b){return n.utils.NaNtoZero(K(y(a,b)))}));M=F.copy();U=K.copy()});return a}var b=n.models.scatter(),p={top:0,right:0,bottom:0,left:0},r=960,v=500,f=n.utils.defaultColor(),k=function(a){return a.x},y=function(a){return a.y},t=function(a,b){return!isNaN(y(a,b))&&null!==y(a,b)},N=function(a){return a.area},H=!1,F,K,E="linear";b.size(16).sizeDomain([16,256]);var M,U;a.dispatch=b.dispatch;a.scatter=b;d3.rebind(a,b,"id","interactive","size","xScale",
"yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights");a.options=n.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return p;p.top="undefined"!=typeof b.top?b.top:p.top;p.right="undefined"!=typeof b.right?b.right:p.right;p.bottom="undefined"!=typeof b.bottom?b.bottom:p.bottom;p.left="undefined"!=typeof b.left?b.left:p.left;return a};a.width=function(b){if(!arguments.length)return r;
r=b;return a};a.height=function(b){if(!arguments.length)return v;v=b;return a};a.x=function(f){if(!arguments.length)return k;k=f;b.x(f);return a};a.y=function(f){if(!arguments.length)return y;y=f;b.y(f);return a};a.clipEdge=function(b){if(!arguments.length)return H;H=b;return a};a.color=function(k){if(!arguments.length)return f;f=n.utils.getColor(k);b.color(f);return a};a.interpolate=function(b){if(!arguments.length)return E;E=b;return a};a.defined=function(b){if(!arguments.length)return t;t=b;return a};
a.isArea=function(b){if(!arguments.length)return N;N=d3.functor(b);return a};return a};n.models.lineChart=function(){function a(C){C.each(function(C){var z=d3.select(this),S=this,V=(t||parseInt(z.style("width"))||960)-k.left-k.right,W=(N||parseInt(z.style("height"))||400)-k.top-k.bottom;a.update=function(){z.transition().duration(w).call(a)};a.container=this;J.disabled=C.map(function(a){return!!a.disabled});if(!O){var G;O={};for(G in J)O[G]=J[G]instanceof Array?J[G].slice(0):J[G]}if(C&&C.length&&
C.filter(function(a){return a.values.length}).length)z.selectAll(".nv-noData").remove();else return G=z.selectAll(".nv-noData").data([Q]),G.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),G.attr("x",k.left+V/2).attr("y",k.top+W/2).text(function(a){return a}),a;T=b.xScale();R=b.yScale();G=z.selectAll("g.nv-wrap.nv-lineChart").data([C]);var ba=G.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),X=G.select("g");ba.append("rect").style("opacity",
0);ba.append("g").attr("class","nv-x nv-axis");ba.append("g").attr("class","nv-y nv-axis");ba.append("g").attr("class","nv-linesWrap");ba.append("g").attr("class","nv-legendWrap");ba.append("g").attr("class","nv-interactive");X.select("rect").attr("width",V).attr("height",0<W?W:0);H&&(v.width(V),X.select(".nv-legendWrap").datum(C).call(v),k.top!=v.height()&&(k.top=v.height(),W=(N||parseInt(z.style("height"))||400)-k.top-k.bottom),G.select(".nv-legendWrap").attr("transform","translate(0,"+-k.top+")"));
G.attr("transform","translate("+k.left+","+k.top+")");E&&X.select(".nv-y.nv-axis").attr("transform","translate("+V+",0)");M&&(f.width(V).height(W).margin({left:k.left,top:k.top}).svgContainer(z).xScale(T),G.select(".nv-interactive").call(f));b.width(V).height(W).color(C.map(function(a,b){return a.color||y(a,b)}).filter(function(a,b){return!C[b].disabled}));X.select(".nv-linesWrap").datum(C.filter(function(a){return!a.disabled})).transition().call(b);F&&(p.scale(T).ticks(V/100).tickSize(-W,0),X.select(".nv-x.nv-axis").attr("transform",
"translate(0,"+R.range()[0]+")"),X.select(".nv-x.nv-axis").transition().call(p));K&&(r.scale(R).ticks(W/36).tickSize(-V,0),X.select(".nv-y.nv-axis").transition().call(r));v.dispatch.on("stateChange",function(b){J=b;P.stateChange(J);a.update()});f.dispatch.on("elementMousemove",function(l){b.clearHighlights();var u,w,z,t=[];C.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(f,k){w=n.interactiveBisect(f.values,l.pointXValue,a.x());b.highlightPoint(k,w,!0);var p=f.values[w];
"undefined"!==typeof p&&("undefined"===typeof u&&(u=p),"undefined"===typeof z&&(z=a.xScale()(a.x()(p,w))),t.push({key:f.key,value:a.y()(p,w),color:y(f,f.seriesIndex)}))});if(2<t.length){var v=a.yScale().invert(l.mouseY),G=.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),v=n.nearestValueIndex(t.map(function(a){return a.value}),v,G);null!==v&&(t[v].highlight=!0)}v=p.tickFormat()(a.x()(u,w));f.tooltip.position({left:z+k.left,top:l.mouseY+k.top}).chartContainer(S.parentNode).enabled(U).valueFormatter(function(a,
b){return r.tickFormat()(a)}).data({value:v,series:t})();f.renderGuideLine(z)});f.dispatch.on("elementMouseout",function(a){P.tooltipHide();b.clearHighlights()});P.on("tooltipShow",function(l){if(U){var f=S.parentNode,k=l.pos[0]+(f.offsetLeft||0),w=l.pos[1]+(f.offsetTop||0),z=p.tickFormat()(b.x()(l.point,l.pointIndex)),C=r.tickFormat()(b.y()(l.point,l.pointIndex));l=A(l.series.key,z,C,l,a);n.tooltip.show([k,w],l,null,null,f)}});P.on("changeState",function(b){"undefined"!==typeof b.disabled&&C.length===
b.disabled.length&&(C.forEach(function(a,f){a.disabled=b.disabled[f]}),J.disabled=b.disabled);a.update()})});return a}var b=n.models.line(),p=n.models.axis(),r=n.models.axis(),v=n.models.legend(),f=n.interactiveGuideline(),k={top:30,right:20,bottom:50,left:60},y=n.utils.defaultColor(),t=null,N=null,H=!0,F=!0,K=!0,E=!1,M=!1,U=!0,A=function(a,b,f,k,p){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},T,R,J={},O=null,Q="No Data Available.",P=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),
w=250;p.orient("bottom").tickPadding(7);r.orient(E?"right":"left");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+k.left,a.pos[1]+k.top];P.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){P.tooltipHide(a)});P.on("tooltipHide",function(){U&&n.tooltip.cleanup()});a.dispatch=P;a.lines=b;a.legend=v;a.xAxis=p;a.yAxis=r;a.interactiveLayer=f;d3.rebind(a,b,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY",
"interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate");a.options=n.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return k;k.top="undefined"!=typeof b.top?b.top:k.top;k.right="undefined"!=typeof b.right?b.right:k.right;k.bottom="undefined"!=typeof b.bottom?b.bottom:k.bottom;k.left="undefined"!=typeof b.left?b.left:k.left;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};a.height=function(b){if(!arguments.length)return N;N=b;return a};a.color=
function(b){if(!arguments.length)return y;y=n.utils.getColor(b);v.color(y);return a};a.showLegend=function(b){if(!arguments.length)return H;H=b;return a};a.showXAxis=function(b){if(!arguments.length)return F;F=b;return a};a.showYAxis=function(b){if(!arguments.length)return K;K=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return E;E=b;r.orient(b?"right":"left");return a};a.useInteractiveGuideline=function(b){if(!arguments.length)return M;M=b;!0===b&&(a.interactive(!1),a.useVoronoi(!1));
return a};a.tooltips=function(b){if(!arguments.length)return U;U=b;return a};a.tooltipContent=function(b){if(!arguments.length)return A;A=b;return a};a.state=function(b){if(!arguments.length)return J;J=b;return a};a.defaultState=function(b){if(!arguments.length)return O;O=b;return a};a.noData=function(b){if(!arguments.length)return Q;Q=b;return a};a.transitionDuration=function(b){if(!arguments.length)return w;w=b;return a};return a};n.models.linePlusBarChart=function(){function a(w){w.each(function(w){var D=
d3.select(this),z=this,S=(t||parseInt(D.style("width"))||960)-y.left-y.right,V=(N||parseInt(D.style("height"))||400)-y.top-y.bottom;a.update=function(){D.transition().call(a)};J.disabled=w.map(function(a){return!!a.disabled});if(!O){var F;O={};for(F in J)O[F]=J[F]instanceof Array?J[F].slice(0):J[F]}if(w&&w.length&&w.filter(function(a){return a.values.length}).length)D.selectAll(".nv-noData").remove();else return F=D.selectAll(".nv-noData").data([Q]),F.enter().append("text").attr("class","nvd3 nv-noData").attr("dy",
"-.7em").style("text-anchor","middle"),F.attr("x",y.left+S/2).attr("y",y.top+V/2).text(function(a){return a}),a;F=w.filter(function(a){return!a.disabled&&a.bar});var G=w.filter(function(a){return!a.bar});A=G.filter(function(a){return!a.disabled}).length&&G.filter(function(a){return!a.disabled})[0].values.length?b.xScale():p.xScale();T=p.yScale();R=b.yScale();var H=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([w]),X=H.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),
l=H.select("g");X.append("g").attr("class","nv-x nv-axis");X.append("g").attr("class","nv-y1 nv-axis");X.append("g").attr("class","nv-y2 nv-axis");X.append("g").attr("class","nv-barsWrap");X.append("g").attr("class","nv-linesWrap");X.append("g").attr("class","nv-legendWrap");E&&(k.width(S/2),l.select(".nv-legendWrap").datum(w.map(function(a){a.originalKey=void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(a.bar?" (left axis)":" (right axis)");return a})).call(k),y.top!=k.height()&&(y.top=
k.height(),V=(N||parseInt(D.style("height"))||400)-y.top-y.bottom),l.select(".nv-legendWrap").attr("transform","translate("+S/2+","+-y.top+")"));H.attr("transform","translate("+y.left+","+y.top+")");b.width(S).height(V).color(w.map(function(a,b){return a.color||K(a,b)}).filter(function(a,b){return!w[b].disabled&&!w[b].bar}));p.width(S).height(V).color(w.map(function(a,b){return a.color||K(a,b)}).filter(function(a,b){return!w[b].disabled&&w[b].bar}));H=l.select(".nv-barsWrap").datum(F.length?F:[{values:[]}]);
X=l.select(".nv-linesWrap").datum(G[0]&&!G[0].disabled?G:[{values:[]}]);d3.transition(H).call(p);d3.transition(X).call(b);r.scale(A).ticks(S/100).tickSize(-V,0);l.select(".nv-x.nv-axis").attr("transform","translate(0,"+T.range()[0]+")");d3.transition(l.select(".nv-x.nv-axis")).call(r);v.scale(T).ticks(V/36).tickSize(-S,0);d3.transition(l.select(".nv-y1.nv-axis")).style("opacity",F.length?1:0).call(v);f.scale(R).ticks(V/36).tickSize(F.length?0:-S,0);l.select(".nv-y2.nv-axis").style("opacity",G.length?
1:0).attr("transform","translate("+S+",0)");d3.transition(l.select(".nv-y2.nv-axis")).call(f);k.dispatch.on("stateChange",function(b){J=b;P.stateChange(J);a.update()});P.on("tooltipShow",function(l){if(M){var k=z.parentNode,p=l.pos[0]+(k.offsetLeft||0),w=l.pos[1]+(k.offsetTop||0),t=r.tickFormat()(b.x()(l.point,l.pointIndex)),D=(l.series.bar?v:f).tickFormat()(b.y()(l.point,l.pointIndex)),t=U(l.series.key,t,D,l,a);n.tooltip.show([p,w],t,0>l.value?"n":"s",null,k)}});P.on("changeState",function(b){"undefined"!==
typeof b.disabled&&(w.forEach(function(a,l){a.disabled=b.disabled[l]}),J.disabled=b.disabled);a.update()})});return a}var b=n.models.line(),p=n.models.historicalBar(),r=n.models.axis(),v=n.models.axis(),f=n.models.axis(),k=n.models.legend(),y={top:30,right:60,bottom:50,left:60},t=null,N=null,H=function(a){return a.x},F=function(a){return a.y},K=n.utils.defaultColor(),E=!0,M=!0,U=function(a,b,f,k,p){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},A,T,R,J={},O=null,Q="No Data Available.",P=d3.dispatch("tooltipShow",
"tooltipHide","stateChange","changeState");p.padData(!0);b.clipEdge(!1).padData(!0);r.orient("bottom").tickPadding(7).highlightZero(!1);v.orient("left");f.orient("right");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+y.left,a.pos[1]+y.top];P.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){P.tooltipHide(a)});p.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+y.left,a.pos[1]+y.top];P.tooltipShow(a)});p.dispatch.on("elementMouseout.tooltip",
function(a){P.tooltipHide(a)});P.on("tooltipHide",function(){M&&n.tooltip.cleanup()});a.dispatch=P;a.legend=k;a.lines=b;a.bars=p;a.xAxis=r;a.y1Axis=v;a.y2Axis=f;d3.rebind(a,b,"defined","size","clipVoronoi","interpolate");a.options=n.utils.optionsFunc.bind(a);a.x=function(f){if(!arguments.length)return H;H=f;b.x(f);p.x(f);return a};a.y=function(f){if(!arguments.length)return F;F=f;b.y(f);p.y(f);return a};a.margin=function(b){if(!arguments.length)return y;y.top="undefined"!=typeof b.top?b.top:y.top;
y.right="undefined"!=typeof b.right?b.right:y.right;y.bottom="undefined"!=typeof b.bottom?b.bottom:y.bottom;y.left="undefined"!=typeof b.left?b.left:y.left;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};a.height=function(b){if(!arguments.length)return N;N=b;return a};a.color=function(b){if(!arguments.length)return K;K=n.utils.getColor(b);k.color(K);return a};a.showLegend=function(b){if(!arguments.length)return E;E=b;return a};a.tooltips=function(b){if(!arguments.length)return M;
M=b;return a};a.tooltipContent=function(b){if(!arguments.length)return U;U=b;return a};a.state=function(b){if(!arguments.length)return J;J=b;return a};a.defaultState=function(b){if(!arguments.length)return O;O=b;return a};a.noData=function(b){if(!arguments.length)return Q;Q=b;return a};return a};n.models.lineWithFocusChart=function(){function a(z){z.each(function(z){function V(){t.empty()||t.extent(O);ea.data([t.empty()?T.domain():O]).each(function(a,b){var l=T(a[0])-U.range()[0],f=U.range()[1]-T(a[1]);
d3.select(this).select(".left").attr("width",0>l?0:l);d3.select(this).select(".right").attr("x",T(a[1])).attr("width",0>f?0:f)})}function W(){O=t.empty()?null:t.extent();var a=t.empty()?T.domain():t.extent();1>=Math.abs(a[0]-a[1])||(C.brush({extent:a,brush:t}),V(),ga.select(".nv-focus .nv-linesWrap").datum(z.filter(function(a){return!a.disabled}).map(function(l,f){return{key:l.key,values:l.values.filter(function(l,f){return b.x()(l,f)>=a[0]&&b.x()(l,f)<=a[1]})}})).transition().duration(D).call(b),
ga.select(".nv-focus .nv-x.nv-axis").transition().duration(D).call(r),ga.select(".nv-focus .nv-y.nv-axis").transition().duration(D).call(v))}var G=d3.select(this),ba=this,X=(K||parseInt(G.style("width"))||960)-N.left-N.right,l=(E||parseInt(G.style("height"))||400)-N.top-N.bottom-M,u=M-H.top-H.bottom;a.update=function(){G.transition().duration(D).call(a)};a.container=this;if(z&&z.length&&z.filter(function(a){return a.values.length}).length)G.selectAll(".nv-noData").remove();else{var da=G.selectAll(".nv-noData").data([w]);
da.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");da.attr("x",N.left+X/2).attr("y",N.top+l/2).text(function(a){return a});return a}U=b.xScale();A=b.yScale();T=p.xScale();R=p.yScale();var da=G.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([z]),ia=da.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),ga=da.select("g");ia.append("g").attr("class","nv-legendWrap");var Y=ia.append("g").attr("class","nv-focus");
Y.append("g").attr("class","nv-x nv-axis");Y.append("g").attr("class","nv-y nv-axis");Y.append("g").attr("class","nv-linesWrap");ia=ia.append("g").attr("class","nv-context");ia.append("g").attr("class","nv-x nv-axis");ia.append("g").attr("class","nv-y nv-axis");ia.append("g").attr("class","nv-linesWrap");ia.append("g").attr("class","nv-brushBackground");ia.append("g").attr("class","nv-x nv-brush");J&&(y.width(X),ga.select(".nv-legendWrap").datum(z).call(y),N.top!=y.height()&&(N.top=y.height(),l=(E||
parseInt(G.style("height"))||400)-N.top-N.bottom-M),ga.select(".nv-legendWrap").attr("transform","translate(0,"+-N.top+")"));da.attr("transform","translate("+N.left+","+N.top+")");b.width(X).height(l).color(z.map(function(a,b){return a.color||F(a,b)}).filter(function(a,b){return!z[b].disabled}));p.defined(b.defined()).width(X).height(u).color(z.map(function(a,b){return a.color||F(a,b)}).filter(function(a,b){return!z[b].disabled}));ga.select(".nv-context").attr("transform","translate(0,"+(l+N.bottom+
H.top)+")");da=ga.select(".nv-context .nv-linesWrap").datum(z.filter(function(a){return!a.disabled}));d3.transition(da).call(p);r.scale(U).ticks(X/100).tickSize(-l,0);v.scale(A).ticks(l/36).tickSize(-X,0);ga.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+l+")");t.x(T).on("brush",function(){var b=a.transitionDuration();a.transitionDuration(0);W();a.transitionDuration(b)});O&&t.extent(O);var ea=ga.select(".nv-brushBackground").selectAll("g").data([O||t.extent()]),l=ea.enter().append("g");
l.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",u);l.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",u);l=ga.select(".nv-x.nv-brush").call(t);l.selectAll("rect").attr("height",u);l.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+("e"==a))?1:-1,l=u/3;return"M"+.5*b+","+l+"A6,6 0 0 "+a+" "+6.5*b+","+(l+6)+"V"+(2*l-6)+"A6,6 0 0 "+a+" "+.5*b+","+2*l+"ZM"+2.5*b+","+(l+8)+"V"+(2*l-8)+"M"+4.5*b+","+(l+8)+"V"+(2*l-8)});W();f.scale(T).ticks(X/
100).tickSize(-u,0);ga.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+R.range()[0]+")");d3.transition(ga.select(".nv-context .nv-x.nv-axis")).call(f);k.scale(R).ticks(u/36).tickSize(-X,0);d3.transition(ga.select(".nv-context .nv-y.nv-axis")).call(k);ga.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+R.range()[0]+")");y.dispatch.on("stateChange",function(b){a.update()});C.on("tooltipShow",function(l){if(Q){var f=ba.parentNode,k=l.pos[0]+(f.offsetLeft||0),p=
l.pos[1]+(f.offsetTop||0),u=r.tickFormat()(b.x()(l.point,l.pointIndex)),z=v.tickFormat()(b.y()(l.point,l.pointIndex));l=P(l.series.key,u,z,l,a);n.tooltip.show([k,p],l,null,null,f)}})});return a}var b=n.models.line(),p=n.models.line(),r=n.models.axis(),v=n.models.axis(),f=n.models.axis(),k=n.models.axis(),y=n.models.legend(),t=d3.svg.brush(),N={top:30,right:30,bottom:30,left:60},H={top:0,right:30,bottom:20,left:60},F=n.utils.defaultColor(),K=null,E=null,M=100,U,A,T,R,J=!0,O=null,Q=!0,P=function(a,
b,f,k,p){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},w="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","brush"),D=250;b.clipEdge(!0);p.interactive(!1);r.orient("bottom").tickPadding(5);v.orient("left");f.orient("bottom").tickPadding(5);k.orient("left");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+N.left,a.pos[1]+N.top];C.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){C.tooltipHide(a)});C.on("tooltipHide",function(){Q&&n.tooltip.cleanup()});
a.dispatch=C;a.legend=y;a.lines=b;a.lines2=p;a.xAxis=r;a.yAxis=v;a.x2Axis=f;a.y2Axis=k;d3.rebind(a,b,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id");a.options=n.utils.optionsFunc.bind(a);a.x=function(f){if(!arguments.length)return b.x;b.x(f);p.x(f);return a};a.y=function(f){if(!arguments.length)return b.y;b.y(f);p.y(f);return a};a.margin=function(b){if(!arguments.length)return N;N.top="undefined"!=typeof b.top?b.top:N.top;
N.right="undefined"!=typeof b.right?b.right:N.right;N.bottom="undefined"!=typeof b.bottom?b.bottom:N.bottom;N.left="undefined"!=typeof b.left?b.left:N.left;return a};a.margin2=function(b){if(!arguments.length)return H;H=b;return a};a.width=function(b){if(!arguments.length)return K;K=b;return a};a.height=function(b){if(!arguments.length)return E;E=b;return a};a.height2=function(b){if(!arguments.length)return M;M=b;return a};a.color=function(b){if(!arguments.length)return F;F=n.utils.getColor(b);y.color(F);
return a};a.showLegend=function(b){if(!arguments.length)return J;J=b;return a};a.tooltips=function(b){if(!arguments.length)return Q;Q=b;return a};a.tooltipContent=function(b){if(!arguments.length)return P;P=b;return a};a.interpolate=function(f){if(!arguments.length)return b.interpolate();b.interpolate(f);p.interpolate(f);return a};a.noData=function(b){if(!arguments.length)return w;w=b;return a};a.xTickFormat=function(b){if(!arguments.length)return r.tickFormat();r.tickFormat(b);f.tickFormat(b);return a};
a.yTickFormat=function(b){if(!arguments.length)return v.tickFormat();v.tickFormat(b);k.tickFormat(b);return a};a.brushExtent=function(b){if(!arguments.length)return O;O=b;return a};a.transitionDuration=function(b){if(!arguments.length)return D;D=b;return a};return a};n.models.linePlusBarWithFocusChart=function(){function a(l){l.each(function(l){function da(){K.empty()||K.extent(P);tb.data([K.empty()?z.domain():P]).each(function(a,b){var l=z(a[0])-z.range()[0],f=z.range()[1]-z(a[1]);d3.select(this).select(".left").attr("width",
0>l?0:l);d3.select(this).select(".right").attr("x",z(a[1])).attr("width",0>f?0:f)})}function ia(){P=K.empty()?null:K.extent();Q=K.empty()?z.domain():K.extent();X.brush({extent:Q,brush:K});da();r.width(ea).height(ha).color(l.map(function(a,b){return a.color||J(a,b)}).filter(function(a,b){return!l[b].disabled&&l[b].bar}));b.width(ea).height(ha).color(l.map(function(a,b){return a.color||J(a,b)}).filter(function(a,b){return!l[b].disabled&&!l[b].bar}));var a=pa.select(".nv-focus .nv-barsWrap").datum(ma.length?
ma.map(function(a,b){return{key:a.key,values:a.values.filter(function(a,b){return r.x()(a,b)>=Q[0]&&r.x()(a,b)<=Q[1]})}}):[{values:[]}]),k=pa.select(".nv-focus .nv-linesWrap").datum(fa[0].disabled?[{values:[]}]:fa.map(function(a,l){return{key:a.key,values:a.values.filter(function(a,l){return b.x()(a,l)>=Q[0]&&b.x()(a,l)<=Q[1]})}}));D=ma.length?r.xScale():b.xScale();f.scale(D).ticks(ea/100).tickSize(-ha,0);f.domain([Math.ceil(Q[0]),Math.floor(Q[1])]);pa.select(".nv-x.nv-axis").transition().duration(0).call(f);
a.transition().duration(0).call(r);k.transition().duration(0).call(b);pa.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+S.range()[0]+")");y.scale(S).ticks(ha/36).tickSize(-ea,0);pa.select(".nv-focus .nv-y1.nv-axis").style("opacity",ma.length?1:0);t.scale(V).ticks(ha/36).tickSize(ma.length?0:-ea,0);pa.select(".nv-focus .nv-y2.nv-axis").style("opacity",fa.length?1:0).attr("transform","translate("+D.range()[1]+",0)");pa.select(".nv-focus .nv-y1.nv-axis").transition().duration(0).call(y);
pa.select(".nv-focus .nv-y2.nv-axis").transition().duration(0).call(t)}var ga=d3.select(this),Y=this,ea=(U||parseInt(ga.style("width"))||960)-E.left-E.right,ha=(A||parseInt(ga.style("height"))||400)-E.top-E.bottom-100,ca=100-M.top-M.bottom;a.update=function(){ga.transition().duration(0).call(a)};a.container=this;if(l&&l.length&&l.filter(function(a){return a.values.length}).length)ga.selectAll(".nv-noData").remove();else{var Z=ga.selectAll(".nv-noData").data([ba]);Z.enter().append("text").attr("class",
"nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");Z.attr("x",E.left+ea/2).attr("y",E.top+ha/2).text(function(a){return a});return a}var ma=l.filter(function(a){return!a.disabled&&a.bar}),fa=l.filter(function(a){return!a.bar});D=r.xScale();z=k.scale();S=r.yScale();V=b.yScale();W=v.yScale();G=p.yScale();var Z=l.filter(function(a){return!a.disabled&&a.bar}).map(function(a){return a.values.map(function(a,b){return{x:T(a,b),y:R(a,b)}})}),na=l.filter(function(a){return!a.disabled&&!a.bar}).map(function(a){return a.values.map(function(a,
b){return{x:T(a,b),y:R(a,b)}})});D.range([0,ea]);z.domain(d3.extent(d3.merge(Z.concat(na)),function(a){return a.x})).range([0,ea]);var Z=ga.selectAll("g.nv-wrap.nv-linePlusBar").data([l]),na=Z.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),pa=Z.select("g");na.append("g").attr("class","nv-legendWrap");var ab=na.append("g").attr("class","nv-focus");ab.append("g").attr("class","nv-x nv-axis");ab.append("g").attr("class","nv-y1 nv-axis");ab.append("g").attr("class","nv-y2 nv-axis");
ab.append("g").attr("class","nv-barsWrap");ab.append("g").attr("class","nv-linesWrap");na=na.append("g").attr("class","nv-context");na.append("g").attr("class","nv-x nv-axis");na.append("g").attr("class","nv-y1 nv-axis");na.append("g").attr("class","nv-y2 nv-axis");na.append("g").attr("class","nv-barsWrap");na.append("g").attr("class","nv-linesWrap");na.append("g").attr("class","nv-brushBackground");na.append("g").attr("class","nv-x nv-brush");O&&(F.width(ea/2),pa.select(".nv-legendWrap").datum(l.map(function(a){a.originalKey=
void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(a.bar?" (left axis)":" (right axis)");return a})).call(F),E.top!=F.height()&&(E.top=F.height(),ha=(A||parseInt(ga.style("height"))||400)-E.top-E.bottom-100),pa.select(".nv-legendWrap").attr("transform","translate("+ea/2+","+-E.top+")"));Z.attr("transform","translate("+E.left+","+E.top+")");v.width(ea).height(ca).color(l.map(function(a,b){return a.color||J(a,b)}).filter(function(a,b){return!l[b].disabled&&l[b].bar}));p.width(ea).height(ca).color(l.map(function(a,
b){return a.color||J(a,b)}).filter(function(a,b){return!l[b].disabled&&!l[b].bar}));Z=pa.select(".nv-context .nv-barsWrap").datum(ma.length?ma:[{values:[]}]);na=pa.select(".nv-context .nv-linesWrap").datum(fa[0].disabled?[{values:[]}]:fa);pa.select(".nv-context").attr("transform","translate(0,"+(ha+E.bottom+M.top)+")");Z.transition().call(v);na.transition().call(p);K.x(z).on("brush",ia);P&&K.extent(P);var tb=pa.select(".nv-brushBackground").selectAll("g").data([P||K.extent()]),Z=tb.enter().append("g");
Z.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",ca);Z.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",ca);Z=pa.select(".nv-x.nv-brush").call(K);Z.selectAll("rect").attr("height",ca);Z.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+("e"==a))?1:-1,l=ca/3;return"M"+.5*b+","+l+"A6,6 0 0 "+a+" "+6.5*b+","+(l+6)+"V"+(2*l-6)+"A6,6 0 0 "+a+" "+.5*b+","+2*l+"ZM"+2.5*b+","+(l+8)+"V"+(2*l-8)+"M"+4.5*b+","+(l+8)+"V"+(2*l-8)});k.ticks(ea/
100).tickSize(-ca,0);pa.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+W.range()[0]+")");pa.select(".nv-context .nv-x.nv-axis").transition().call(k);N.scale(W).ticks(ca/36).tickSize(-ea,0);pa.select(".nv-context .nv-y1.nv-axis").style("opacity",ma.length?1:0).attr("transform","translate(0,"+z.range()[0]+")");pa.select(".nv-context .nv-y1.nv-axis").transition().call(N);H.scale(G).ticks(ca/36).tickSize(ma.length?0:-ea,0);pa.select(".nv-context .nv-y2.nv-axis").style("opacity",fa.length?
1:0).attr("transform","translate("+z.range()[1]+",0)");pa.select(".nv-context .nv-y2.nv-axis").transition().call(H);F.dispatch.on("stateChange",function(b){a.update()});X.on("tooltipShow",function(l){if(w){var k=Y.parentNode;Q&&(l.pointIndex+=Math.ceil(Q[0]));var p=l.pos[0]+(k.offsetLeft||0),u=l.pos[1]+(k.offsetTop||0),r=f.tickFormat()(b.x()(l.point,l.pointIndex)),z=(l.series.bar?y:t).tickFormat()(b.y()(l.point,l.pointIndex)),r=C(l.series.key,r,z,l,a);n.tooltip.show([p,u],r,0>l.value?"n":"s",null,
k)}});ia()});return a}var b=n.models.line(),p=n.models.line(),r=n.models.historicalBar(),v=n.models.historicalBar(),f=n.models.axis(),k=n.models.axis(),y=n.models.axis(),t=n.models.axis(),N=n.models.axis(),H=n.models.axis(),F=n.models.legend(),K=d3.svg.brush(),E={top:30,right:30,bottom:30,left:60},M={top:0,right:30,bottom:20,left:60},U=null,A=null,T=function(a){return a.x},R=function(a){return a.y},J=n.utils.defaultColor(),O=!0,Q,P=null,w=!0,C=function(a,b,f,k,p){return"<h3>"+a+"</h3><p>"+f+" at "+
b+"</p>"},D,z,S,V,W,G,ba="No Data Available.",X=d3.dispatch("tooltipShow","tooltipHide","brush");b.clipEdge(!0);p.interactive(!1);f.orient("bottom").tickPadding(5);y.orient("left");t.orient("right");k.orient("bottom").tickPadding(5);N.orient("left");H.orient("right");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+E.left,a.pos[1]+E.top];X.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){X.tooltipHide(a)});r.dispatch.on("elementMouseover.tooltip",function(a){a.pos=
[a.pos[0]+E.left,a.pos[1]+E.top];X.tooltipShow(a)});r.dispatch.on("elementMouseout.tooltip",function(a){X.tooltipHide(a)});X.on("tooltipHide",function(){w&&n.tooltip.cleanup()});a.dispatch=X;a.legend=F;a.lines=b;a.lines2=p;a.bars=r;a.bars2=v;a.xAxis=f;a.x2Axis=k;a.y1Axis=y;a.y2Axis=t;a.y3Axis=N;a.y4Axis=H;d3.rebind(a,b,"defined","size","clipVoronoi","interpolate");a.options=n.utils.optionsFunc.bind(a);a.x=function(l){if(!arguments.length)return T;T=l;b.x(l);r.x(l);return a};a.y=function(l){if(!arguments.length)return R;
R=l;b.y(l);r.y(l);return a};a.margin=function(b){if(!arguments.length)return E;E.top="undefined"!=typeof b.top?b.top:E.top;E.right="undefined"!=typeof b.right?b.right:E.right;E.bottom="undefined"!=typeof b.bottom?b.bottom:E.bottom;E.left="undefined"!=typeof b.left?b.left:E.left;return a};a.width=function(b){if(!arguments.length)return U;U=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.color=function(b){if(!arguments.length)return J;J=n.utils.getColor(b);F.color(J);
return a};a.showLegend=function(b){if(!arguments.length)return O;O=b;return a};a.tooltips=function(b){if(!arguments.length)return w;w=b;return a};a.tooltipContent=function(b){if(!arguments.length)return C;C=b;return a};a.noData=function(b){if(!arguments.length)return ba;ba=b;return a};a.brushExtent=function(b){if(!arguments.length)return P;P=b;return a};return a};n.models.multiBar=function(){function a(n){n.each(function(a){var n=p-b.left-b.right,D=r-b.top-b.bottom,W=d3.select(this);M&&a.length&&
(M=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:.01}})}]);F&&(a=d3.layout.stack().offset(K).values(function(a){return a.values}).y(t)(!a.length&&M?M:a));a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});F&&a[0].values.map(function(b,f){var k=0,p=0;a.map(function(a){a=a.values[f];a.size=Math.abs(a.y);0>a.y?(a.y1=p,p-=a.size):(a.y1=a.size+k,k+=a.size)})});var G=R&&J?[]:a.map(function(a){return a.values.map(function(a,b){return{x:y(a,b),y:t(a,b),y0:a.y0,
y1:a.y1}})});v.domain(R||d3.merge(G).map(function(a){return a.x})).rangeBands(O||[0,n],P);f.domain(J||d3.extent(d3.merge(G).map(function(a){return F?0<a.y?a.y1:a.y1+a.y:a.y}).concat(N))).range(Q||[D,0]);v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]-.01*v.domain()[0],v.domain()[1]+.01*v.domain()[1]]):v.domain([-1,1]));f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));C=C||f;var W=W.selectAll("g.nv-wrap.nv-multibar").data([a]),
ba=W.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),G=ba.append("defs"),ba=ba.append("g"),X=W.select("g");ba.append("g").attr("class","nv-groups");W.attr("transform","translate("+b.left+","+b.top+")");G.append("clipPath").attr("id","nv-edge-clip-"+k).append("rect");W.select("#nv-edge-clip-"+k+" rect").attr("width",n).attr("height",D);X.attr("clip-path",H?"url(#nv-edge-clip-"+k+")":"");n=W.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});
n.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);n.exit().transition().selectAll("rect.nv-bar").delay(function(b,f){return f*T/a[0].values.length}).attr("y",function(a){return F?C(a.y0):C(0)}).attr("height",0).remove();n.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return E(a,b)}).style("stroke",function(a,b){return E(a,b)});n.transition().style("stroke-opacity",1).style("fill-opacity",
.75);n=n.selectAll("rect.nv-bar").data(function(b){return M&&!a.length?M.values:b.values});n.exit().remove();n.enter().append("rect").attr("class",function(a,b){return 0>t(a,b)?"nv-bar negative":"nv-bar positive"}).attr("x",function(b,f,k){return F?0:k*v.rangeBand()/a.length}).attr("y",function(a){return C(F?a.y0:0)}).attr("height",0).attr("width",v.rangeBand()/(F?1:a.length)).attr("transform",function(a,b){return"translate("+v(y(a,b))+",0)"});n.style("fill",function(a,b,f){return E(a,f,b)}).style("stroke",
function(a,b,f){return E(a,f,b)}).on("mouseover",function(b,k){d3.select(this).classed("hover",!0);w.elementMouseover({value:t(b,k),point:b,series:a[b.series],pos:[v(y(b,k))+v.rangeBand()*(F?a.length/2:b.series+.5)/a.length,f(t(b,k)+(F?b.y0:0))],pointIndex:k,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,f){d3.select(this).classed("hover",!1);w.elementMouseout({value:t(b,f),point:b,series:a[b.series],pointIndex:f,seriesIndex:b.series,e:d3.event})}).on("click",function(b,k){w.elementClick({value:t(b,
k),point:b,series:a[b.series],pos:[v(y(b,k))+v.rangeBand()*(F?a.length/2:b.series+.5)/a.length,f(t(b,k)+(F?b.y0:0))],pointIndex:k,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,k){w.elementDblClick({value:t(b,k),point:b,series:a[b.series],pos:[v(y(b,k))+v.rangeBand()*(F?a.length/2:b.series+.5)/a.length,f(t(b,k)+(F?b.y0:0))],pointIndex:k,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});n.attr("class",function(a,b){return 0>t(a,b)?"nv-bar negative":
"nv-bar positive"}).transition().attr("transform",function(a,b){return"translate("+v(y(a,b))+",0)"});U&&(A||(A=a.map(function(){return!0})),n.style("fill",function(a,b,f){return d3.rgb(U(a,b)).darker(A.map(function(a,b){return b}).filter(function(a,b){return!A[b]})[f]).toString()}).style("stroke",function(a,b,f){return d3.rgb(U(a,b)).darker(A.map(function(a,b){return b}).filter(function(a,b){return!A[b]})[f]).toString()}));F?n.transition().delay(function(b,f){return f*T/a[0].values.length}).attr("y",
function(a,b){return f(F?a.y1:0)}).attr("height",function(a,b){return Math.max(Math.abs(f(a.y+(F?a.y0:0))-f(F?a.y0:0)),1)}).attr("x",function(b,f){return F?0:b.series*v.rangeBand()/a.length}).attr("width",v.rangeBand()/(F?1:a.length)):n.transition().delay(function(b,f){return f*T/a[0].values.length}).attr("x",function(b,f){return b.series*v.rangeBand()/a.length}).attr("width",v.rangeBand()/a.length).attr("y",function(a,b){return 0>t(a,b)?f(0):1>f(0)-f(t(a,b))?f(0)-1:f(t(a,b))||0}).attr("height",function(a,
b){return Math.max(Math.abs(f(t(a,b))-f(0)),1)||0});v.copy();C=f.copy()});return a}var b={top:0,right:0,bottom:0,left:0},p=960,r=500,v=d3.scale.ordinal(),f=d3.scale.linear(),k=Math.floor(1E4*Math.random()),y=function(a){return a.x},t=function(a){return a.y},N=[0],H=!0,F=!1,K="zero",E=n.utils.defaultColor(),M=!1,U=null,A,T=1200,R,J,O,Q,P=.1,w=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),C;a.dispatch=w;a.options=n.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return y;
y=b;return a};a.y=function(b){if(!arguments.length)return t;t=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return p;p=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.xScale=function(b){if(!arguments.length)return v;
v=b;return a};a.yScale=function(b){if(!arguments.length)return f;f=b;return a};a.xDomain=function(b){if(!arguments.length)return R;R=b;return a};a.yDomain=function(b){if(!arguments.length)return J;J=b;return a};a.xRange=function(b){if(!arguments.length)return O;O=b;return a};a.yRange=function(b){if(!arguments.length)return Q;Q=b;return a};a.forceY=function(b){if(!arguments.length)return N;N=b;return a};a.stacked=function(b){if(!arguments.length)return F;F=b;return a};a.stackOffset=function(b){if(!arguments.length)return K;
K=b;return a};a.clipEdge=function(b){if(!arguments.length)return H;H=b;return a};a.color=function(b){if(!arguments.length)return E;E=n.utils.getColor(b);return a};a.barColor=function(b){if(!arguments.length)return U;U=n.utils.getColor(b);return a};a.disabled=function(b){if(!arguments.length)return A;A=b;return a};a.id=function(b){if(!arguments.length)return k;k=b;return a};a.hideable=function(b){if(!arguments.length)return M;M=b;return a};a.delay=function(b){if(!arguments.length)return T;T=b;return a};
a.groupSpacing=function(b){if(!arguments.length)return P;P=b;return a};return a};n.models.multiBarChart=function(){function a(S){S.each(function(S){var W=d3.select(this),G=this,ba=(y||parseInt(W.style("width"))||960)-k.left-k.right,X=(t||parseInt(W.style("height"))||400)-k.top-k.bottom;a.update=function(){W.transition().duration(z).call(a)};a.container=this;P.disabled=S.map(function(a){return!!a.disabled});if(!w){var l;w={};for(l in P)w[l]=P[l]instanceof Array?P[l].slice(0):P[l]}if(S&&S.length&&S.filter(function(a){return a.values.length}).length)W.selectAll(".nv-noData").remove();
else return l=W.selectAll(".nv-noData").data([C]),l.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),l.attr("x",k.left+ba/2).attr("y",k.top+X/2).text(function(a){return a}),a;O=b.xScale();Q=b.yScale();var u=W.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([S]),da=u.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");l=u.select("g");da.append("g").attr("class","nv-x nv-axis");da.append("g").attr("class","nv-y nv-axis");
da.append("g").attr("class","nv-barsWrap");da.append("g").attr("class","nv-legendWrap");da.append("g").attr("class","nv-controlsWrap");F&&(v.width(ba-(H?180:0)),b.barColor()&&S.forEach(function(a,b){a.color=d3.rgb("#ccc").darker(1.5*b).toString()}),l.select(".nv-legendWrap").datum(S).call(v),k.top!=v.height()&&(k.top=v.height(),X=(t||parseInt(W.style("height"))||400)-k.top-k.bottom),l.select(".nv-legendWrap").attr("transform","translate("+(H?180:0)+","+-k.top+")"));if(H){var ia=[{key:"Grouped",disabled:b.stacked()},
{key:"Stacked",disabled:!b.stacked()}];f.width(H?180:0).color(["#444","#444","#444"]);l.select(".nv-controlsWrap").datum(ia).attr("transform","translate(0,"+-k.top+")").call(f)}u.attr("transform","translate("+k.left+","+k.top+")");M&&l.select(".nv-y.nv-axis").attr("transform","translate("+ba+",0)");b.disabled(S.map(function(a){return a.disabled})).width(ba).height(X).color(S.map(function(a,b){return a.color||N(a,b)}).filter(function(a,b){return!S[b].disabled}));l.select(".nv-barsWrap").datum(S.filter(function(a){return!a.disabled})).transition().call(b);
if(K){p.scale(O).ticks(ba/100).tickSize(-X,0);l.select(".nv-x.nv-axis").attr("transform","translate(0,"+Q.range()[0]+")");l.select(".nv-x.nv-axis").transition().call(p);u=l.select(".nv-x.nv-axis > g").selectAll("g");u.selectAll("line, text").style("opacity",1);if(A){u.selectAll("text").attr("transform",function(a,b,f){return"translate(0,"+(0==f%2?5:17)+")"});var ga=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;l.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,
b){return"translate(0,"+(0===b||0!==ga%2?17:5)+")"})}U&&u.filter(function(a,b){return 0!==b%Math.ceil(S[0].values.length/(ba/100))}).selectAll("text, line").style("opacity",0);T&&u.selectAll(".tick text").attr("transform","rotate("+T+" 0,0)").style("text-anchor",0<T?"start":"end");l.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}E&&(r.scale(Q).ticks(X/36).tickSize(-ba,0),l.select(".nv-y.nv-axis").transition().call(r));v.dispatch.on("stateChange",function(b){P=b;D.stateChange(P);
a.update()});f.dispatch.on("legendClick",function(f,l){if(f.disabled){ia=ia.map(function(a){a.disabled=!0;return a});f.disabled=!1;switch(f.key){case "Grouped":b.stacked(!1);break;case "Stacked":b.stacked(!0)}P.stacked=b.stacked();D.stateChange(P);a.update()}});D.on("tooltipShow",function(f){if(R){var l=G.parentNode,k=f.pos[0]+(l.offsetLeft||0),u=f.pos[1]+(l.offsetTop||0),w=p.tickFormat()(b.x()(f.point,f.pointIndex)),z=r.tickFormat()(b.y()(f.point,f.pointIndex)),w=J(f.series.key,w,z,f,a);n.tooltip.show([k,
u],w,0>f.value?"n":"s",null,l)}});D.on("changeState",function(f){"undefined"!==typeof f.disabled&&(S.forEach(function(a,b){a.disabled=f.disabled[b]}),P.disabled=f.disabled);"undefined"!==typeof f.stacked&&(b.stacked(f.stacked),P.stacked=f.stacked);a.update()})});return a}var b=n.models.multiBar(),p=n.models.axis(),r=n.models.axis(),v=n.models.legend(),f=n.models.legend(),k={top:30,right:20,bottom:50,left:60},y=null,t=null,N=n.utils.defaultColor(),H=!0,F=!0,K=!0,E=!0,M=!1,U=!0,A=!1,T=0,R=!0,J=function(a,
b,f,k,p){return"<h3>"+a+"</h3><p>"+f+" on "+b+"</p>"},O,Q,P={stacked:!1},w=null,C="No Data Available.",D=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),z=250;b.stacked(!1);p.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(a){return a});r.orient(M?"right":"left").tickFormat(d3.format(",.1f"));f.updateState(!1);b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+k.left,a.pos[1]+k.top];D.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",
function(a){D.tooltipHide(a)});D.on("tooltipHide",function(){R&&n.tooltip.cleanup()});a.dispatch=D;a.multibar=b;a.legend=v;a.xAxis=p;a.yAxis=r;d3.rebind(a,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing");a.options=n.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return k;k.top="undefined"!=typeof b.top?b.top:k.top;k.right="undefined"!=typeof b.right?b.right:k.right;k.bottom="undefined"!=
typeof b.bottom?b.bottom:k.bottom;k.left="undefined"!=typeof b.left?b.left:k.left;return a};a.width=function(b){if(!arguments.length)return y;y=b;return a};a.height=function(b){if(!arguments.length)return t;t=b;return a};a.color=function(b){if(!arguments.length)return N;N=n.utils.getColor(b);v.color(N);return a};a.showControls=function(b){if(!arguments.length)return H;H=b;return a};a.showLegend=function(b){if(!arguments.length)return F;F=b;return a};a.showXAxis=function(b){if(!arguments.length)return K;
K=b;return a};a.showYAxis=function(b){if(!arguments.length)return E;E=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return M;M=b;r.orient(b?"right":"left");return a};a.reduceXTicks=function(b){if(!arguments.length)return U;U=b;return a};a.rotateLabels=function(b){if(!arguments.length)return T;T=b;return a};a.staggerLabels=function(b){if(!arguments.length)return A;A=b;return a};a.tooltip=function(b){if(!arguments.length)return J;J=b;return a};a.tooltips=function(b){if(!arguments.length)return R;
R=b;return a};a.tooltipContent=function(b){if(!arguments.length)return J;J=b;return a};a.state=function(b){if(!arguments.length)return P;P=b;return a};a.defaultState=function(b){if(!arguments.length)return w;w=b;return a};a.noData=function(b){if(!arguments.length)return C;C=b;return a};a.transitionDuration=function(b){if(!arguments.length)return z;z=b;return a};return a};n.models.multiBarHorizontal=function(){function a(n){n.each(function(a){var n=p-b.left-b.right,v=r-b.top-b.bottom;d3.select(this);
E&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(t)(a));a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});E&&a[0].values.map(function(b,f){var k=0,l=0;a.map(function(a){a=a.values[f];a.size=Math.abs(a.y);0>a.y?(a.y1=l-a.size,l-=a.size):(a.y1=k,k+=a.size)})});var D=J&&O?[]:a.map(function(a){return a.values.map(function(a,b){return{x:y(a,b),y:t(a,b),y0:a.y0,y1:a.y1}})});f.domain(J||d3.merge(D).map(function(a){return a.x})).rangeBands(Q||[0,v],.1);k.domain(O||
d3.extent(d3.merge(D).map(function(a){return E?0<a.y?a.y1+a.y:a.y1:a.y}).concat(N)));M&&!E?k.range(P||[0>k.domain()[0]?A:0,n-(0<k.domain()[1]?A:0)]):k.range(P||[0,n]);C=C||d3.scale.linear().domain(k.domain()).range([k(0),k(0)]);n=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]);v=n.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");v.append("defs");v=v.append("g");n.select("g");v.append("g").attr("class","nv-groups");n.attr("transform","translate("+b.left+
","+b.top+")");n=n.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});n.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);n.exit().transition().style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();n.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return H(a,b)}).style("stroke",function(a,b){return H(a,b)});n.transition().style("stroke-opacity",
1).style("fill-opacity",.75);n=n.selectAll("g.nv-bar").data(function(a){return a.values});n.exit().remove();v=n.enter().append("g").attr("transform",function(b,k,p){return"translate("+C(E?b.y0:0)+","+(E?0:p*f.rangeBand()/a.length+f(y(b,k)))+")"});v.append("rect").attr("width",0).attr("height",f.rangeBand()/(E?1:a.length));n.on("mouseover",function(b,p){d3.select(this).classed("hover",!0);w.elementMouseover({value:t(b,p),point:b,series:a[b.series],pos:[k(t(b,p)+(E?b.y0:0)),f(y(b,p))+f.rangeBand()*
(E?a.length/2:b.series+.5)/a.length],pointIndex:p,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,f){d3.select(this).classed("hover",!1);w.elementMouseout({value:t(b,f),point:b,series:a[b.series],pointIndex:f,seriesIndex:b.series,e:d3.event})}).on("click",function(b,p){w.elementClick({value:t(b,p),point:b,series:a[b.series],pos:[f(y(b,p))+f.rangeBand()*(E?a.length/2:b.series+.5)/a.length,k(t(b,p)+(E?b.y0:0))],pointIndex:p,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",
function(b,p){w.elementDblClick({value:t(b,p),point:b,series:a[b.series],pos:[f(y(b,p))+f.rangeBand()*(E?a.length/2:b.series+.5)/a.length,k(t(b,p)+(E?b.y0:0))],pointIndex:p,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});v.append("text");M&&!E?(n.select("text").attr("text-anchor",function(a,b){return 0>t(a,b)?"end":"start"}).attr("y",f.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){return T(t(a,b))}),n.transition().select("text").attr("x",function(a,b){return 0>t(a,
b)?-4:k(t(a,b))-k(0)+4})):n.selectAll("text").text("");U&&!E?(v.append("text").classed("nv-bar-label",!0),n.select("text.nv-bar-label").attr("text-anchor",function(a,b){return 0>t(a,b)?"start":"end"}).attr("y",f.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){return y(a,b)}),n.transition().select("text.nv-bar-label").attr("x",function(a,b){return 0>t(a,b)?k(0)-k(t(a,b))+4:-4})):n.selectAll("text.nv-bar-label").text("");n.attr("class",function(a,b){return 0>t(a,b)?"nv-bar negative":
"nv-bar positive"});F&&(K||(K=a.map(function(){return!0})),n.style("fill",function(a,b,f){return d3.rgb(F(a,b)).darker(K.map(function(a,b){return b}).filter(function(a,b){return!K[b]})[f]).toString()}).style("stroke",function(a,b,f){return d3.rgb(F(a,b)).darker(K.map(function(a,b){return b}).filter(function(a,b){return!K[b]})[f]).toString()}));E?n.transition().attr("transform",function(a,b){return"translate("+k(a.y1)+","+f(y(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(k(t(a,
b)+a.y0)-k(a.y0))}).attr("height",f.rangeBand()):n.transition().attr("transform",function(b,p){return"translate("+(0>t(b,p)?k(t(b,p)):k(0))+","+(b.series*f.rangeBand()/a.length+f(y(b,p)))+")"}).select("rect").attr("height",f.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(k(t(a,b))-k(0)),1)});f.copy();C=k.copy()});return a}var b={top:0,right:0,bottom:0,left:0},p=960,r=500,v=Math.floor(1E4*Math.random()),f=d3.scale.ordinal(),k=d3.scale.linear(),y=function(a){return a.x},t=
function(a){return a.y},N=[0],H=n.utils.defaultColor(),F=null,K,E=!1,M=!1,U=!1,A=60,T=d3.format(",.2f"),R=1200,J,O,Q,P,w=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),C;a.dispatch=w;a.options=n.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return y;y=b;return a};a.y=function(b){if(!arguments.length)return t;t=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=
typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return p;p=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.yScale=function(b){if(!arguments.length)return k;k=b;return a};a.xDomain=function(b){if(!arguments.length)return J;J=b;return a};a.yDomain=function(b){if(!arguments.length)return O;
O=b;return a};a.xRange=function(b){if(!arguments.length)return Q;Q=b;return a};a.yRange=function(b){if(!arguments.length)return P;P=b;return a};a.forceY=function(b){if(!arguments.length)return N;N=b;return a};a.stacked=function(b){if(!arguments.length)return E;E=b;return a};a.color=function(b){if(!arguments.length)return H;H=n.utils.getColor(b);return a};a.barColor=function(b){if(!arguments.length)return F;F=n.utils.getColor(b);return a};a.disabled=function(b){if(!arguments.length)return K;K=b;return a};
a.id=function(b){if(!arguments.length)return v;v=b;return a};a.delay=function(b){if(!arguments.length)return R;R=b;return a};a.showValues=function(b){if(!arguments.length)return M;M=b;return a};a.showBarLabels=function(b){if(!arguments.length)return U;U=b;return a};a.valueFormat=function(b){if(!arguments.length)return T;T=b;return a};a.valuePadding=function(b){if(!arguments.length)return A;A=b;return a};return a};n.models.multiBarHorizontalChart=function(){function a(w){w.each(function(w){var D=d3.select(this),
z=this,S=(y||parseInt(D.style("width"))||960)-k.left-k.right,V=(t||parseInt(D.style("height"))||400)-k.top-k.bottom;a.update=function(){D.transition().duration(P).call(a)};a.container=this;R.disabled=w.map(function(a){return!!a.disabled});if(!J){var W;J={};for(W in R)J[W]=R[W]instanceof Array?R[W].slice(0):R[W]}if(w&&w.length&&w.filter(function(a){return a.values.length}).length)D.selectAll(".nv-noData").remove();else return W=D.selectAll(".nv-noData").data([O]),W.enter().append("text").attr("class",
"nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),W.attr("x",k.left+S/2).attr("y",k.top+V/2).text(function(a){return a}),a;A=b.xScale();T=b.yScale();W=D.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([w]);var G=W.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),ba=W.select("g");G.append("g").attr("class","nv-x nv-axis");G.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");G.append("g").attr("class",
"nv-barsWrap");G.append("g").attr("class","nv-legendWrap");G.append("g").attr("class","nv-controlsWrap");F&&(v.width(S-(H?180:0)),b.barColor()&&w.forEach(function(a,b){a.color=d3.rgb("#ccc").darker(1.5*b).toString()}),ba.select(".nv-legendWrap").datum(w).call(v),k.top!=v.height()&&(k.top=v.height(),V=(t||parseInt(D.style("height"))||400)-k.top-k.bottom),ba.select(".nv-legendWrap").attr("transform","translate("+(H?180:0)+","+-k.top+")"));if(H){var X=[{key:"Grouped",disabled:b.stacked()},{key:"Stacked",
disabled:!b.stacked()}];f.width(H?180:0).color(["#444","#444","#444"]);ba.select(".nv-controlsWrap").datum(X).attr("transform","translate(0,"+-k.top+")").call(f)}W.attr("transform","translate("+k.left+","+k.top+")");b.disabled(w.map(function(a){return a.disabled})).width(S).height(V).color(w.map(function(a,b){return a.color||N(a,b)}).filter(function(a,b){return!w[b].disabled}));ba.select(".nv-barsWrap").datum(w.filter(function(a){return!a.disabled})).transition().call(b);K&&(p.scale(A).ticks(V/24).tickSize(-S,
0),ba.select(".nv-x.nv-axis").transition().call(p),ba.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));E&&(r.scale(T).ticks(S/100).tickSize(-V,0),ba.select(".nv-y.nv-axis").attr("transform","translate(0,"+V+")"),ba.select(".nv-y.nv-axis").transition().call(r));ba.select(".nv-zeroLine line").attr("x1",T(0)).attr("x2",T(0)).attr("y1",0).attr("y2",-V);v.dispatch.on("stateChange",function(b){R=b;Q.stateChange(R);a.update()});f.dispatch.on("legendClick",function(f,k){if(f.disabled){X=X.map(function(a){a.disabled=
!0;return a});f.disabled=!1;switch(f.key){case "Grouped":b.stacked(!1);break;case "Stacked":b.stacked(!0)}R.stacked=b.stacked();Q.stateChange(R);a.update()}});Q.on("tooltipShow",function(f){if(M){var k=z.parentNode,w=f.pos[0]+(k.offsetLeft||0),v=f.pos[1]+(k.offsetTop||0),t=p.tickFormat()(b.x()(f.point,f.pointIndex)),y=r.tickFormat()(b.y()(f.point,f.pointIndex)),t=U(f.series.key,t,y,f,a);n.tooltip.show([w,v],t,0>f.value?"e":"w",null,k)}});Q.on("changeState",function(f){"undefined"!==typeof f.disabled&&
(w.forEach(function(a,b){a.disabled=f.disabled[b]}),R.disabled=f.disabled);"undefined"!==typeof f.stacked&&(b.stacked(f.stacked),R.stacked=f.stacked);a.update()})});return a}var b=n.models.multiBarHorizontal(),p=n.models.axis(),r=n.models.axis(),v=n.models.legend().height(30),f=n.models.legend().height(30),k={top:30,right:20,bottom:50,left:60},y=null,t=null,N=n.utils.defaultColor(),H=!0,F=!0,K=!0,E=!0,M=!0,U=function(a,b,f,k,p){return"<h3>"+a+" - "+b+"</h3><p>"+f+"</p>"},A,T,R={stacked:!1},J=null,
O="No Data Available.",Q=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),P=250;b.stacked(!1);p.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(a){return a});r.orient("bottom").tickFormat(d3.format(",.1f"));f.updateState(!1);b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+k.left,a.pos[1]+k.top];Q.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){Q.tooltipHide(a)});Q.on("tooltipHide",function(){M&&n.tooltip.cleanup()});
a.dispatch=Q;a.multibar=b;a.legend=v;a.xAxis=p;a.yAxis=r;d3.rebind(a,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","showBarLabels","valueFormat","stacked","barColor");a.options=n.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return k;k.top="undefined"!=typeof b.top?b.top:k.top;k.right="undefined"!=typeof b.right?b.right:k.right;k.bottom="undefined"!=typeof b.bottom?b.bottom:k.bottom;k.left="undefined"!=typeof b.left?b.left:
k.left;return a};a.width=function(b){if(!arguments.length)return y;y=b;return a};a.height=function(b){if(!arguments.length)return t;t=b;return a};a.color=function(b){if(!arguments.length)return N;N=n.utils.getColor(b);v.color(N);return a};a.showControls=function(b){if(!arguments.length)return H;H=b;return a};a.showLegend=function(b){if(!arguments.length)return F;F=b;return a};a.showXAxis=function(b){if(!arguments.length)return K;K=b;return a};a.showYAxis=function(b){if(!arguments.length)return E;
E=b;return a};a.tooltip=function(b){if(!arguments.length)return U;U=b;return a};a.tooltips=function(b){if(!arguments.length)return M;M=b;return a};a.tooltipContent=function(b){if(!arguments.length)return U;U=b;return a};a.state=function(b){if(!arguments.length)return R;R=b;return a};a.defaultState=function(b){if(!arguments.length)return J;J=b;return a};a.noData=function(b){if(!arguments.length)return O;O=b;return a};a.transitionDuration=function(b){if(!arguments.length)return P;P=b;return a};return a};
n.models.multiChart=function(){function a(C){C.each(function(C){var z=d3.select(this),S=this;a.update=function(){z.transition().call(a)};a.container=this;var V=(r||parseInt(z.style("width"))||960)-b.left-b.right,W=(v||parseInt(z.style("height"))||400)-b.top-b.bottom,G=C.filter(function(a){return!a.disabled&&"line"==a.type&&1==a.yAxis}),ba=C.filter(function(a){return!a.disabled&&"line"==a.type&&2==a.yAxis}),X=C.filter(function(a){return!a.disabled&&"bar"==a.type&&1==a.yAxis}),l=C.filter(function(a){return!a.disabled&&
"bar"==a.type&&2==a.yAxis}),u=C.filter(function(a){return!a.disabled&&"area"==a.type&&1==a.yAxis}),da=C.filter(function(a){return!a.disabled&&"area"==a.type&&2==a.yAxis}),ia=C.filter(function(a){return!a.disabled&&1==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:a.x,y:a.y}})}),ga=C.filter(function(a){return!a.disabled&&2==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:a.x,y:a.y}})});t.domain(d3.extent(d3.merge(ia.concat(ga)),function(a){return a.x})).range([0,
V]);var Y=z.selectAll("g.wrap.multiChart").data([C]),ea=Y.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");ea.append("g").attr("class","x axis");ea.append("g").attr("class","y1 axis");ea.append("g").attr("class","y2 axis");ea.append("g").attr("class","lines1Wrap");ea.append("g").attr("class","lines2Wrap");ea.append("g").attr("class","bars1Wrap");ea.append("g").attr("class","bars2Wrap");ea.append("g").attr("class","stack1Wrap");ea.append("g").attr("class","stack2Wrap");ea.append("g").attr("class",
"legendWrap");Y=Y.select("g");f&&(P.width(V/2),Y.select(".legendWrap").datum(C.map(function(a){a.originalKey=void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(1==a.yAxis?"":" (right axis)");return a})).call(P),b.top!=P.height()&&(b.top=P.height(),W=(v||parseInt(z.style("height"))||400)-b.top-b.bottom),Y.select(".legendWrap").attr("transform","translate("+V/2+","+-b.top+")"));E.width(V).height(W).interpolate("monotone").color(C.map(function(a,b){return a.color||p[b%p.length]}).filter(function(a,
b){return!C[b].disabled&&1==C[b].yAxis&&"line"==C[b].type}));M.width(V).height(W).interpolate("monotone").color(C.map(function(a,b){return a.color||p[b%p.length]}).filter(function(a,b){return!C[b].disabled&&2==C[b].yAxis&&"line"==C[b].type}));U.width(V).height(W).color(C.map(function(a,b){return a.color||p[b%p.length]}).filter(function(a,b){return!C[b].disabled&&1==C[b].yAxis&&"bar"==C[b].type}));A.width(V).height(W).color(C.map(function(a,b){return a.color||p[b%p.length]}).filter(function(a,b){return!C[b].disabled&&
2==C[b].yAxis&&"bar"==C[b].type}));T.width(V).height(W).color(C.map(function(a,b){return a.color||p[b%p.length]}).filter(function(a,b){return!C[b].disabled&&1==C[b].yAxis&&"area"==C[b].type}));R.width(V).height(W).color(C.map(function(a,b){return a.color||p[b%p.length]}).filter(function(a,b){return!C[b].disabled&&2==C[b].yAxis&&"area"==C[b].type}));Y.attr("transform","translate("+b.left+","+b.top+")");var ea=Y.select(".lines1Wrap").datum(G),ha=Y.select(".bars1Wrap").datum(X),ca=Y.select(".stack1Wrap").datum(u),
Z=Y.select(".lines2Wrap").datum(ba),ma=Y.select(".bars2Wrap").datum(l),fa=Y.select(".stack2Wrap").datum(da),na=u.length?u.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,f){return{x:a.x,y:a.y+b[f].y}})}).concat([{x:0,y:0}]):[],pa=da.length?da.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,f){return{x:a.x,y:a.y+b[f].y}})}).concat([{x:0,y:0}]):[];F.domain(N||d3.extent(d3.merge(ia).concat(na),function(a){return a.y})).range([0,W]);K.domain(H||
d3.extent(d3.merge(ga).concat(pa),function(a){return a.y})).range([0,W]);E.yDomain(F.domain());U.yDomain(F.domain());T.yDomain(F.domain());M.yDomain(K.domain());A.yDomain(K.domain());R.yDomain(K.domain());u.length&&d3.transition(ca).call(T);da.length&&d3.transition(fa).call(R);X.length&&d3.transition(ha).call(U);l.length&&d3.transition(ma).call(A);G.length&&d3.transition(ea).call(E);ba.length&&d3.transition(Z).call(M);J.ticks(V/100).tickSize(-W,0);Y.select(".x.axis").attr("transform","translate(0,"+
W+")");d3.transition(Y.select(".x.axis")).call(J);O.ticks(W/36).tickSize(-V,0);d3.transition(Y.select(".y1.axis")).call(O);Q.ticks(W/36).tickSize(-V,0);d3.transition(Y.select(".y2.axis")).call(Q);Y.select(".y2.axis").style("opacity",ga.length?1:0).attr("transform","translate("+t.range()[1]+",0)");P.dispatch.on("stateChange",function(b){a.update()});w.on("tooltipShow",function(b){if(k){var f=S.parentNode,l=b.pos[0]+(f.offsetLeft||0),p=b.pos[1]+(f.offsetTop||0),u=J.tickFormat()(E.x()(b.point,b.pointIndex)),
r=(2==b.series.yAxis?Q:O).tickFormat()(E.y()(b.point,b.pointIndex));b=y(b.series.key,u,r,b,a);n.tooltip.show([l,p],b,void 0,void 0,f.offsetParent)}})});return a}var b={top:30,right:20,bottom:50,left:60},p=d3.scale.category20().range(),r=null,v=null,f=!0,k=!0,y=function(a,b,f,k,p){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},t,N,H;t=d3.scale.linear();var F=d3.scale.linear(),K=d3.scale.linear(),E=n.models.line().yScale(F),M=n.models.line().yScale(K),U=n.models.multiBar().stacked(!1).yScale(F),A=n.models.multiBar().stacked(!1).yScale(K),
T=n.models.stackedArea().yScale(F),R=n.models.stackedArea().yScale(K),J=n.models.axis().scale(t).orient("bottom").tickPadding(5),O=n.models.axis().scale(F).orient("left"),Q=n.models.axis().scale(K).orient("right"),P=n.models.legend().height(30),w=d3.dispatch("tooltipShow","tooltipHide");E.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});E.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});M.dispatch.on("elementMouseover.tooltip",
function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});M.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});U.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});U.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});A.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});A.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});
T.dispatch.on("tooltipShow",function(a){if(!Math.round(100*T.y()(a.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});T.dispatch.on("tooltipHide",function(a){w.tooltipHide(a)});R.dispatch.on("tooltipShow",function(a){if(!Math.round(100*R.y()(a.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});R.dispatch.on("tooltipHide",
function(a){w.tooltipHide(a)});E.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});E.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});M.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];w.tooltipShow(a)});M.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});w.on("tooltipHide",function(){k&&n.tooltip.cleanup()});a.dispatch=w;a.lines1=E;a.lines2=M;a.bars1=U;a.bars2=
A;a.stack1=T;a.stack2=R;a.xAxis=J;a.yAxis1=O;a.yAxis2=Q;a.options=n.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return getX;getX=b;E.x(b);U.x(b);return a};a.y=function(b){if(!arguments.length)return getY;getY=b;E.y(b);U.y(b);return a};a.yDomain1=function(b){if(!arguments.length)return N;N=b;return a};a.yDomain2=function(b){if(!arguments.length)return H;H=b;return a};a.margin=function(f){if(!arguments.length)return b;b=f;return a};a.width=function(b){if(!arguments.length)return r;
r=b;return a};a.height=function(b){if(!arguments.length)return v;v=b;return a};a.color=function(b){if(!arguments.length)return p;p=b;P.color(b);return a};a.showLegend=function(b){if(!arguments.length)return f;f=b;return a};a.tooltips=function(b){if(!arguments.length)return k;k=b;return a};a.tooltipContent=function(b){if(!arguments.length)return y;y=b;return a};return a};n.models.ohlcBar=function(){function a(n){n.each(function(a){var n=p-b.left-b.right,w=r-b.top-b.bottom,T=d3.select(this);f.domain(R||
d3.extent(a[0].values.map(y).concat(E)));U?f.range(O||[.5*n/a[0].values.length,n*(a[0].values.length-.5)/a[0].values.length]):f.range(O||[0,n]);k.domain(J||[d3.min(a[0].values.map(K).concat(M)),d3.max(a[0].values.map(F).concat(M))]).range(Q||[w,0]);f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1]));k.domain()[0]===k.domain()[1]&&(k.domain()[0]?k.domain([k.domain()[0]+.01*k.domain()[0],k.domain()[1]-.01*k.domain()[1]]):
k.domain([-1,1]));var V=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),W=V.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),G=W.append("defs"),W=W.append("g"),ba=V.select("g");W.append("g").attr("class","nv-ticks");V.attr("transform","translate("+b.left+","+b.top+")");T.on("click",function(a,b){P.chartClick({data:a,index:b,pos:d3.event,id:v})});G.append("clipPath").attr("id","nv-chart-clip-path-"+v).append("rect");V.select("#nv-chart-clip-path-"+v+" rect").attr("width",
n).attr("height",w);ba.attr("clip-path",A?"url(#nv-chart-clip-path-"+v+")":"");w=V.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});w.exit().remove();w.enter().append("path").attr("class",function(a,b,f){return(N(a,b)>H(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+f+"-"+b}).attr("d",function(b,f){var p=n/a[0].values.length*.9;return"m0,0l0,"+(k(N(b,f))-k(F(b,f)))+"l"+-p/2+",0l"+p/2+",0l0,"+(k(K(b,f))-k(N(b,f)))+"l0,"+(k(H(b,f))-k(K(b,f)))+"l"+p/2+",0l"+-p/2+",0z"}).attr("transform",
function(a,b){return"translate("+f(y(a,b))+","+k(F(a,b))+")"}).on("mouseover",function(b,l){d3.select(this).classed("hover",!0);P.elementMouseover({point:b,series:a[0],pos:[f(y(b,l)),k(t(b,l))],pointIndex:l,seriesIndex:0,e:d3.event})}).on("mouseout",function(b,f){d3.select(this).classed("hover",!1);P.elementMouseout({point:b,series:a[0],pointIndex:f,seriesIndex:0,e:d3.event})}).on("click",function(a,b){P.elementClick({value:t(a,b),data:a,index:b,pos:[f(y(a,b)),k(t(a,b))],e:d3.event,id:v});d3.event.stopPropagation()}).on("dblclick",
function(a,b){P.elementDblClick({value:t(a,b),data:a,index:b,pos:[f(y(a,b)),k(t(a,b))],e:d3.event,id:v});d3.event.stopPropagation()});w.attr("class",function(a,b,f){return(N(a,b)>H(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+f+"-"+b});d3.transition(w).attr("transform",function(a,b){return"translate("+f(y(a,b))+","+k(F(a,b))+")"}).attr("d",function(b,f){var p=n/a[0].values.length*.9;return"m0,0l0,"+(k(N(b,f))-k(F(b,f)))+"l"+-p/2+",0l"+p/2+",0l0,"+(k(K(b,f))-k(N(b,f)))+"l0,"+(k(H(b,f))-
k(K(b,f)))+"l"+p/2+",0l"+-p/2+",0z"})});return a}var b={top:0,right:0,bottom:0,left:0},p=960,r=500,v=Math.floor(1E4*Math.random()),f=d3.scale.linear(),k=d3.scale.linear(),y=function(a){return a.x},t=function(a){return a.y},N=function(a){return a.open},H=function(a){return a.close},F=function(a){return a.high},K=function(a){return a.low},E=[],M=[],U=!1,A=!0,T=n.utils.defaultColor(),R,J,O,Q,P=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");a.dispatch=
P;a.options=n.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return y;y=b;return a};a.y=function(b){if(!arguments.length)return t;t=b;return a};a.open=function(b){if(!arguments.length)return N;N=b;return a};a.close=function(b){if(!arguments.length)return H;H=b;return a};a.high=function(b){if(!arguments.length)return F;F=b;return a};a.low=function(b){if(!arguments.length)return K;K=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:
b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return p;p=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.yScale=function(b){if(!arguments.length)return k;k=b;return a};a.xDomain=function(b){if(!arguments.length)return R;R=b;return a};a.yDomain=
function(b){if(!arguments.length)return J;J=b;return a};a.xRange=function(b){if(!arguments.length)return O;O=b;return a};a.yRange=function(b){if(!arguments.length)return Q;Q=b;return a};a.forceX=function(b){if(!arguments.length)return E;E=b;return a};a.forceY=function(b){if(!arguments.length)return M;M=b;return a};a.padData=function(b){if(!arguments.length)return U;U=b;return a};a.clipEdge=function(b){if(!arguments.length)return A;A=b;return a};a.color=function(b){if(!arguments.length)return T;T=
n.utils.getColor(b);return a};a.id=function(b){if(!arguments.length)return v;v=b;return a};return a};n.models.pie=function(){function a(k){k.each(function(a){var k=p-b.left-b.right,n=r-b.top-b.bottom,D=Math.min(k,n)/2,z=D-D/5,Q=d3.select(this);a=Q.selectAll(".nv-wrap.nv-pie").data(a);var V=a.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+y).append("g"),N=a.select("g");V.append("g").attr("class","nv-pie");V.append("g").attr("class","nv-pieLabels");a.attr("transform","translate("+
b.left+","+b.top+")");N.select(".nv-pie").attr("transform","translate("+k/2+","+n/2+")");N.select(".nv-pieLabels").attr("transform","translate("+k/2+","+n/2+")");Q.on("click",function(a,b){O.chartClick({data:a,index:b,pos:d3.event,id:y})});var G=d3.svg.arc().outerRadius(z);T&&G.startAngle(T);R&&G.endAngle(R);U&&G.innerRadius(D*J);n=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:f(a)});k=a.select(".nv-pie").selectAll(".nv-slice").data(n);a=a.select(".nv-pieLabels").selectAll(".nv-label").data(n);
k.exit().remove();a.exit().remove();n=k.enter().append("g").attr("class","nv-slice").on("mouseover",function(a,b){d3.select(this).classed("hover",!0);O.elementMouseover({label:v(a.data),value:f(a.data),point:a.data,pointIndex:b,pos:[d3.event.pageX,d3.event.pageY],id:y})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);O.elementMouseout({label:v(a.data),value:f(a.data),point:a.data,index:b,id:y})}).on("click",function(a,b){O.elementClick({label:v(a.data),value:f(a.data),point:a.data,
index:b,pos:d3.event,id:y});d3.event.stopPropagation()}).on("dblclick",function(a,b){O.elementDblClick({label:v(a.data),value:f(a.data),point:a.data,index:b,pos:d3.event,id:y});d3.event.stopPropagation()});k.attr("fill",function(a,b){return t(a,b)}).attr("stroke",function(a,b){return t(a,b)});n.append("path").each(function(a){this._current=a});k.select("path").transition().attr("d",G).attrTween("d",function(a){a.endAngle=isNaN(a.endAngle)?0:a.endAngle;a.startAngle=isNaN(a.startAngle)?0:a.startAngle;
U||(a.innerRadius=0);var b=d3.interpolate(this._current,a);this._current=b(0);return function(a){return G(b(a))}});if(H){var ba=d3.svg.arc().innerRadius(0);F&&(ba=G);K&&(ba=d3.svg.arc().outerRadius(G.outerRadius()));a.enter().append("g").classed("nv-label",!0).each(function(a,b){var f=d3.select(this);f.attr("transform",function(a){if(A){a.outerRadius=z+10;a.innerRadius=z+15;var b=(a.startAngle+a.endAngle)/2*(180/Math.PI),b=(a.startAngle+a.endAngle)/2<Math.PI?b-90:b+90;return"translate("+ba.centroid(a)+
") rotate("+b+")"}a.outerRadius=D+10;a.innerRadius=D+15;return"translate("+ba.centroid(a)+")"});f.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);f.append("text").style("text-anchor",A?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var X={},l=function(a){return 140*Math.floor(a[0]/140)+","+14*Math.floor(a[1]/14)};a.transition().attr("transform",function(a){if(A){a.outerRadius=z+10;a.innerRadius=z+15;var b=(a.startAngle+a.endAngle)/
2*(180/Math.PI),b=(a.startAngle+a.endAngle)/2<Math.PI?b-90:b+90;return"translate("+ba.centroid(a)+") rotate("+b+")"}a.outerRadius=D+10;a.innerRadius=D+15;a=ba.centroid(a);b=l(a);X[b]&&(a[1]-=14);X[l(a)]=!0;return"translate("+a+")"});a.select(".nv-label text").style("text-anchor",A?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(a,b){var l=(a.endAngle-a.startAngle)/(2*Math.PI),k={key:v(a.data),value:f(a.data),percent:d3.format("%")(l)};return a.value&&l>M?k[E]:""})}});return a}
var b={top:0,right:0,bottom:0,left:0},p=500,r=500,v=function(a){return a.x},f=function(a){return a.y},k=function(a){return a.description},y=Math.floor(1E4*Math.random()),t=n.utils.defaultColor(),N=d3.format(",.2f"),H=!0,F=!0,K=!1,E="key",M=.02,U=!1,A=!1,T=!1,R=!1,J=.5,O=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");a.dispatch=O;a.options=n.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?
f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return p;p=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.values=function(b){n.log("pie.values() is no longer supported.");return a};a.x=function(b){if(!arguments.length)return v;v=b;return a};a.y=function(b){if(!arguments.length)return f;f=d3.functor(b);
return a};a.description=function(b){if(!arguments.length)return k;k=b;return a};a.showLabels=function(b){if(!arguments.length)return H;H=b;return a};a.labelSunbeamLayout=function(b){if(!arguments.length)return A;A=b;return a};a.donutLabelsOutside=function(b){if(!arguments.length)return K;K=b;return a};a.pieLabelsOutside=function(b){if(!arguments.length)return F;F=b;return a};a.labelType=function(b){if(!arguments.length)return E;E=(E=b)||"key";return a};a.donut=function(b){if(!arguments.length)return U;
U=b;return a};a.donutRatio=function(b){if(!arguments.length)return J;J=b;return a};a.startAngle=function(b){if(!arguments.length)return T;T=b;return a};a.endAngle=function(b){if(!arguments.length)return R;R=b;return a};a.id=function(b){if(!arguments.length)return y;y=b;return a};a.color=function(b){if(!arguments.length)return t;t=n.utils.getColor(b);return a};a.valueFormat=function(b){if(!arguments.length)return N;N=b;return a};a.labelThreshold=function(b){if(!arguments.length)return M;M=b;return a};
return a};n.models.pieChart=function(){function a(n){n.each(function(n){var t=d3.select(this),y=(v||parseInt(t.style("width"))||960)-r.left-r.right,M=(f||parseInt(t.style("height"))||400)-r.top-r.bottom;a.update=function(){t.transition().call(a)};a.container=this;H.disabled=n.map(function(a){return!!a.disabled});if(!F){var J;F={};for(J in H)F[J]=H[J]instanceof Array?H[J].slice(0):H[J]}if(n&&n.length)t.selectAll(".nv-noData").remove();else return J=t.selectAll(".nv-noData").data([K]),J.enter().append("text").attr("class",
"nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),J.attr("x",r.left+y/2).attr("y",r.top+M/2).text(function(a){return a}),a;J=t.selectAll("g.nv-wrap.nv-pieChart").data([n]);var N=J.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),Q=J.select("g");N.append("g").attr("class","nv-pieWrap");N.append("g").attr("class","nv-legendWrap");k&&(p.width(y).key(b.x()),J.select(".nv-legendWrap").datum(n).call(p),r.top!=p.height()&&(r.top=p.height(),M=(f||parseInt(t.style("height"))||
400)-r.top-r.bottom),J.select(".nv-legendWrap").attr("transform","translate(0,"+-r.top+")"));J.attr("transform","translate("+r.left+","+r.top+")");b.width(y).height(M);y=Q.select(".nv-pieWrap").datum([n]);d3.transition(y).call(b);p.dispatch.on("stateChange",function(b){H=b;E.stateChange(H);a.update()});b.dispatch.on("elementMouseout.tooltip",function(a){E.tooltipHide(a)});E.on("changeState",function(b){"undefined"!==typeof b.disabled&&(n.forEach(function(a,f){a.disabled=b.disabled[f]}),H.disabled=
b.disabled);a.update()})});return a}var b=n.models.pie(),p=n.models.legend(),r={top:30,right:20,bottom:20,left:20},v=null,f=null,k=!0,y=n.utils.defaultColor(),t=!0,N=function(a,b,f,k){return"<h3>"+a+"</h3><p>"+b+"</p>"},H={},F=null,K="No Data Available.",E=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+r.left,a.pos[1]+r.top];E.tooltipShow(a)});E.on("tooltipShow",function(f){if(t){var k=b.description()(f.point)||
b.x()(f.point),p=f.pos[0]+0,r=f.pos[1]+0,v=b.valueFormat()(b.y()(f.point)),k=N(k,v,f,a);n.tooltip.show([p,r],k,0>f.value?"n":"s",null,void 0)}});E.on("tooltipHide",function(){t&&n.tooltip.cleanup()});a.legend=p;a.dispatch=E;a.pie=b;d3.rebind(a,b,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold");a.options=n.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return r;r.top="undefined"!=
typeof b.top?b.top:r.top;r.right="undefined"!=typeof b.right?b.right:r.right;r.bottom="undefined"!=typeof b.bottom?b.bottom:r.bottom;r.left="undefined"!=typeof b.left?b.left:r.left;return a};a.width=function(b){if(!arguments.length)return v;v=b;return a};a.height=function(b){if(!arguments.length)return f;f=b;return a};a.color=function(f){if(!arguments.length)return y;y=n.utils.getColor(f);p.color(y);b.color(y);return a};a.showLegend=function(b){if(!arguments.length)return k;k=b;return a};a.tooltips=
function(b){if(!arguments.length)return t;t=b;return a};a.tooltipContent=function(b){if(!arguments.length)return N;N=b;return a};a.state=function(b){if(!arguments.length)return H;H=b;return a};a.defaultState=function(b){if(!arguments.length)return F;F=b;return a};a.noData=function(b){if(!arguments.length)return K;K=b;return a};return a};n.models.scatter=function(){function a(Y){Y.each(function(a){var Y=p-b.left-b.right,ca=r-b.top-b.bottom,Z=d3.select(this);a.forEach(function(a,b){a.values.forEach(function(a){a.series=
b})});var ma=D&&z&&W?[]:d3.merge(a.map(function(a){return a.values.map(function(a,b){return{x:N(a,b),y:H(a,b),size:F(a,b)}})}));k.domain(D||d3.extent(ma.map(function(a){return a.x}).concat(M)));O&&a[0]?k.range(S||[(Y*Q+Y)/(2*a[0].values.length),Y-Y*(1+Q)/(2*a[0].values.length)]):k.range(S||[0,Y]);y.domain(z||d3.extent(ma.map(function(a){return a.y}).concat(U))).range(V||[ca,0]);t.domain(W||d3.extent(ma.map(function(a){return a.size}).concat(A))).range(G||[16,256]);if(k.domain()[0]===k.domain()[1]||
y.domain()[0]===y.domain()[1])ba=!0;k.domain()[0]===k.domain()[1]&&(k.domain()[0]?k.domain([k.domain()[0]-.01*k.domain()[0],k.domain()[1]+.01*k.domain()[1]]):k.domain([-1,1]));y.domain()[0]===y.domain()[1]&&(y.domain()[0]?y.domain([y.domain()[0]-.01*y.domain()[0],y.domain()[1]+.01*y.domain()[1]]):y.domain([-1,1]));isNaN(k.domain()[0])&&k.domain([-1,1]);isNaN(y.domain()[0])&&y.domain([-1,1]);u=u||k;da=da||y;var fa=Z.selectAll("g.nv-wrap.nv-scatter").data([a]),ma=fa.enter().append("g").attr("class",
"nvd3 nv-wrap nv-scatter nv-chart-"+f+(ba?" nv-single-point":"")),Z=ma.append("defs"),ma=ma.append("g"),na=fa.select("g");ma.append("g").attr("class","nv-groups");ma.append("g").attr("class","nv-point-paths");fa.attr("transform","translate("+b.left+","+b.top+")");Z.append("clipPath").attr("id","nv-edge-clip-"+f).append("rect");fa.select("#nv-edge-clip-"+f+" rect").attr("width",Y).attr("height",0<ca?ca:0);na.attr("clip-path",P?"url(#nv-edge-clip-"+f+")":"");ga=!0;Y=fa.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a){return a.key});Y.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);Y.exit().remove();Y.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});Y.transition().style("fill",function(a,b){return v(a,b)}).style("stroke",function(a,b){return v(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5);E?(ca=Y.selectAll("circle.nv-point").data(function(a){return a.values},R),ca.enter().append("circle").style("fill",function(a,
b){return a.color}).style("stroke",function(a,b){return a.color}).attr("cx",function(a,b){return n.utils.NaNtoZero(u(N(a,b)))}).attr("cy",function(a,b){return n.utils.NaNtoZero(da(H(a,b)))}).attr("r",function(a,b){return Math.sqrt(t(F(a,b))/Math.PI)}),ca.exit().remove(),Y.exit().selectAll("path.nv-point").transition().attr("cx",function(a,b){return n.utils.NaNtoZero(k(N(a,b)))}).attr("cy",function(a,b){return n.utils.NaNtoZero(y(H(a,b)))}).remove(),ca.each(function(a,b){d3.select(this).classed("nv-point",
!0).classed("nv-point-"+b,!0).classed("hover",!1)}),ca.transition().attr("cx",function(a,b){return n.utils.NaNtoZero(k(N(a,b)))}).attr("cy",function(a,b){return n.utils.NaNtoZero(y(H(a,b)))}).attr("r",function(a,b){return Math.sqrt(t(F(a,b))/Math.PI)})):(ca=Y.selectAll("path.nv-point").data(function(a){return a.values}),ca.enter().append("path").style("fill",function(a,b){return a.color}).style("stroke",function(a,b){return a.color}).attr("transform",function(a,b){return"translate("+u(N(a,b))+","+
da(H(a,b))+")"}).attr("d",d3.svg.symbol().type(K).size(function(a,b){return t(F(a,b))})),ca.exit().remove(),Y.exit().selectAll("path.nv-point").transition().attr("transform",function(a,b){return"translate("+k(N(a,b))+","+y(H(a,b))+")"}).remove(),ca.each(function(a,b){d3.select(this).classed("nv-point",!0).classed("nv-point-"+b,!0).classed("hover",!1)}),ca.transition().attr("transform",function(a,b){return"translate("+k(N(a,b))+","+y(H(a,b))+")"}).attr("d",d3.svg.symbol().type(K).size(function(a,b){return t(F(a,
b))})));clearTimeout(ia);ia=setTimeout(function(){if(!T)return!1;var n=d3.merge(a.map(function(a,b){return a.values.map(function(a,f){var l=N(a,f),p=H(a,f);return[k(l)+1E-7*Math.random(),y(p)+1E-7*Math.random(),b,f,a]}).filter(function(a,b){return J(a[4],b)})}));if(!0===l){if(w){fa.select("defs").selectAll(".nv-point-clips").data([f]).enter().append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+f);var u=fa.select("#nv-points-clip-"+f).selectAll("circle").data(n);u.enter().append("circle").attr("r",
C);u.exit().remove();u.attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]});fa.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+f+")")}n.length&&(n.push([k.range()[0]-20,y.range()[0]-20,null,null]),n.push([k.range()[1]+20,y.range()[1]+20,null,null]),n.push([k.range()[0]-20,y.range()[0]+20,null,null]),n.push([k.range()[1]+20,y.range()[1]-20,null,null]));var t=d3.geom.polygon([[-10,-10],[-10,r+10],[p+10,r+10],[p+10,-10]]),u=d3.geom.voronoi(n).map(function(a,b){return{data:t.clip(a),
series:n[b][2],point:n[b][3]}}),u=fa.select(".nv-point-paths").selectAll("path").data(u);u.enter().append("path").attr("class",function(a,b){return"nv-path-"+b});u.exit().remove();u.attr("d",function(a){return 0===a.data.length?"M 0 0":"M"+a.data.join("L")+"Z"});var v=function(f,l){if(ga)return 0;var p=a[f.series];if("undefined"!==typeof p){var n=p.values[f.point];l({point:n,series:p,pos:[k(N(n,f.point))+b.left,y(H(n,f.point))+b.top],seriesIndex:f.series,pointIndex:f.point})}};u.on("click",function(a){v(a,
X.elementClick)}).on("mouseover",function(a){v(a,X.elementMouseover)}).on("mouseout",function(a,b){v(a,X.elementMouseout)})}else fa.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(f,l){if(ga||!a[f.series])return 0;var p=a[f.series],n=p.values[l];X.elementClick({point:n,series:p,pos:[k(N(n,l))+b.left,y(H(n,l))+b.top],seriesIndex:f.series,pointIndex:l})}).on("mouseover",function(f,l){if(ga||!a[f.series])return 0;var p=a[f.series],n=p.values[l];X.elementMouseover({point:n,
series:p,pos:[k(N(n,l))+b.left,y(H(n,l))+b.top],seriesIndex:f.series,pointIndex:l})}).on("mouseout",function(b,f){if(ga||!a[b.series])return 0;var l=a[b.series];X.elementMouseout({point:l.values[f],series:l,seriesIndex:b.series,pointIndex:f})});ga=!1},300);u=k.copy();da=y.copy();t.copy()});return a}var b={top:0,right:0,bottom:0,left:0},p=960,r=500,v=n.utils.defaultColor(),f=Math.floor(1E5*Math.random()),k=d3.scale.linear(),y=d3.scale.linear(),t=d3.scale.linear(),N=function(a){return a.x},H=function(a){return a.y},
F=function(a){return a.size||1},K=function(a){return a.shape||"circle"},E=!0,M=[],U=[],A=[],T=!0,R=null,J=function(a){return!a.notActive},O=!1,Q=.1,P=!1,w=!0,C=function(){return 25},D=null,z=null,S=null,V=null,W=null,G=null,ba=!1,X=d3.dispatch("elementClick","elementMouseover","elementMouseout"),l=!0,u,da,ia,ga=!1;a.clearHighlights=function(){d3.selectAll(".nv-chart-"+f+" .nv-point.hover").classed("hover",!1)};a.highlightPoint=function(a,b,l){d3.select(".nv-chart-"+f+" .nv-series-"+a+" .nv-point-"+
b).classed("hover",l)};X.on("elementMouseover.point",function(b){T&&a.highlightPoint(b.seriesIndex,b.pointIndex,!0)});X.on("elementMouseout.point",function(b){T&&a.highlightPoint(b.seriesIndex,b.pointIndex,!1)});a.dispatch=X;a.options=n.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return N;N=d3.functor(b);return a};a.y=function(b){if(!arguments.length)return H;H=d3.functor(b);return a};a.size=function(b){if(!arguments.length)return F;F=d3.functor(b);return a};a.margin=function(f){if(!arguments.length)return b;
b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return p;p=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.xScale=function(b){if(!arguments.length)return k;k=b;return a};a.yScale=function(b){if(!arguments.length)return y;y=b;return a};a.zScale=function(b){if(!arguments.length)return t;
t=b;return a};a.xDomain=function(b){if(!arguments.length)return D;D=b;return a};a.yDomain=function(b){if(!arguments.length)return z;z=b;return a};a.sizeDomain=function(b){if(!arguments.length)return W;W=b;return a};a.xRange=function(b){if(!arguments.length)return S;S=b;return a};a.yRange=function(b){if(!arguments.length)return V;V=b;return a};a.sizeRange=function(b){if(!arguments.length)return G;G=b;return a};a.forceX=function(b){if(!arguments.length)return M;M=b;return a};a.forceY=function(b){if(!arguments.length)return U;
U=b;return a};a.forceSize=function(b){if(!arguments.length)return A;A=b;return a};a.interactive=function(b){if(!arguments.length)return T;T=b;return a};a.pointKey=function(b){if(!arguments.length)return R;R=b;return a};a.pointActive=function(b){if(!arguments.length)return J;J=b;return a};a.padData=function(b){if(!arguments.length)return O;O=b;return a};a.padDataOuter=function(b){if(!arguments.length)return Q;Q=b;return a};a.clipEdge=function(b){if(!arguments.length)return P;P=b;return a};a.clipVoronoi=
function(b){if(!arguments.length)return w;w=b;return a};a.useVoronoi=function(b){if(!arguments.length)return l;l=b;!1===l&&(w=!1);return a};a.clipRadius=function(b){if(!arguments.length)return C;C=b;return a};a.color=function(b){if(!arguments.length)return v;v=n.utils.getColor(b);return a};a.shape=function(b){if(!arguments.length)return K;K=b;return a};a.onlyCircles=function(b){if(!arguments.length)return E;E=b;return a};a.id=function(b){if(!arguments.length)return f;f=b;return a};a.singlePoint=function(b){if(!arguments.length)return ba;
ba=b;return a};return a};n.models.scatterChart=function(){function a(da){da.each(function(da){function ga(){if(C)return fa.select(".nv-point-paths").style("pointer-events","all"),!1;fa.select(".nv-point-paths").style("pointer-events","none");var a=d3.mouse(this);K.distortion(w).focus(a[0]);E.distortion(w).focus(a[1]);fa.select(".nv-scatterWrap").call(b);J&&fa.select(".nv-x.nv-axis").call(p);O&&fa.select(".nv-y.nv-axis").call(r);fa.select(".nv-distributionX").datum(da.filter(function(a){return!a.disabled})).call(k);
fa.select(".nv-distributionY").datum(da.filter(function(a){return!a.disabled})).call(y)}var Y=d3.select(this),ea=this,ha=(N||parseInt(Y.style("width"))||960)-t.left-t.right,ca=(H||parseInt(Y.style("height"))||400)-t.top-t.bottom;a.update=function(){Y.transition().duration(l).call(a)};a.container=this;W.disabled=da.map(function(a){return!!a.disabled});if(!G){var Z;G={};for(Z in W)G[Z]=W[Z]instanceof Array?W[Z].slice(0):W[Z]}if(da&&da.length&&da.filter(function(a){return a.values.length}).length)Y.selectAll(".nv-noData").remove();
else return Z=Y.selectAll(".nv-noData").data([X]),Z.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),Z.attr("x",t.left+ha/2).attr("y",t.top+ca/2).text(function(a){return a}),a;Z=Y.selectAll("g.nv-wrap.nv-scatterChart").data([da]);var ma=Z.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()).append("g"),fa=Z.select("g");ma.append("rect").attr("class","nvd3 nv-background");ma.append("g").attr("class","nv-x nv-axis");
ma.append("g").attr("class","nv-y nv-axis");ma.append("g").attr("class","nv-scatterWrap");ma.append("g").attr("class","nv-distWrap");ma.append("g").attr("class","nv-legendWrap");ma.append("g").attr("class","nv-controlsWrap");if(R){var na=P?ha/2:ha;v.width(na);Z.select(".nv-legendWrap").datum(da).call(v);t.top!=v.height()&&(t.top=v.height(),ca=(H||parseInt(Y.style("height"))||400)-t.top-t.bottom);Z.select(".nv-legendWrap").attr("transform","translate("+(ha-na)+","+-t.top+")")}P&&(f.width(180).color(["#444"]),
fa.select(".nv-controlsWrap").datum(u).attr("transform","translate(0,"+-t.top+")").call(f));Z.attr("transform","translate("+t.left+","+t.top+")");Q&&fa.select(".nv-y.nv-axis").attr("transform","translate("+ha+",0)");b.width(ha).height(ca).color(da.map(function(a,b){return a.color||F(a,b)}).filter(function(a,b){return!da[b].disabled}));0!==M&&b.xDomain(null);0!==U&&b.yDomain(null);Z.select(".nv-scatterWrap").datum(da.filter(function(a){return!a.disabled})).call(b);0!==M&&(na=K.domain()[1]-K.domain()[0],
b.xDomain([K.domain()[0]-M*na,K.domain()[1]+M*na]));0!==U&&(na=E.domain()[1]-E.domain()[0],b.yDomain([E.domain()[0]-U*na,E.domain()[1]+U*na]));0===U&&0===M||Z.select(".nv-scatterWrap").datum(da.filter(function(a){return!a.disabled})).call(b);J&&(p.scale(K).ticks(p.ticks()&&p.ticks().length?p.ticks():ha/100).tickSize(-ca,0),fa.select(".nv-x.nv-axis").attr("transform","translate(0,"+E.range()[0]+")").call(p));O&&(r.scale(E).ticks(r.ticks()&&r.ticks().length?r.ticks():ca/36).tickSize(-ha,0),fa.select(".nv-y.nv-axis").call(r));
A&&(k.getData(b.x()).scale(K).width(ha).color(da.map(function(a,b){return a.color||F(a,b)}).filter(function(a,b){return!da[b].disabled})),ma.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),fa.select(".nv-distributionX").attr("transform","translate(0,"+E.range()[0]+")").datum(da.filter(function(a){return!a.disabled})).call(k));T&&(y.getData(b.y()).scale(E).width(ca).color(da.map(function(a,b){return a.color||F(a,b)}).filter(function(a,b){return!da[b].disabled})),ma.select(".nv-distWrap").append("g").attr("class",
"nv-distributionY"),fa.select(".nv-distributionY").attr("transform","translate("+(Q?ha:-y.size())+",0)").datum(da.filter(function(a){return!a.disabled})).call(y));d3.fisheye&&(fa.select(".nv-background").attr("width",ha).attr("height",ca),fa.select(".nv-background").on("mousemove",ga),fa.select(".nv-background").on("click",function(){C=!C}),b.dispatch.on("elementClick.freezeFisheye",function(){C=!C}));f.dispatch.on("legendClick",function(f,l){f.disabled=!f.disabled;w=f.disabled?0:2.5;fa.select(".nv-background").style("pointer-events",
f.disabled?"none":"all");fa.select(".nv-point-paths").style("pointer-events",f.disabled?"all":"none");f.disabled?(K.distortion(w).focus(0),E.distortion(w).focus(0),fa.select(".nv-scatterWrap").call(b),fa.select(".nv-x.nv-axis").call(p),fa.select(".nv-y.nv-axis").call(r)):C=!1;a.update()});v.dispatch.on("stateChange",function(b){W.disabled=b.disabled;ba.stateChange(W);a.update()});b.dispatch.on("elementMouseover.tooltip",function(a){d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+
a.pointIndex).attr("y1",function(b,f){return a.pos[1]-ca});d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos[0]+k.size());a.pos=[a.pos[0]+t.left,a.pos[1]+t.top];ba.tooltipShow(a)});ba.on("tooltipShow",function(f){if(D){var l=ea.parentNode,k=f.pos[0]+(l.offsetLeft||0),u=f.pos[1]+(l.offsetTop||0),v=f.pos[0]+(l.offsetLeft||0),w=E.range()[0]+t.top+(l.offsetTop||0),y=K.range()[0]+t.left+(l.offsetLeft||0),A=f.pos[1]+(l.offsetTop||0),C=p.tickFormat()(b.x()(f.point,
f.pointIndex)),G=r.tickFormat()(b.y()(f.point,f.pointIndex));null!=z&&n.tooltip.show([v,w],z(f.series.key,C,G,f,a),"n",1,l,"x-nvtooltip");null!=S&&n.tooltip.show([y,A],S(f.series.key,C,G,f,a),"e",1,l,"y-nvtooltip");null!=V&&n.tooltip.show([k,u],V(f.series.key,C,G,f,a),0>f.value?"n":"s",null,l)}});ba.on("changeState",function(b){"undefined"!==typeof b.disabled&&(da.forEach(function(a,f){a.disabled=b.disabled[f]}),W.disabled=b.disabled);a.update()});K.copy();E.copy()});return a}var b=n.models.scatter(),
p=n.models.axis(),r=n.models.axis(),v=n.models.legend(),f=n.models.legend(),k=n.models.distribution(),y=n.models.distribution(),t={top:30,right:20,bottom:50,left:75},N=null,H=null,F=n.utils.defaultColor(),K=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.xScale(),E=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.yScale(),M=0,U=0,A=!1,T=!1,R=!0,J=!0,O=!0,Q=!1,P=!!d3.fisheye,w=0,C=!1,D=!0,z=function(a,b,f){return"<strong>"+b+"</strong>"},S=function(a,b,f){return"<strong>"+
f+"</strong>"},V=null,W={},G=null,ba=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),X="No Data Available.",l=250;b.xScale(K).yScale(E);p.orient("bottom").tickPadding(10);r.orient(Q?"right":"left").tickPadding(10);k.axis("x");y.axis("y");f.updateState(!1);var u=[{key:"Magnify",disabled:!0}];b.dispatch.on("elementMouseout.tooltip",function(a){ba.tooltipHide(a);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);d3.select(".nv-chart-"+
b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",y.size())});ba.on("tooltipHide",function(){D&&n.tooltip.cleanup()});a.dispatch=ba;a.scatter=b;a.legend=v;a.controls=f;a.xAxis=p;a.yAxis=r;a.distX=k;a.distY=y;d3.rebind(a,b,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");a.options=n.utils.optionsFunc.bind(a);
a.margin=function(b){if(!arguments.length)return t;t.top="undefined"!=typeof b.top?b.top:t.top;t.right="undefined"!=typeof b.right?b.right:t.right;t.bottom="undefined"!=typeof b.bottom?b.bottom:t.bottom;t.left="undefined"!=typeof b.left?b.left:t.left;return a};a.width=function(b){if(!arguments.length)return N;N=b;return a};a.height=function(b){if(!arguments.length)return H;H=b;return a};a.color=function(b){if(!arguments.length)return F;F=n.utils.getColor(b);v.color(F);k.color(F);y.color(F);return a};
a.showDistX=function(b){if(!arguments.length)return A;A=b;return a};a.showDistY=function(b){if(!arguments.length)return T;T=b;return a};a.showControls=function(b){if(!arguments.length)return P;P=b;return a};a.showLegend=function(b){if(!arguments.length)return R;R=b;return a};a.showXAxis=function(b){if(!arguments.length)return J;J=b;return a};a.showYAxis=function(b){if(!arguments.length)return O;O=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return Q;Q=b;r.orient(b?"right":"left");
return a};a.fisheye=function(b){if(!arguments.length)return w;w=b;return a};a.xPadding=function(b){if(!arguments.length)return M;M=b;return a};a.yPadding=function(b){if(!arguments.length)return U;U=b;return a};a.tooltips=function(b){if(!arguments.length)return D;D=b;return a};a.tooltipContent=function(b){if(!arguments.length)return V;V=b;return a};a.tooltipXContent=function(b){if(!arguments.length)return z;z=b;return a};a.tooltipYContent=function(b){if(!arguments.length)return S;S=b;return a};a.state=
function(b){if(!arguments.length)return W;W=b;return a};a.defaultState=function(b){if(!arguments.length)return G;G=b;return a};a.noData=function(b){if(!arguments.length)return X;X=b;return a};a.transitionDuration=function(b){if(!arguments.length)return l;l=b;return a};return a};n.models.scatterPlusLineChart=function(){function a(l){l.each(function(l){function da(){if(P)return Z.select(".nv-point-paths").style("pointer-events","all"),!1;Z.select(".nv-point-paths").style("pointer-events","none");var a=
d3.mouse(this);K.distortion(Q).focus(a[0]);E.distortion(Q).focus(a[1]);Z.select(".nv-scatterWrap").datum(l.filter(function(a){return!a.disabled})).call(b);T&&Z.select(".nv-x.nv-axis").call(p);R&&Z.select(".nv-y.nv-axis").call(r);Z.select(".nv-distributionX").datum(l.filter(function(a){return!a.disabled})).call(k);Z.select(".nv-distributionY").datum(l.filter(function(a){return!a.disabled})).call(y)}var ia=d3.select(this),ga=this,Y=(N||parseInt(ia.style("width"))||960)-t.left-t.right,ea=(H||parseInt(ia.style("height"))||
400)-t.top-t.bottom;a.update=function(){ia.transition().duration(ba).call(a)};a.container=this;S.disabled=l.map(function(a){return!!a.disabled});if(!V){var ha;V={};for(ha in S)V[ha]=S[ha]instanceof Array?S[ha].slice(0):S[ha]}if(l&&l.length&&l.filter(function(a){return a.values.length}).length)ia.selectAll(".nv-noData").remove();else return ha=ia.selectAll(".nv-noData").data([G]),ha.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ha.attr("x",t.left+
Y/2).attr("y",t.top+ea/2).text(function(a){return a}),a;K=b.xScale();E=b.yScale();var ca=ia.selectAll("g.nv-wrap.nv-scatterChart").data([l]);ha=ca.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()).append("g");var Z=ca.select("g");ha.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");ha.append("g").attr("class","nv-x nv-axis");ha.append("g").attr("class","nv-y nv-axis");ha.append("g").attr("class","nv-scatterWrap");ha.append("g").attr("class",
"nv-regressionLinesWrap");ha.append("g").attr("class","nv-distWrap");ha.append("g").attr("class","nv-legendWrap");ha.append("g").attr("class","nv-controlsWrap");ca.attr("transform","translate("+t.left+","+t.top+")");J&&Z.select(".nv-y.nv-axis").attr("transform","translate("+Y+",0)");A&&(v.width(Y/2),ca.select(".nv-legendWrap").datum(l).call(v),t.top!=v.height()&&(t.top=v.height(),ea=(H||parseInt(ia.style("height"))||400)-t.top-t.bottom),ca.select(".nv-legendWrap").attr("transform","translate("+Y/
2+","+-t.top+")"));O&&(f.width(180).color(["#444"]),Z.select(".nv-controlsWrap").datum(X).attr("transform","translate(0,"+-t.top+")").call(f));b.width(Y).height(ea).color(l.map(function(a,b){return a.color||F(a,b)}).filter(function(a,b){return!l[b].disabled}));ca.select(".nv-scatterWrap").datum(l.filter(function(a){return!a.disabled})).call(b);ca.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+b.id()+")");ca=ca.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});
ca.enter().append("g").attr("class","nv-regLines");ca=ca.selectAll(".nv-regLine").data(function(a){return[a]});ca.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);ca.transition().attr("x1",K.range()[0]).attr("x2",K.range()[1]).attr("y1",function(a,b){return E(K.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a,b){return E(K.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,f){return F(a,f)}).style("stroke-opacity",function(a,b){return a.disabled||"undefined"===
typeof a.slope||"undefined"===typeof a.intercept?0:1});T&&(p.scale(K).ticks(p.ticks()?p.ticks():Y/100).tickSize(-ea,0),Z.select(".nv-x.nv-axis").attr("transform","translate(0,"+E.range()[0]+")").call(p));R&&(r.scale(E).ticks(r.ticks()?r.ticks():ea/36).tickSize(-Y,0),Z.select(".nv-y.nv-axis").call(r));M&&(k.getData(b.x()).scale(K).width(Y).color(l.map(function(a,b){return a.color||F(a,b)}).filter(function(a,b){return!l[b].disabled})),ha.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),
Z.select(".nv-distributionX").attr("transform","translate(0,"+E.range()[0]+")").datum(l.filter(function(a){return!a.disabled})).call(k));U&&(y.getData(b.y()).scale(E).width(ea).color(l.map(function(a,b){return a.color||F(a,b)}).filter(function(a,b){return!l[b].disabled})),ha.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),Z.select(".nv-distributionY").attr("transform","translate("+(J?Y:-y.size())+",0)").datum(l.filter(function(a){return!a.disabled})).call(y));d3.fisheye&&(Z.select(".nv-background").attr("width",
Y).attr("height",ea),Z.select(".nv-background").on("mousemove",da),Z.select(".nv-background").on("click",function(){P=!P}),b.dispatch.on("elementClick.freezeFisheye",function(){P=!P}));f.dispatch.on("legendClick",function(f,l){f.disabled=!f.disabled;Q=f.disabled?0:2.5;Z.select(".nv-background").style("pointer-events",f.disabled?"none":"all");Z.select(".nv-point-paths").style("pointer-events",f.disabled?"all":"none");f.disabled?(K.distortion(Q).focus(0),E.distortion(Q).focus(0),Z.select(".nv-scatterWrap").call(b),
Z.select(".nv-x.nv-axis").call(p),Z.select(".nv-y.nv-axis").call(r)):P=!1;a.update()});v.dispatch.on("stateChange",function(b){S=b;W.stateChange(S);a.update()});b.dispatch.on("elementMouseover.tooltip",function(a){d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.pos[1]-ea);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos[0]+k.size());a.pos=[a.pos[0]+t.left,a.pos[1]+t.top];W.tooltipShow(a)});W.on("tooltipShow",
function(f){if(w){var l=ga.parentNode,k=f.pos[0]+(l.offsetLeft||0),u=f.pos[1]+(l.offsetTop||0),v=f.pos[0]+(l.offsetLeft||0),y=E.range()[0]+t.top+(l.offsetTop||0),A=K.range()[0]+t.left+(l.offsetLeft||0),G=f.pos[1]+(l.offsetTop||0),J=p.tickFormat()(b.x()(f.point,f.pointIndex)),M=r.tickFormat()(b.y()(f.point,f.pointIndex));null!=C&&n.tooltip.show([v,y],C(f.series.key,J,M,f,a),"n",1,l,"x-nvtooltip");null!=D&&n.tooltip.show([A,G],D(f.series.key,J,M,f,a),"e",1,l,"y-nvtooltip");null!=z&&n.tooltip.show([k,
u],z(f.series.key,J,M,f.point.tooltip,f,a),0>f.value?"n":"s",null,l)}});W.on("changeState",function(b){"undefined"!==typeof b.disabled&&(l.forEach(function(a,f){a.disabled=b.disabled[f]}),S.disabled=b.disabled);a.update()});K.copy();E.copy()});return a}var b=n.models.scatter(),p=n.models.axis(),r=n.models.axis(),v=n.models.legend(),f=n.models.legend(),k=n.models.distribution(),y=n.models.distribution(),t={top:30,right:20,bottom:50,left:75},N=null,H=null,F=n.utils.defaultColor(),K=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):
b.xScale(),E=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.yScale(),M=!1,U=!1,A=!0,T=!0,R=!0,J=!1,O=!!d3.fisheye,Q=0,P=!1,w=!0,C=function(a,b,f){return"<strong>"+b+"</strong>"},D=function(a,b,f){return"<strong>"+f+"</strong>"},z=function(a,b,f,k){return"<h3>"+a+"</h3><p>"+k+"</p>"},S={},V=null,W=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),G="No Data Available.",ba=250;b.xScale(K).yScale(E);p.orient("bottom").tickPadding(10);r.orient(J?"right":"left").tickPadding(10);
k.axis("x");y.axis("y");f.updateState(!1);var X=[{key:"Magnify",disabled:!0}];b.dispatch.on("elementMouseout.tooltip",function(a){W.tooltipHide(a);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",y.size())});W.on("tooltipHide",function(){w&&n.tooltip.cleanup()});a.dispatch=W;a.scatter=b;a.legend=v;a.controls=f;a.xAxis=p;a.yAxis=r;a.distX=k;a.distY=y;d3.rebind(a,
b,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");a.options=n.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return t;t.top="undefined"!=typeof b.top?b.top:t.top;t.right="undefined"!=typeof b.right?b.right:t.right;t.bottom="undefined"!=typeof b.bottom?b.bottom:t.bottom;t.left="undefined"!=typeof b.left?b.left:
t.left;return a};a.width=function(b){if(!arguments.length)return N;N=b;return a};a.height=function(b){if(!arguments.length)return H;H=b;return a};a.color=function(b){if(!arguments.length)return F;F=n.utils.getColor(b);v.color(F);k.color(F);y.color(F);return a};a.showDistX=function(b){if(!arguments.length)return M;M=b;return a};a.showDistY=function(b){if(!arguments.length)return U;U=b;return a};a.showControls=function(b){if(!arguments.length)return O;O=b;return a};a.showLegend=function(b){if(!arguments.length)return A;
A=b;return a};a.showXAxis=function(b){if(!arguments.length)return T;T=b;return a};a.showYAxis=function(b){if(!arguments.length)return R;R=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return J;J=b;r.orient(b?"right":"left");return a};a.fisheye=function(b){if(!arguments.length)return Q;Q=b;return a};a.tooltips=function(b){if(!arguments.length)return w;w=b;return a};a.tooltipContent=function(b){if(!arguments.length)return z;z=b;return a};a.tooltipXContent=function(b){if(!arguments.length)return C;
C=b;return a};a.tooltipYContent=function(b){if(!arguments.length)return D;D=b;return a};a.state=function(b){if(!arguments.length)return S;S=b;return a};a.defaultState=function(b){if(!arguments.length)return V;V=b;return a};a.noData=function(b){if(!arguments.length)return G;G=b;return a};a.transitionDuration=function(b){if(!arguments.length)return ba;ba=b;return a};return a};n.models.sparkline=function(){function a(n){n.each(function(a){var n=p-b.left-b.right,v=r-b.top-b.bottom,M=d3.select(this);f.domain(H||
d3.extent(a,y)).range(K||[0,n]);k.domain(F||d3.extent(a,t)).range(E||[v,0]);a=M.selectAll("g.nv-wrap.nv-sparkline").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g");a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");n=a.selectAll("path").data(function(a){return[a]});n.enter().append("path");n.exit().remove();n.style("stroke",function(a,b){return a.color||N(a,b)}).attr("d",d3.svg.line().x(function(a,b){return f(y(a,b))}).y(function(a,b){return k(t(a,
b))}));a=a.selectAll("circle.nv-point").data(function(a){function b(f){if(-1!=f){var k=a[f];k.pointIndex=f;return k}return null}var f=a.map(function(a,b){return t(a,b)}),p=b(f.lastIndexOf(k.domain()[1])),n=b(f.indexOf(k.domain()[0])),f=b(f.length-1);return[n,p,f].filter(function(a){return null!=a})});a.enter().append("circle");a.exit().remove();a.attr("cx",function(a,b){return f(y(a,a.pointIndex))}).attr("cy",function(a,b){return k(t(a,a.pointIndex))}).attr("r",2).attr("class",function(a,b){return y(a,
a.pointIndex)==f.domain()[1]?"nv-point nv-currentValue":t(a,a.pointIndex)==k.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});return a}var b={top:2,right:0,bottom:2,left:0},p=400,r=32,v=!0,f=d3.scale.linear(),k=d3.scale.linear(),y=function(a){return a.x},t=function(a){return a.y},N=n.utils.getColor(["#000"]),H,F,K,E;a.options=n.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:
b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return p;p=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.x=function(b){if(!arguments.length)return y;y=d3.functor(b);return a};a.y=function(b){if(!arguments.length)return t;t=d3.functor(b);return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.yScale=function(b){if(!arguments.length)return k;
k=b;return a};a.xDomain=function(b){if(!arguments.length)return H;H=b;return a};a.yDomain=function(b){if(!arguments.length)return F;F=b;return a};a.xRange=function(b){if(!arguments.length)return K;K=b;return a};a.yRange=function(b){if(!arguments.length)return E;E=b;return a};a.animate=function(b){if(!arguments.length)return v;v=b;return a};a.color=function(b){if(!arguments.length)return N;N=n.utils.getColor(b);return a};return a};n.models.sparklinePlus=function(){function a(n){n.each(function(A){function F(){if(!t){var a=
w.selectAll(".nv-hoverValue").data(y),k=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();a.attr("transform",function(a){return"translate("+f(b.x()(A[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);y.length&&(k.append("line").attr("x1",0).attr("y1",-p.top).attr("x2",0).attr("y2",O),k.append("text").attr("class",
"nv-xValue").attr("x",-6).attr("y",-p.top).attr("text-anchor","end").attr("dy",".9em"),w.select(".nv-hoverValue .nv-xValue").text(N(b.x()(A[y[0]],y[0]))),k.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-p.top).attr("text-anchor","start").attr("dy",".9em"),w.select(".nv-hoverValue .nv-yValue").text(H(b.y()(A[y[0]],y[0]))))}}var R=d3.select(this),J=(r||parseInt(R.style("width"))||960)-p.left-p.right,O=(v||parseInt(R.style("height"))||400)-p.top-p.bottom;a.update=function(){a(n)};a.container=
this;if(A&&A.length)R.selectAll(".nv-noData").remove();else{var Q=R.selectAll(".nv-noData").data([M]);Q.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");Q.attr("x",p.left+J/2).attr("y",p.top+O/2).text(function(a){return a});return a}Q=b.y()(A[A.length-1],A.length-1);f=b.xScale();k=b.yScale();var P=R.selectAll("g.nv-wrap.nv-sparklineplus").data([A]),R=P.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),w=P.select("g");
R.append("g").attr("class","nv-sparklineWrap");R.append("g").attr("class","nv-valueWrap");R.append("g").attr("class","nv-hoverArea");P.attr("transform","translate("+p.left+","+p.top+")");P=w.select(".nv-sparklineWrap");b.width(J).height(O);P.call(b);P=w.select(".nv-valueWrap").selectAll(".nv-currentValue").data([Q]);P.enter().append("text").attr("class","nv-currentValue").attr("dx",E?-8:8).attr("dy",".9em").style("text-anchor",E?"end":"start");P.attr("x",J+(E?p.right:0)).attr("y",K?function(a){return k(a)}:
0).style("fill",b.color()(A[A.length-1],A.length-1)).text(H(Q));R.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!t){for(var a=d3.mouse(this)[0]-p.left,a=Math.round(f.invert(a)),k=Math.abs(b.x()(A[0],0)-a),n=0,r=0;r<A.length;r++)Math.abs(b.x()(A[r],r)-a)<k&&(k=Math.abs(b.x()(A[r],r)-a),n=r);y=[n];F()}}).on("click",function(){t=!t}).on("mouseout",function(){y=[];F()});w.select(".nv-hoverArea rect").attr("transform",function(a){return"translate("+-p.left+","+-p.top+")"}).attr("width",
J+p.left+p.right).attr("height",O+p.top)});return a}var b=n.models.sparkline(),p={top:15,right:100,bottom:10,left:50},r=null,v=null,f,k,y=[],t=!1,N=d3.format(",r"),H=d3.format(",.2f"),F=!0,K=!0,E=!1,M="No Data Available.";a.sparkline=b;d3.rebind(a,b,"x","y","xScale","yScale","color");a.options=n.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return p;p.top="undefined"!=typeof b.top?b.top:p.top;p.right="undefined"!=typeof b.right?b.right:p.right;p.bottom="undefined"!=typeof b.bottom?
b.bottom:p.bottom;p.left="undefined"!=typeof b.left?b.left:p.left;return a};a.width=function(b){if(!arguments.length)return r;r=b;return a};a.height=function(b){if(!arguments.length)return v;v=b;return a};a.xTickFormat=function(b){if(!arguments.length)return N;N=b;return a};a.yTickFormat=function(b){if(!arguments.length)return H;H=b;return a};a.showValue=function(b){if(!arguments.length)return F;F=b;return a};a.alignValue=function(b){if(!arguments.length)return K;K=b;return a};a.rightAlignValue=function(b){if(!arguments.length)return E;
E=b;return a};a.noData=function(b){if(!arguments.length)return M;M=b;return a};return a};n.models.stackedArea=function(){function a(n){n.each(function(n){var t=p-b.left-b.right,T=r-b.top-b.bottom,Q=d3.select(this);E=U.xScale();M=U.yScale();var P=n;n.forEach(function(a,b){a.seriesIndex=b;a.values=a.values.map(function(a,f){a.index=f;a.seriesIndex=b;return a})});n=n.filter(function(a){return!a.disabled});n=d3.layout.stack().order(H).offset(N).values(function(a){return a.values}).x(k).y(y).out(function(a,
b,f){f=0===y(a)?0:f;a.display={y:f,y0:b}})(n);var Q=Q.selectAll("g.nv-wrap.nv-stackedarea").data([n]),w=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),C=w.append("defs"),w=w.append("g"),D=Q.select("g");w.append("g").attr("class","nv-areaWrap");w.append("g").attr("class","nv-scatterWrap");Q.attr("transform","translate("+b.left+","+b.top+")");U.width(t).height(T).x(k).y(function(a){return a.display.y+a.display.y0}).forceY([0]).color(n.map(function(a,b){return a.color||v(a,a.seriesIndex)}));
D.select(".nv-scatterWrap").datum(n).call(U);C.append("clipPath").attr("id","nv-edge-clip-"+f).append("rect");Q.select("#nv-edge-clip-"+f+" rect").attr("width",t).attr("height",T);D.attr("clip-path",K?"url(#nv-edge-clip-"+f+")":"");var z=d3.svg.area().x(function(a,b){return E(k(a,b))}).y0(function(a){return M(a.display.y0)}).y1(function(a){return M(a.display.y+a.display.y0)}).interpolate(F),S=d3.svg.area().x(function(a,b){return E(k(a,b))}).y0(function(a){return M(a.display.y0)}).y1(function(a){return M(a.display.y0)}),
t=D.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});t.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a,b){return S(a.values,a.seriesIndex)}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0);A.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);A.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,
d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a,b){d3.select(this).classed("hover",!1);A.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})});t.exit().remove();t.style("fill",function(a,b){return a.color||v(a,a.seriesIndex)}).style("stroke",function(a,b){return a.color||v(a,a.seriesIndex)});t.transition().attr("d",function(a,b){return z(a.values,b)});U.dispatch.on("elementMouseover.area",function(a){D.select(".nv-chart-"+f+" .nv-area-"+
a.seriesIndex).classed("hover",!0)});U.dispatch.on("elementMouseout.area",function(a){D.select(".nv-chart-"+f+" .nv-area-"+a.seriesIndex).classed("hover",!1)});a.d3_stackedOffset_stackPercent=function(a){var b=a.length,f=a[0].length,k=1/b,p,l,n,r=[];for(l=0;l<f;++l){for(n=p=0;p<P.length;p++)n+=y(P[p].values[l]);if(n)for(p=0;p<b;p++)a[p][l][1]/=n;else for(p=0;p<b;p++)a[p][l][1]=k}for(l=0;l<f;++l)r[l]=0;return r}});return a}var b={top:0,right:0,bottom:0,left:0},p=960,r=500,v=n.utils.defaultColor(),
f=Math.floor(1E5*Math.random()),k=function(a){return a.x},y=function(a){return a.y},t="stack",N="zero",H="default",F="linear",K=!1,E,M,U=n.models.scatter(),A=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");U.size(2.2).sizeDomain([2.2,2.2]);U.dispatch.on("elementClick.area",function(a){A.areaClick(a)});U.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];A.tooltipShow(a)});U.dispatch.on("elementMouseout.tooltip",function(a){A.tooltipHide(a)});
a.dispatch=A;a.scatter=U;d3.rebind(a,U,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights");a.options=n.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return k;k=d3.functor(b);return a};a.y=function(b){if(!arguments.length)return y;y=d3.functor(b);return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?
f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return p;p=b;return a};a.height=function(b){if(!arguments.length)return r;r=b;return a};a.clipEdge=function(b){if(!arguments.length)return K;K=b;return a};a.color=function(b){if(!arguments.length)return v;v=n.utils.getColor(b);return a};a.offset=function(b){if(!arguments.length)return N;
N=b;return a};a.order=function(b){if(!arguments.length)return H;H=b;return a};a.style=function(b){if(!arguments.length)return t;t=b;switch(t){case "stack":a.offset("zero");a.order("default");break;case "stream":a.offset("wiggle");a.order("inside-out");break;case "stream-center":a.offset("silhouette");a.order("inside-out");break;case "expand":a.offset("expand");a.order("default");break;case "stack_percent":a.offset(a.d3_stackedOffset_stackPercent),a.order("default")}return a};a.interpolate=function(b){if(!arguments.length)return F;
F=b;return a};return a};n.models.stackedAreaChart=function(){function a(G){G.each(function(G){var X=d3.select(this),l=this,u=(t||parseInt(X.style("width"))||960)-y.left-y.right,da=(N||parseInt(X.style("height"))||400)-y.top-y.bottom;a.update=function(){X.transition().duration(W).call(a)};a.container=this;P.disabled=G.map(function(a){return!!a.disabled});if(!w){var ia;w={};for(ia in P)w[ia]=P[ia]instanceof Array?P[ia].slice(0):P[ia]}if(G&&G.length&&G.filter(function(a){return a.values.length}).length)X.selectAll(".nv-noData").remove();
else return ia=X.selectAll(".nv-noData").data([C]),ia.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ia.attr("x",y.left+u/2).attr("y",y.top+da/2).text(function(a){return a}),a;J=b.xScale();O=b.yScale();ia=X.selectAll("g.nv-wrap.nv-stackedAreaChart").data([G]);var ga=ia.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),Y=ia.select("g");ga.append("rect").style("opacity",0);ga.append("g").attr("class","nv-x nv-axis");
ga.append("g").attr("class","nv-y nv-axis");ga.append("g").attr("class","nv-stackedWrap");ga.append("g").attr("class","nv-legendWrap");ga.append("g").attr("class","nv-controlsWrap");ga.append("g").attr("class","nv-interactive");Y.select("rect").attr("width",u).attr("height",da);K&&(ga=F?u-z:u,v.width(ga),Y.select(".nv-legendWrap").datum(G).call(v),y.top!=v.height()&&(y.top=v.height(),da=(N||parseInt(X.style("height"))||400)-y.top-y.bottom),Y.select(".nv-legendWrap").attr("transform","translate("+
(u-ga)+","+-y.top+")"));if(F){var ea=[{key:V.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=b.style(),style:"stack"},{key:V.stream||"Stream",metaKey:"Stream",disabled:"stream"!=b.style(),style:"stream"},{key:V.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=b.style(),style:"expand"},{key:V.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=b.style(),style:"stack_percent"}];z=S.length/3*260;ea=ea.filter(function(a){return-1!==S.indexOf(a.metaKey)});f.width(z).color(["#444",
"#444","#444"]);Y.select(".nv-controlsWrap").datum(ea).call(f);y.top!=Math.max(f.height(),v.height())&&(y.top=Math.max(f.height(),v.height()),da=(N||parseInt(X.style("height"))||400)-y.top-y.bottom);Y.select(".nv-controlsWrap").attr("transform","translate(0,"+-y.top+")")}ia.attr("transform","translate("+y.left+","+y.top+")");U&&Y.select(".nv-y.nv-axis").attr("transform","translate("+u+",0)");A&&(k.width(u).height(da).margin({left:y.left,top:y.top}).svgContainer(X).xScale(J),ia.select(".nv-interactive").call(k));
b.width(u).height(da);Y.select(".nv-stackedWrap").datum(G).transition().call(b);E&&(p.scale(J).ticks(u/100).tickSize(-da,0),Y.select(".nv-x.nv-axis").attr("transform","translate(0,"+da+")"),Y.select(".nv-x.nv-axis").transition().duration(0).call(p));M&&(r.scale(O).ticks("wiggle"==b.offset()?0:da/36).tickSize(-u,0).setTickFormat("expand"==b.style()||"stack_percent"==b.style()?d3.format("%"):Q),Y.select(".nv-y.nv-axis").transition().duration(0).call(r));b.dispatch.on("areaClick.toggle",function(b){1===
G.filter(function(a){return!a.disabled}).length?G.forEach(function(a){a.disabled=!1}):G.forEach(function(a,f){a.disabled=f!=b.seriesIndex});P.disabled=G.map(function(a){return!!a.disabled});D.stateChange(P);a.update()});v.dispatch.on("stateChange",function(b){P.disabled=b.disabled;D.stateChange(P);a.update()});f.dispatch.on("legendClick",function(f,k){f.disabled&&(ea=ea.map(function(a){a.disabled=!0;return a}),f.disabled=!1,b.style(f.style),P.style=b.style(),D.stateChange(P),a.update())});k.dispatch.on("elementMousemove",
function(f){b.clearHighlights();var t,v,u,w=[];G.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(k,l){v=n.interactiveBisect(k.values,f.pointXValue,a.x());b.highlightPoint(l,v,!0);var p=k.values[v];if("undefined"!==typeof p){"undefined"===typeof t&&(t=p);"undefined"===typeof u&&(u=a.xScale()(a.x()(p,v)));var r="expand"==b.style()?p.display.y:a.y()(p,v);w.push({key:k.key,value:r,color:H(k,k.seriesIndex),stackedValue:p.display})}});w.reverse();if(2<w.length){var z=a.yScale().invert(f.mouseY),
A=null;w.forEach(function(a,b){z=Math.abs(z);var f=Math.abs(a.stackedValue.y0),k=Math.abs(a.stackedValue.y);z>=f&&z<=k+f&&(A=b)});null!=A&&(w[A].highlight=!0)}var C=p.tickFormat()(a.x()(t,v)),D="expand"==b.style()?function(a,b){return d3.format(".1%")(a)}:function(a,b){return r.tickFormat()(a)};k.tooltip.position({left:u+y.left,top:f.mouseY+y.top}).chartContainer(l.parentNode).enabled(T).valueFormatter(D).data({value:C,series:w})();k.renderGuideLine(u)});k.dispatch.on("elementMouseout",function(a){D.tooltipHide();
b.clearHighlights()});D.on("tooltipShow",function(f){if(T){var k=l.parentNode,t=f.pos[0]+(k.offsetLeft||0),v=f.pos[1]+(k.offsetTop||0),u=p.tickFormat()(b.x()(f.point,f.pointIndex)),w=r.tickFormat()(b.y()(f.point,f.pointIndex)),u=R(f.series.key,u,w,f,a);n.tooltip.show([t,v],u,0>f.value?"n":"s",null,k)}});D.on("changeState",function(f){"undefined"!==typeof f.disabled&&G.length===f.disabled.length&&(G.forEach(function(a,b){a.disabled=f.disabled[b]}),P.disabled=f.disabled);"undefined"!==typeof f.style&&
b.style(f.style);a.update()})});return a}var b=n.models.stackedArea(),p=n.models.axis(),r=n.models.axis(),v=n.models.legend(),f=n.models.legend(),k=n.interactiveGuideline(),y={top:30,right:25,bottom:50,left:60},t=null,N=null,H=n.utils.defaultColor(),F=!0,K=!0,E=!0,M=!0,U=!1,A=!1,T=!0,R=function(a,b,f,k,p){return"<h3>"+a+"</h3><p>"+f+" on "+b+"</p>"},J,O,Q=d3.format(",.2f"),P={style:b.style()},w=null,C="No Data Available.",D=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),z=250,
S=["Stacked","Stream","Expanded"],V={},W=250;p.orient("bottom").tickPadding(7);r.orient(U?"right":"left");f.updateState(!1);b.dispatch.on("tooltipShow",function(a){a.pos=[a.pos[0]+y.left,a.pos[1]+y.top];D.tooltipShow(a)});b.dispatch.on("tooltipHide",function(a){D.tooltipHide(a)});D.on("tooltipHide",function(){T&&n.tooltip.cleanup()});a.dispatch=D;a.stacked=b;a.legend=v;a.controls=f;a.xAxis=p;a.yAxis=r;a.interactiveLayer=k;d3.rebind(a,b,"x","y","size","xScale","yScale","xDomain","yDomain","xRange",
"yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate");a.options=n.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return y;y.top="undefined"!=typeof b.top?b.top:y.top;y.right="undefined"!=typeof b.right?b.right:y.right;y.bottom="undefined"!=typeof b.bottom?b.bottom:y.bottom;y.left="undefined"!=typeof b.left?b.left:y.left;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};a.height=
function(b){if(!arguments.length)return N;N=b;return a};a.color=function(f){if(!arguments.length)return H;H=n.utils.getColor(f);v.color(H);b.color(H);return a};a.showControls=function(b){if(!arguments.length)return F;F=b;return a};a.showLegend=function(b){if(!arguments.length)return K;K=b;return a};a.showXAxis=function(b){if(!arguments.length)return E;E=b;return a};a.showYAxis=function(b){if(!arguments.length)return M;M=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return U;U=b;r.orient(b?
"right":"left");return a};a.useInteractiveGuideline=function(b){if(!arguments.length)return A;A=b;!0===b&&(a.interactive(!1),a.useVoronoi(!1));return a};a.tooltip=function(b){if(!arguments.length)return R;R=b;return a};a.tooltips=function(b){if(!arguments.length)return T;T=b;return a};a.tooltipContent=function(b){if(!arguments.length)return R;R=b;return a};a.state=function(b){if(!arguments.length)return P;P=b;return a};a.defaultState=function(b){if(!arguments.length)return w;w=b;return a};a.noData=
function(b){if(!arguments.length)return C;C=b;return a};a.transitionDuration=function(b){if(!arguments.length)return W;W=b;return a};a.controlsData=function(b){if(!arguments.length)return S;S=b;return a};a.controlLabels=function(b){if(!arguments.length||"object"!==typeof b)return V;V=b;return a};r.setTickFormat=r.tickFormat;r.tickFormat=function(a){if(!arguments.length)return Q;Q=a;return r};return a}})();return sa.nv=nv}.apply(sa,arguments)})})(this);
define("views/chart-view","d3 jquery nvd3 underscore utils/utils views/attribute-listener-view".split(" "),function(sa,ib,n,a,b,p){return p.extend({defaults:a.extend({},p.prototype.defaults,{displayExplicitTicksThreshold:11,excludeData:[],dataType:"int",xAxisMargin:6,graphShiftSelector:null,truncateXTicks:!1}),initialize:function(b){p.prototype.initialize.call(this,b);this.chart=null;this.options=a.extend({},this.defaults,b);a.bindAll(this,"truncateXTick","formatXTick");this.renderIfDataAvailable()},
assembleTrendData:function(){var b=this,p=b.model.get(b.options.modelAttribute),f=b.options.trends;0<b.options.excludeData.length&&(p=a(p).reject(function(f){return a(b.options.excludeData).contains(f[b.options.x.key])}));return a(f).map(function(f){return{values:a(p).map(function(p){var n=a(p).clone();n[b.options.y.key]=p[f.key||b.options.y.key];n[b.options.x.key]=p[b.options.x.key];return n}),key:f.title,color:f.color||void 0}})},buildXLabelMapping:function(){var b=this.model.get(this.options.modelAttribute),
p;a(this.options.x).has("displayKey")&&(p=a.object(a(b).pluck(this.options.x.key),a(b).pluck(this.options.x.displayKey)));return p},styleChart:function(){var a=sa.select(this.el),b=this.options.xAxisMargin,f,k;a.select(".nv-x.nv-axis").insert("rect","g").attr("transform","translate(-60, 0)").attr("class","x-axis-background").attr("height","21px").attr("width","100%");a.select(".nv-y path.domain").remove();a.selectAll(".nvd3 .nv-axis line").remove();f=a.select(".nvd3 .nv-axis.nv-x");k=/translate\((\d+)[,\s]\s*(\d+)\)/g.exec(f.attr("transform"));
f.attr("transform","translate("+k[1]+","+(parseInt(k[2],10)+b)+")");this.options.graphShiftSelector&&a.select(this.options.graphShiftSelector).attr("transform","translate("+[0,b].join()+")")},getChart:function(){throw"Not implemented";},formatXTick:function(b){var p=b;a(this).has("xLabelMapping")&&a(this.xLabelMapping).has(b)&&(p=this.xLabelMapping[b]);return p},truncateXTick:function(a){throw"Not implemented";},parseXData:function(a){return a[this.options.x.key]},getExplicitXTicks:function(b){var p=
this;return a(b[0].values).map(function(a){return p.parseXData(a)})},initChart:function(a){var b=this;a.margin({top:b.options.xAxisMargin}).height(300).forceY(0).x(function(a){return b.parseXData(a)}).y(function(a){return a[b.options.y.key]})},getYAxisFormat:function(){var a=sa.format("f");"percent"===this.options.dataType?a=sa.format(".1%"):"decimal"===this.options.dataType&&(a=sa.format(".1f"));return a},hoverTooltipTemplate:a.template('<table class="nv-pointer-events-none"><thead><tr class="nv-pointer-events-none"><td class="nv-pointer-events-none" colspan="3"><strong class="x-value"><%=xValue%></strong></td></tr></thead><tbody><% _.each(tips, function(tip) { %><tr class="nv-pointer-events-none"><td class="legend-color-guide nv-pointer-events-none"><div class="nv-pointer-events-none" style="background-color: <%=tip.color%>;"></div></td><td class="key nv-pointer-events-none"><%=tip.label%></td><td class="value nv-pointer-events-none"><%=tip.value%></td></tr><% }); %></tbody></table>'),
addChartClick:function(a){throw"Not implemented";},render:function(){p.prototype.render.call(this);var r=this,v=sa.select(r.el),f=r.assembleTrendData(),k=r.buildXLabelMapping();r.xLabelMapping=k;r.chart=r.getChart();r.initChart(r.chart);a(r.options).isUndefined("displayExplicitTicksThreshold")||r.model.get(r.options.modelAttribute).length<r.options.displayExplicitTicksThreshold&&r.chart.xAxis.tickValues(r.getExplicitXTicks(f));r.chart.xAxis.tickFormat(r.options.truncateXTicks?r.truncateXTick:r.formatXTick);
r.chart.yAxis.showMaxMin(!1).tickFormat(b.localizeNumber);r.chart.yAxis.tickFormat(r.getYAxisFormat());v.append("svg").datum(f).call(r.chart);r.styleChart();n.utils.windowResize(function(){r.chart.update();r.styleChart()});a(r.options.click).isFunction()&&r.addChartClick();return r}})});
define("views/bar-view",["d3","nvd3","underscore","utils/utils","views/chart-view"],function(sa,ib,n,a,b){return b.extend({defaults:n.extend({},b.prototype.defaults,{graphShiftSelector:".nv-barsWrap",tipCharLimit:250,barSelector:".nv-bar"}),formatXValue:function(a){var r=this.options.trends[0].maxNumber;a=b.prototype.formatXTick.call(this,a);n(r).isUndefined()||(a=a>=r?r+"+":a);return a},truncateXTick:function(b){b=this.formatXValue(b);var r=sa.select(this.options.barSelector).attr("width"),r=Math.floor(r/
6),v=b;3>r?v="":n(v).size()>r&&(v=a.truncateText(b,r));return v},addChartClick:function(){var a=this;sa.selectAll("rect.nv-bar").style("cursor","pointer").on("click",function(b){a.options.click(b)})},buildTrendTip:function(a,b,v,f){var k=a.color,y=a.title,k=n(k).isFunction()?a.color(b,f.pointIndex):a.color,y=n(y).isFunction()?a.title(f.pointIndex):a.title;n(this.options).has("interactiveTooltipValueTemplate")&&(v=this.options.interactiveTooltipValueTemplate({value:v,point:f.point,options:a}));return{label:y,
color:k,value:v}},buildTipHeading:function(b){b=this.formatXValue(b[this.options.x.key]);var r=this.options.tipCharLimit;n(this.options).has("interactiveTooltipHeaderTemplate")&&(n(this.options).has("tipCharLimit")&&n(b).size()>r&&(b=a.truncateText(b,r)),b=this.options.interactiveTooltipHeaderTemplate({value:b}));return b},initChart:function(a){var n=this;b.prototype.initChart.call(n,a);a.tooltipContent(function(a,b,k,p){a=[n.buildTrendTip(n.options.trends[p.seriesIndex],b,k,p)];return n.hoverTooltipTemplate({xValue:n.buildTipHeading(p.point),
tips:a})})}})});
define("views/discrete-bar-view",["d3","nvd3","underscore","utils/utils","views/bar-view"],function(sa,ib,n,a,b){return b.extend({defaults:n.extend({},b.prototype.defaults,{displayExplicitTicksThreshold:void 0,barSelector:".discreteBar"}),formatXValue:function(a){a=b.prototype.formatXValue.call(this,a);return n(a).isNull()?gettext("(empty)"):a},getChart:function(){return ib.models.discreteBarChart()},initChart:function(a){b.prototype.initChart.call(this,a);n(this.options.trends[0]).has("color")&&(n(this.options.trends[0].color).isFunction()?
a.color(this.options.trends[0].color):a.color([this.options.trends[0].color]))}})});
define("views/stacked-bar-view",["d3","nvd3","underscore","views/discrete-bar-view"],function(sa,ib,n,a){return a.extend({defaults:n.extend({},a.prototype.defaults,{barSelector:".nv-bar",truncateXTicks:!0,interactiveTooltipValueTemplate:function(a){return n.template(gettext("<%=value%> (<%=percent%>)"))({value:a.value,percent:sa.format(".1%")(a.point[a.options.percent_key])})},click:function(a){n(a).has("url")&&(document.location.href=a.url)},x:{key:"id",displayKey:"name"},y:{key:"count"}}),getChart:function(){return ib.models.multiBarChart()},
initChart:function(b){var p=this;a.prototype.initChart.call(p,b);b.stacked(!0).showControls(!1).showLegend(!1).reduceXTicks(!1);b.tooltipContent(function(a,b,f,k){var y=[];n(p.options.trends).each(function(a){var f=p.getYAxisFormat()(k.point[a.key]);y.push(p.buildTrendTip(a,b,f,k))});return p.hoverTooltipTemplate({xValue:p.buildTipHeading(k.point),tips:y})})}})});
require(["vendor/domReady!","load/init-page"],function(sa,ib){require(["d3","underscore","views/data-table-view","views/stacked-bar-view"],function(n,a,b,p){n=ib.models.courseModel;a=[{key:"average_correct_submissions",percent_key:"correct_percent",title:gettext("Average Correct"),className:"text-right",type:"number",fractionDigits:1,color:"#4BB4FB"},{key:"average_incorrect_submissions",percent_key:"incorrect_percent",title:gettext("Average Incorrect"),className:"text-right",type:"number",fractionDigits:1,
color:"#CA0061"}];var r=[{key:"index",title:gettext("Order"),type:"number",className:"text-right"},{key:"name",title:n.get("contentTableHeading"),type:"hasNull"},{key:"num_modules",title:gettext("Problems"),type:"number",className:"text-right"}],r=r.concat(a);r.push({key:"average_submissions",title:gettext("Average Submissions Per Problem"),className:"text-right",type:"number",fractionDigits:1,color:"#4BB4FB"});r.push({key:"correct_percent",title:gettext("Percentage Correct"),className:"text-right",
type:"percent"});n.get("hasData")&&new p({el:"#chart-view",model:n,modelAttribute:"primaryContent",dataType:"decimal",trends:a});new b({el:"[data-role=data-table]",model:n,modelAttribute:"primaryContent",columns:r,sorting:["index"],replaceZero:"-"})})});define("js/performance-content-main",function(){});
